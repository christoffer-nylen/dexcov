<!DOCTYPE html>
<html lang="en">
<head><meta content="text/html;charset=UTF-8" http-equiv="Content-Type" /><style>
body {font-family: monospace; font-size: 14px;}
.stat_tbl      {border-collapse:collapse; border-spacing: 0;border-style: solid;border-width:1px;}
.stat_tbl    td{border-style: none;}
.overlap_tbl   {border-collapse:collapse;border-spacing:0;}
.overlap_tbl td{font-family:Arial, sans-serif;font-size:14px;padding:10px 5px;border-style:solid;border-width:1px;overflow:hidden;word-break:normal;border-color:black;}
.overlap_tbl th{font-family:Arial, sans-serif;font-size:14px;font-weight:normal;padding:10px 5px;border-style:solid;border-width:1px;overflow:hidden;word-break:normal;border-color:black;}
.overlap_tbl .tg-g59y{font-weight:bold;background-color:#ffce93;border-color:#000000;text-align:left;vertical-align:top; cursor: pointer;}
.overlap_tbl .tg-0lax{text-align:left;vertical-align:top}
.overlap_tbl .tg-0lax_dark{background-color: lightgrey;text-align:left;vertical-align:top}

.vertical_tbl   {border-collapse:collapse;border-spacing:0;}
.vertical_tbl:before { content:''; padding-top:110%;/* takes width as reference, + 10% for faking some extra padding */ display:inline-block; vertical-align:middle; }
.vertical_tbl td{font-family:Arial, sans-serif;font-size:14px;padding:10px 5px;border-style:solid;border-width:1px;overflow:hidden;word-break:normal;border-color:black;}
.vertical_tbl th{font-family:Arial, sans-serif;font-size:14px;font-weight:normal;padding:10px 5px;border-style:solid;border-width:1px;overflow:hidden;word-break:normal;border-color:black;}
.vertical_tbl .tg{ font-weight:bold;background-color:#ffce93;border-color:#000000;text-align:left;vertical-align:top;text-align:center; white-space:nowrap; transform-origin:50% 50%; -webkit-transform: rotate(90deg); -moz-transform: rotate(90deg); -ms-transform: rotate(90deg); -o-transform: rotate(90deg); transform: rotate(90deg); }

.diff_del {background-color: lightpink;}
.diff_add {background-color: lightgreen;}

.tbl_header {
    cursor: pointer;
}
i {
    border: solid black;
    border-width: 0 3px 3px 0;
    display: inline-block;
    padding: 3px;
}

.right {
    transform: rotate(-45deg);
    -webkit-transform: rotate(-45deg);
}

.left {
    transform: rotate(135deg);
    -webkit-transform: rotate(135deg);
}

.up {
    transform: rotate(-135deg);
    -webkit-transform: rotate(-135deg);
}

.down {
    transform: rotate(45deg);
    -webkit-transform: rotate(45deg);
}
</style><title>programs_lz4io.c</title><style>


.mutant {display:none; background-color: yellow;}
.status_alive {background-color: lightpink;}
.status_noCoverage {background-color: lightpink;}
.status_killed {background-color: lightgreen;}
.status_killedByCompiler {background-color: #eeeeee;}
.status_timeout {background-color: lightgreen;}
.status_unknown {background-color: lightyellow;}
.hover_alive {color: lightpink;}
.hover_noCoverage {color: lightpink;}
.hover_killed {color: lightgreen;}
.hover_killedByCompiler {color: #eeeeee;}
.hover_timeout {color: lightgreen;}
.hover_unknown {color: lightyellow;}
.literal {color: darkred;}
.keyword {color: blue;}
.comment {color: grey;}
.line_nr {color: grey;}
#mousehover {
    background: grey;
    border-radius: 8px;
    -moz-border-radius: 8px;
    padding: 5px;
    display: none;
    position: absolute;
    background: #2e3639;
    color: #fff;
}
span.xx_label {
    font-weight: bold;
}
#info_wrapper {
    position: absolute;
    width: 99%;
}
#info {
    position: absolute;
    top: 0;
    width: 300px;
    background: grey;
    border-radius: 0px 0px 0px 10px;
    -moz-border-radius: 10px;
    padding: 5px;
    border: 1px solid;
    opacity:0.9;

    background: #2e3639;
}
#info.fixed {
    position: fixed;
}
#info span {
    font-size: 80%;
    color: #fff;
    font-family: sans-serif;
}
#info select {
    width: 150px;
}
#info_line {
    background: #2e3639;
    color: #eeeeee;
}
.loc {
    display: table-cell;
    vertical-align: inherit;
    background: #ffffff;
    width: 100%;
}
.loc_selected {
    background: #cecece;
}
#filter_wrapper {
    display: block;
}
#filter_wrapper table {
    background: #394347;
    display: block
}
#filter_wrapper table tr{
    display: block;
}
#filter_wrapper table td {
    background : #445055;
    display: block;
    margin-top: 3px;
    margin-bottom: 3px;
}
.filter_title {
    color: #ffffff;
    font-family: sans-serif;
}
#filter_wrapper thead, tbody { display: block; }

#filter_wrapper tbody {
    width: 100%;
    height: 135px;
    overflow-y: auto;
    overflow-x: hidden;
}
#testcases thead, tbody { display: block; }
#testcases tbody {
    width: 100%;
    height: 135px;
    overflow-y: auto;
    overflow-x: hidden;
}
#testcases {
    height: 135px;
    background: #394347;
    display: block
}
#testcases tr{
    background : #445055;
    display: block;
    margin-top: 3px;
    margin-bottom: 3px;
    padding: 2px;
}

#info_table {
    width: 100%;
}
#locs {
    display: block;
    width: max-content;
}
#locs  tr{
    display: block;
}

#locs td {
    display: block;
}
</style><script>/**
Copyright: Copyright (c) 2018, Joakim Brännström. All rights reserved.
License: MPL-2
Author: Joakim Brännström (joakim.brannstrom@gmx.com)

This Source Code Form is subject to the terms of the Mozilla Public License,
v.2.0. If a copy of the MPL was not distributed with this file, You can obtain
one at http://mozilla.org/MPL/2.0/.
*/

const LOC_TRAVERSE_LOOP = true;
const MUT_TRAVERSE_NEXT_LOC = true;
const LOC_SCROLL_TO_ON_TRAVERSE = true;

var g_displayed_testcases = 10; //Number of testcases displayed in the info line
var g_show_mutant = true;
var g_active_mutid = 0;
var g_active_locid = null;
var g_loc_mutids = {};
var g_filter_kinds = [];
var g_filter_status = [];

var key_traverse_locs_up = 'ArrowUp';
var key_traverse_locs_down = 'ArrowDown';
var key_traverse_muts_up = 'ArrowLeft';
var key_traverse_muts_down = 'ArrowRight';
var key_toggle_show_mutant = 'Numpad0';


/**
 * Initializes event listeners, data and intial state
 */
function init() {
    var current_mutant_selector = document.getElementById('current_mutant');
    var num_testcases = document.getElementById("num_testcases");
    current_mutant_selector.addEventListener('change',
        function(e) { current_mutant_onchange(e); });
    num_testcases.addEventListener('change',
        function(e) { on_num_testcases_change(e); });
    window.addEventListener('resize',
        on_window_resize);
    window.addEventListener('keydown',
        function(e) { on_keyboard_input(e); });
    g_displayed_testcases = num_testcases.value;
    num_testcases.max = MAX_NUM_TESTCASES;
    init_legend();
    on_window_resize();
    var locs_table = document.getElementById("locs");
    var locs = document.getElementsByClassName('loc');
    for (var i=0; i<locs.length; i++){
        locs[i].addEventListener('wheel',
            function(e) { on_loc_wheel(e); });
        locs[i].addEventListener('click',
            function(e) { on_loc_click(e); });

        // Get all mutant ids in the loc.
        muts = locs[i].getElementsByClassName('mutant');
        g_loc_mutids[locs[i].id] = [];
        for (var j=0; j<muts.length; j++) {
            g_loc_mutids[locs[i].id].push(muts[j].id);
        }
    }
    select_loc(locs[0].id);
    //Select loc or mutant by hash
    var mutid = -1;
    var hash = window.location.hash.substring(1);
    if (document.getElementById(hash)) {
        if (document.getElementById(hash).classList.contains('mutant')) {
            mutid = hash;
            set_active_mutant(mutid);
            highlight_mutant(mutid);
            select_loc(get_closest_loc(document.getElementById(mutid)).id, true);
        } else if (document.getElementById(hash).classList.contains('loc')) {
            select_loc(hash, true);
        }
    }
    click_show_legend();
    click_show_mutant();
    init_filter_kind();
    init_filter_status();
    document.body.focus();
}
/**
 * Toggles whether to show the legend or not
 */
function click_show_legend() {
    var show_legend = document.getElementById("show_legend").checked;
    var legend = document.getElementById("legend_box");
    if (show_legend) {
        legend.style.display = "inline";
    } else {
        legend.style.display = "none";
    }
}
function on_num_testcases_change(e) {
    num_testcases = e.target;
    if (num_testcases.value != g_displayed_testcases) {
        g_displayed_testcases = num_testcases.value;
        set_info_line(g_active_mutid);
    }
}
/**
 * Manages all keyboard bindings
 * @param {event} e the captured keyboard event
 */
function on_keyboard_input(e) {
    switch (e.code) {
        case key_traverse_locs_down:
            e.preventDefault();
            traverse_locs(1);
            break;
        case key_traverse_locs_up:
            e.preventDefault();
            traverse_locs(-1);
            break;
        case key_traverse_muts_down:
            traverse_mutants(1);
            break;
        case key_traverse_muts_up:
            traverse_mutants(-1);
            break;
        case key_toggle_show_mutant:
            document.getElementById("show_mutant").checked = !document.getElementById("show_mutant").checked
            click_show_mutant();
    }
    return;
}
/**
 * Traverses mutants if a scroll event is captured in the selected loc
 * @param {event} e the captured scrool event
 */
function on_loc_wheel(e) {
    var loc = get_closest_loc(e.target);
    if(loc.id === g_active_locid) {
        e.preventDefault();
        traverse_mutants(e.deltaY);
    }
    return;
}
/**
 * Selects a loc when any element within it captures a click event.
 * @param {event} e the captured click event
 */
function on_loc_click(e) {
    if (!e.target.classList.contains("loc") && e.target.onclick != null)
        return;
    var loc = get_closest_loc(e.target);
    if (loc) {
        select_loc(loc.id);
    } else {
        select_loc(g_active_locid);
    }
    return;
}
/**
 * Selects the loc with the given id.
 * @param {id} loc_id the id of the loc to select
 * @param {boolean} pure false if active mutant and mutation options are to be cleared.
 */
function select_loc(loc_id, pure) {
    locs = document.getElementsByClassName('loc');
    if(g_active_locid){
        document.getElementById(g_active_locid).classList.toggle("loc_selected");
        remove_info_line();
    }
    loc = document.getElementById(loc_id);
    g_active_locid = loc.id;
    loc.classList.toggle("loc_selected");
    if(!pure) {
        set_active_mutant(-1);
        deactivate_mutants();
        clear_mutation_options();
    }
    show_info_line();
    set_mutation_options(g_active_locid);
}
function show_info_line() {
    if (!document.getElementById(g_active_locid).getElementsByClassName("mutant").length)
        return;
    var loc_table = document.getElementById("locs");
    var line = g_active_locid.split('-',2)[1];
    var info_row = loc_table.insertRow(line);

    info_row.innerHTML = `
    <td id='info_line'>
    <table id='info_table'>
        <tr id="loc_muts_info"></tr>
        <tr>
            <td><table id="testcases" ></table</td>
        </tr>
    </table>
    </td>
    `;
    set_info_line(g_active_mutid);
}
function remove_info_line() {
    if (!document.getElementById("info_line"))
        return;
    var line = g_active_locid.split('-',2)[1];
    document.getElementById("locs").deleteRow(line);
}
function set_info_line(mutid) {
    if (!document.getElementById(g_active_locid).getElementsByClassName("mutant").length)
        return;

    var testcases = document.getElementById("testcases");
    document.getElementById("loc_muts_info").innerHTML = make_td(make_kind_status_info(g_active_locid, mutid));
    var tcs = g_muts_data[mutid].testCases
    if (!tcs) {
        while(testcases.rows.length > 0) {
            testcases.deleteRow(-1);
        }
        return;
    }
    while(testcases.rows.length > Math.min(g_displayed_testcases, tcs.length)) {
        testcases.deleteRow(-1);
    }
    for (var i = 0; i < Math.min(g_displayed_testcases, tcs.length); i++) {
        var id = "tc" + parseInt(i+1);
        var row = document.getElementById(id)
        if (!row) {
            row = testcases.insertRow(i);
            row.id = id;
        }
        var test_case = tcs[i];
        if (test_case) {
            row.innerHTML = make_td(test_case + ": "+g_testcases_kills[test_case]);
        }
    }
}
function make_td(html, id) {
    if(!id)
        return "<td>"+html+"</td>";
    return "<td id='"+id+"'>"+html+"</td>";
}
function make_kind_status_info(locid, curr_mutid) {
    if (curr_mutid == -1) {
        return "<span>No active mutant</span>";
    }
    var mutids = g_loc_mutids[locid];
    var html ="";
    for (var i=0; i<mutids.length; i++) {
        var mutid = mutids[i];
        var mut = g_muts_data[mutid];
        if (!g_filter_kinds.includes(mut.kindGroup) &&
            !g_filter_status.includes(mut.status))
        {
            if (mutids[i]==curr_mutid)
                html+=`<span class="hover_`+g_mut_st_map[mut.status]+`"><b><u>`+g_mut_kind_map[mut.kind]+`</b></u> </span>`;
            else
                html+=`<span class="hover_`+g_mut_st_map[mut.status]+`">`+g_mut_kind_map[mut.kind]+` </span>`;
        }
    }
    return html;
}
/**
 * Adds the mutants on the loc for the given id
 * @param {id} loc_id id of the loc whose mutants to add
 */
function set_mutation_options(loc_id) {
    var mutids = g_loc_mutids[loc_id];
    var current_mutant_selector = document.getElementById('current_mutant');

    current_mutant_selector.selectedIndex = 0;
    for (var i = 0; i < mutids.length; i++) {
        var mutid = mutids[i];
        var mut = g_muts_data[mutid];
        if (!g_filter_kinds.includes(mut.kindGroup) &&
            !g_filter_status.includes(mut.status))
        {
            var s = document.createElement('OPTION');
            s.value = mutid;
            s.text = mut.mutText;
            current_mutant_selector.add(s);
            if (g_active_mutid === s.value)
                current_mutant_selector.selectedIndex = i+1;
        }
    }
}
/**
 * Changes the active mutant on a given line
 * @param {*} direction positive for next, negative for previous
 */
function traverse_mutants(direction) {
    current_mutant_selector = document.getElementById('current_mutant');
    selected = current_mutant_selector.selectedIndex;

    if (direction>0) {
        if (selected+1 < current_mutant_selector.options.length)
            current_mutant_selector.selectedIndex += 1;
        else if (MUT_TRAVERSE_NEXT_LOC)
            traverse_locs(1);

    } else if (direction < 0) {
        if (selected-1 >= 0)
            current_mutant_selector.selectedIndex-=1;
        else if (MUT_TRAVERSE_NEXT_LOC) {
            traverse_locs(-1);
            current_mutant_selector.selectedIndex = current_mutant_selector.options.length-1;
        }
    }
    var mutid = current_mutant_selector.value;
    set_active_mutant(mutid);
    highlight_mutant(mutid);
    if (mutid != -1)
        scroll_to(mutid);
    else
        scroll_to(g_active_locid);
    set_info_line(mutid);
}
/**
 * Changes the active line
 * @param {*} direction positive for next, negative for previous
 */
function traverse_locs(direction) {
    locs = document.getElementsByClassName('loc');
    var old_active_locid = g_active_locid;
    for (var i = 0; i < locs.length; i++) {
        if (locs[i].id === g_active_locid) {
            if (direction > 0) {
                if (i+1 < locs.length)
                    select_loc(locs[i+1].id);
                else if (LOC_TRAVERSE_LOOP)
                    select_loc(locs[0].id);
            } else if (direction < 0) {
                if (i-1 >= 0)
                    select_loc(locs[i-1].id);
                else if (LOC_TRAVERSE_LOOP)
                    select_loc(locs[locs.length-1].id);
            }
            break;
        }
    }
    if (old_active_locid !== g_active_locid && LOC_SCROLL_TO_ON_TRAVERSE) {
        scroll_to(g_active_locid, true);
    }
    return;
}
/**
 * Gets the closest loc of an element
 * @param {*} target The target element
 */
function get_closest_loc(target) {
    if (!target)
        return document.getElementById(g_active_locid);
    if (target.className === "loc")
        return target;
    else
        return target.closest(".loc");
}
/**
 * Moves the info box when the client window is resized
 */
function on_window_resize() {
    var info_box = document.getElementById('info');
    var top = info_box.offsetTop - info_box.style.marginTop;
    var left = window.innerWidth - info_box.clientWidth - 30;
    info_box.style.left = left + "px";
    info_box.style.top = top + "px";
}
/**
 * Updates the selected mutant when using the selector
 * @param {event} e captured change event
 */
function current_mutant_onchange(e) {
    var current_mutant_selector = document.getElementById('current_mutant');
    var id = current_mutant_selector.value;

    current_mutant_selector.focus();
    current_mutant_selector.blur();
    document.body.focus();
    if (id == -1) {
        location.hash = "#";
        set_active_mutant(id);
        deactivate_mutants();
        set_info_line(id);
        return;
    }

    set_active_mutant(id);
    highlight_mutant(id);
    set_info_line(id);
}
/**
 * Removes all options (except the first) from the selector.
 */
function clear_mutation_options() {
    current_mutant_selector = document.getElementById('current_mutant');
    while (current_mutant_selector.options.length!=1) {
        current_mutant_selector.options[1]=null;
    }
}
/**
 * Updates the ui to display the mutant with the given id as selected.
 */
function ui_set_mut(id) {
    loc_id = get_closest_loc(document.getElementById(id)).id
    if (loc_id != g_active_locid){
        select_loc(loc_id);
        return;
    }
    mutids = g_loc_mutids[loc_id];
    set_active_mutant(id);
    highlight_mutant(id);
    scroll_to(id, false);
    set_info_line(id);
    var current_mutant_selector = document.getElementById('current_mutant');
    for (var i=0; i<mutids.length; i++) {
        if (id == mutids[i]) {
            current_mutant_selector.selectedIndex = i+1;
            break;
        }
    }
}
/**
 * Sets the active mutant id as the given id.
 * @param {id} mutid id of mutant to set as activate
 */
function set_active_mutant(mutid) {
    if (mutid) {
        g_active_mutid = mutid;
    }
}
/**
 * Toggles whether to show mutants or not.
 */
function click_show_mutant() {
    g_show_mutant = document.getElementById("show_mutant").checked;
    if (g_show_mutant) {
        highlight_mutant(g_active_mutid);
    } else {
        deactivate_mutants();
    }
}
/**
 * Activates the mutant of the given id.
 * @param {id} mutid id of the mutant to activate
 */
function activate_mutant(mutid) {
    if (!g_show_mutant) {
        return;
    }
    mut = document.getElementById(mutid);
    if (mut) {
        clss = document.getElementsByClassName("mutid" + mutid);
        if (clss) {
            for (var i=0; i<clss.length; i++) {
                clss[i].style.display = 'none';
            }
        }
        mut.style.display = 'inline';
    }
}
/**
 * Deactivates all mutants
 */
function deactivate_mutants() {
    clear_current_mutant_info();
    var orgs = document.querySelectorAll(".original");
    var muts = document.querySelectorAll(".mutant");
    for (var i=0; i<orgs.length; i++) {
        orgs[i].style.display = "inline";
    }
    for (i=0; i<muts.length; i++) {
        muts[i].style.display = "none";
    }
}
/**
 * Highlights the mutant of the given id
 * @param {id} mutid id of the mutant to highlight
 */
function highlight_mutant(mutid) {
    deactivate_mutants();
    mut = document.getElementById(mutid);
    if (!mut)
        return;
    if (mut.classList.contains("mutant")) {
        activate_mutant(mutid);
        set_current_mutant_info(mutid);
    }
}
function click_filter_kind(kind) {
    var checkbox = document.getElementById(g_mut_kindGroup_map[kind]);
    if(checkbox.checked) {
        for( var i = 0; i < g_filter_kinds.length; i++){
            if (g_filter_kinds[i] === kind) {

                g_filter_kinds.splice(i, 1);
            }
         }
    }
    else {
        g_filter_kinds.push(kind);
    }
    set_active_mutant(-1);
    deactivate_mutants();
    clear_mutation_options();
    set_mutation_options(g_active_locid);
    set_info_line(g_active_mutid);
}
function click_filter_status(status) {
    var checkbox = document.getElementById(g_mut_st_map[status]);
    if(checkbox.checked) {
        for( var i = 0; i < g_filter_status.length; i++){
            if (g_filter_status[i] === status) {

                g_filter_status.splice(i, 1);
            }
         }
    }
    else {
        g_filter_status.push(status);
    }
    set_active_mutant(-1);
    deactivate_mutants();
    clear_mutation_options();
    set_mutation_options(g_active_locid);
    set_info_line(g_active_mutid);
}
function set_current_mutant_info(mutid) {
    mut = g_muts_data[mutid];
    document.getElementById("current_mutant_status").innerText = g_mut_st_map[mut.status];
    document.getElementById("current_mutant_metadata").innerText = mut.meta;
    document.getElementById("current_mutant_id").innerText = mutid;
    document.getElementById("current_mutant_original").innerText = mut.orgText;
}
/**
 * Clears the info box of mutant related text.
 */
function clear_current_mutant_info(){
    document.getElementById("current_mutant_status").innerText = "";
    document.getElementById("current_mutant_metadata").innerText = "";
    document.getElementById("current_mutant_id").innerText = "";
    document.getElementById("current_mutant_original").innerText = "";
}
/**
 * Displays info about all mutants in the same place as the mutant being hovered.
 * @param {event} evt the captured event
 * @param {innerHTML} html The inner html to be displayed.
 */
function fly(evt, html) {
    var el = document.getElementById("mousehover");
    if (evt.type == "mouseenter") {
        el.style.display = "inline";
    } else {
        el.style.display = "none";
    }

    el.innerHTML = html;
    el.style.left = (evt.pageX + 30) + 'px';
    el.style.top = (evt.pageY + 30) + 'px';
}
/**
 * Scrolls to the element of the given anchor
 * @param {id} anchor the id of the element to scroll to
 * @param {boolean} center whether to centre the page on the anchor
 */
function scroll_to(anchor, center) {
    var curr_pos = window.pageYOffset;
    location.hash = "#" + anchor; //Removing this allows for using the browser back button.
    if (center) {
        var newpos = document.getElementById(anchor).offsetTop - window.innerHeight/2;
        if (newpos > 0) {
            window.scrollTo(0, newpos);
        }
        else {
            window.scrollTo(0, 0);
        }
    } else {
        window.scrollTo(0, curr_pos);
    }
}
// Move most of this to html at some point
function init_legend() {
   document.getElementById("legend1_action").innerHTML = "Next line: ";
   document.getElementById("legend2_action").innerHTML = "Prev line: ";
   document.getElementById("legend3_action").innerHTML = "Next mutant: ";
   document.getElementById("legend4_action").innerHTML = "Prev mutant: ";
   document.getElementById("legend5_action").innerHTML = "Toggle show: ";
   document.getElementById("legend1_key").innerHTML = key_traverse_locs_down;
   document.getElementById("legend2_key").innerHTML = key_traverse_locs_up;
   document.getElementById("legend3_key").innerHTML = key_traverse_muts_down;
   document.getElementById("legend4_key").innerHTML = key_traverse_muts_up;
   document.getElementById("legend5_key").innerHTML = key_toggle_show_mutant;
}
function init_filter_kind() {
    var table = document.getElementById("filter_kind");

    for (var i=0; i < g_mut_kindGroup_map.length; i++) {
        var row = table.insertRow(i);
        row.innerHTML = `<td><input id="`+g_mut_kindGroup_map[i]+ `" type="checkbox" onclick='click_filter_kind(`+i+`)' checked />
                        <span class="xx_label">`+g_mut_kindGroup_map[i]+`</span></td>`;
    }
}
function init_filter_status() {
    var table = document.getElementById("filter_status");

    for (var i=0; i<g_mut_st_map.length; i++) {
        var row = table.insertRow(i);
        row.innerHTML = `<td><input id="`+g_mut_st_map[i]+ `" type="checkbox" onclick='click_filter_status(`+i+`)' checked />
        <span class="xx_label">`+g_mut_st_map[i]+`</span></td>`;
    }
    return;
}
</script></head>
<body onload="javascript:init();"><div id="mousehover"></div>
<div id="info_wrapper">
<div class="fixed" id="info">
<table>
  <tr>
    <td><span class="xx_label">Id: </span> <span id="current_mutant_id"></span></td>
    <td></td>
    <td><a href="../index.html" style="color: white">To index</a></td>
  </tr>
  <tr>
    <td><span class="xx_label">Original: </span></td>
    <td><span id="current_mutant_original"></span></td>
    <td><input id="show_legend" onclick="click_show_legend(this)" type="checkbox" /><span class="xx_label" id="legend">Legend</span></td>
  </tr>
  <tr>
    <td><span class="xx_label">Status: </span></td>
    <td><span id="current_mutant_status"></span></td>
    <td><span id="current_mutant_metadata"></span></td>
  </tr>
  <tr>
    <td><span class="xx_label">Mutant: </span></td>
    <td>
      <select id="current_mutant">
        <option selected="selected" value="-1">Original</option>
      </select>
    </td>
    <td><input checked="checked" id="show_mutant" onclick="click_show_mutant(this)" type="checkbox" /><span class="xx_label">Show</span></td>
  </tr>
</table>
<div id="filter_wrapper">
<p class="filter_title">Testcases to display</p>
<input id="num_testcases" max="10" min="0" step="1" type="number" value="5" />
<p class="filter_title">Filter by kind</p>
<table id="filter_kind">
</table>
<p class="filter_title">Filter by status</p>
<table id="filter_status">
</table>
</div>
<table id="legend_box" style="display: none;">
  <tr id="legend1">
    <td><span class="xx_label" id="legend1_action"></span></td>
    <td><span id="legend1_key"></span></td>
  </tr>
  <tr id="legend2">
    <td><span class="xx_label" id="legend2_action"></span></td>
    <td><span id="legend2_key"></span></td>
  </tr>
  <tr id="legend3">
    <td><span class="xx_label" id="legend3_action"></span></td>
    <td><span id="legend3_key"></span></td>
  </tr>
  <tr id="legend4">
    <td><span class="xx_label" id="legend4_action"></span></td>
    <td><span id="legend4_key"></span></td>
  </tr>
  <tr id="legend5">
    <td><span class="xx_label" id="legend5_action"></span></td>
    <td><span id="legend5_key"></span></td>
  </tr>
</table>
</div>
</div>
<table cellpadding="0" id="locs"><tr><td class="loc" id="loc-1"><span class="line_nr">1:</span><div style="display: inline;"><span class="original comment">/*</span></div></td></tr><tr><td class="loc" id="loc-2"><span class="line_nr">2:</span><div style="display: inline;"><span class="original comment">  LZ4io.c - LZ4 File/Stream Interface</span></div></td></tr>
<tr><td class="loc" id="loc-3"><span class="line_nr">3:</span><div style="display: inline;"><span class="original comment">  Copyright (C) Yann Collet 2011-2020</span></div></td></tr>
<tr><td class="loc" id="loc-4"><span class="line_nr">4:</span><div style="display: inline;"><span class="original comment"></span></div></td></tr>
<tr><td class="loc" id="loc-5"><span class="line_nr">5:</span><div style="display: inline;"><span class="original comment">  GPL v2 License</span></div></td></tr>
<tr><td class="loc" id="loc-6"><span class="line_nr">6:</span><div style="display: inline;"><span class="original comment"></span></div></td></tr>
<tr><td class="loc" id="loc-7"><span class="line_nr">7:</span><div style="display: inline;"><span class="original comment">  This program is free software; you can redistribute it and/or modify</span></div></td></tr>
<tr><td class="loc" id="loc-8"><span class="line_nr">8:</span><div style="display: inline;"><span class="original comment">  it under the terms of the GNU General Public License as published by</span></div></td></tr>
<tr><td class="loc" id="loc-9"><span class="line_nr">9:</span><div style="display: inline;"><span class="original comment">  the Free Software Foundation; either version 2 of the License, or</span></div></td></tr>
<tr><td class="loc" id="loc-10"><span class="line_nr">10:</span><div style="display: inline;"><span class="original comment">  (at your option) any later version.</span></div></td></tr>
<tr><td class="loc" id="loc-11"><span class="line_nr">11:</span><div style="display: inline;"><span class="original comment"></span></div></td></tr>
<tr><td class="loc" id="loc-12"><span class="line_nr">12:</span><div style="display: inline;"><span class="original comment">  This program is distributed in the hope that it will be useful,</span></div></td></tr>
<tr><td class="loc" id="loc-13"><span class="line_nr">13:</span><div style="display: inline;"><span class="original comment">  but WITHOUT ANY WARRANTY; without even the implied warranty of</span></div></td></tr>
<tr><td class="loc" id="loc-14"><span class="line_nr">14:</span><div style="display: inline;"><span class="original comment">  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the</span></div></td></tr>
<tr><td class="loc" id="loc-15"><span class="line_nr">15:</span><div style="display: inline;"><span class="original comment">  GNU General Public License for more details.</span></div></td></tr>
<tr><td class="loc" id="loc-16"><span class="line_nr">16:</span><div style="display: inline;"><span class="original comment"></span></div></td></tr>
<tr><td class="loc" id="loc-17"><span class="line_nr">17:</span><div style="display: inline;"><span class="original comment">  You should have received a copy of the GNU General Public License along</span></div></td></tr>
<tr><td class="loc" id="loc-18"><span class="line_nr">18:</span><div style="display: inline;"><span class="original comment">  with this program; if not, write to the Free Software Foundation, Inc.,</span></div></td></tr>
<tr><td class="loc" id="loc-19"><span class="line_nr">19:</span><div style="display: inline;"><span class="original comment">  51 Franklin Street, Fifth Floor, Boston, MA 02110-1301 USA.</span></div></td></tr>
<tr><td class="loc" id="loc-20"><span class="line_nr">20:</span><div style="display: inline;"><span class="original comment"></span></div></td></tr>
<tr><td class="loc" id="loc-21"><span class="line_nr">21:</span><div style="display: inline;"><span class="original comment">  You can contact the author at :</span></div></td></tr>
<tr><td class="loc" id="loc-22"><span class="line_nr">22:</span><div style="display: inline;"><span class="original comment">  - LZ4 source repository : https://github.com/lz4/lz4</span></div></td></tr>
<tr><td class="loc" id="loc-23"><span class="line_nr">23:</span><div style="display: inline;"><span class="original comment">  - LZ4 public forum : https://groups.google.com/forum/#!forum/lz4c</span></div></td></tr>
<tr><td class="loc" id="loc-24"><span class="line_nr">24:</span><div style="display: inline;"><span class="original comment">*/</span></div></td></tr>
<tr><td class="loc" id="loc-25"><span class="line_nr">25:</span><div style="display: inline;"><span class="original comment">/*</span></div></td></tr>
<tr><td class="loc" id="loc-26"><span class="line_nr">26:</span><div style="display: inline;"><span class="original comment">  Note : this is stand-alone program.</span></div></td></tr>
<tr><td class="loc" id="loc-27"><span class="line_nr">27:</span><div style="display: inline;"><span class="original comment">  It is not part of LZ4 compression library, it is a user code of the LZ4 library.</span></div></td></tr>
<tr><td class="loc" id="loc-28"><span class="line_nr">28:</span><div style="display: inline;"><span class="original comment">  - The license of LZ4 library is BSD.</span></div></td></tr>
<tr><td class="loc" id="loc-29"><span class="line_nr">29:</span><div style="display: inline;"><span class="original comment">  - The license of xxHash library is BSD.</span></div></td></tr>
<tr><td class="loc" id="loc-30"><span class="line_nr">30:</span><div style="display: inline;"><span class="original comment">  - The license of this source file is GPLv2.</span></div></td></tr>
<tr><td class="loc" id="loc-31"><span class="line_nr">31:</span><div style="display: inline;"><span class="original comment">*/</span></div></td></tr>
<tr><td class="loc" id="loc-32"><span class="line_nr">32:</span></td></tr>
<tr><td class="loc" id="loc-33"><span class="line_nr">33:</span></td></tr>
<tr><td class="loc" id="loc-34"><span class="line_nr">34:</span><div style="display: inline;"><span class="original comment">/*-************************************</span></div></td></tr>
<tr><td class="loc" id="loc-35"><span class="line_nr">35:</span><div style="display: inline;"><span class="original comment">*  Compiler options</span></div></td></tr>
<tr><td class="loc" id="loc-36"><span class="line_nr">36:</span><div style="display: inline;"><span class="original comment">**************************************/</span></div></td></tr>
<tr><td class="loc" id="loc-37"><span class="line_nr">37:</span><div style="display: inline;"><span class="original punctuation">#</span></div><div style="display: inline;"><span class="original identifier">ifdef</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">_MSC_VER</span></div>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original comment">/* Visual Studio */</span></div></td></tr>
<tr><td class="loc" id="loc-38"><span class="line_nr">38:</span><div style="display: inline;"><span class="original punctuation">#</span></div>&nbsp;&nbsp;<div style="display: inline;"><span class="original identifier">pragma</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">warning</span></div><div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">disable</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">:</span></div>&nbsp;<div style="display: inline;"><span class="original literal">4127</span></div><div style="display: inline;"><span class="original punctuation">)</span></div>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original comment">/* disable: C4127: conditional expression is constant */</span></div></td></tr>
<tr><td class="loc" id="loc-39"><span class="line_nr">39:</span><div style="display: inline;"><span class="original punctuation">#</span></div><div style="display: inline;"><span class="original identifier">endif</span></div></td></tr>
<tr><td class="loc" id="loc-40"><span class="line_nr">40:</span><div style="display: inline;"><span class="original punctuation">#</span></div><div style="display: inline;"><span class="original keyword">if</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">defined</span></div><div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">__MINGW32__</span></div><div style="display: inline;"><span class="original punctuation">)</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">&amp;&amp;</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">!</span></div><div style="display: inline;"><span class="original identifier">defined</span></div><div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">_POSIX_SOURCE</span></div><div style="display: inline;"><span class="original punctuation">)</span></div></td></tr>
<tr><td class="loc" id="loc-41"><span class="line_nr">41:</span><div style="display: inline;"><span class="original punctuation">#</span></div>&nbsp;&nbsp;<div style="display: inline;"><span class="original identifier">define</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">_POSIX_SOURCE</span></div>&nbsp;<div style="display: inline;"><span class="original literal">1</span></div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original comment">/* disable %llu warnings with MinGW on Windows */</span></div></td></tr>
<tr><td class="loc" id="loc-42"><span class="line_nr">42:</span><div style="display: inline;"><span class="original punctuation">#</span></div><div style="display: inline;"><span class="original identifier">endif</span></div></td></tr>
<tr><td class="loc" id="loc-43"><span class="line_nr">43:</span></td></tr>
<tr><td class="loc" id="loc-44"><span class="line_nr">44:</span></td></tr>
<tr><td class="loc" id="loc-45"><span class="line_nr">45:</span><div style="display: inline;"><span class="original comment">/*****************************</span></div></td></tr>
<tr><td class="loc" id="loc-46"><span class="line_nr">46:</span><div style="display: inline;"><span class="original comment">*  Includes</span></div></td></tr>
<tr><td class="loc" id="loc-47"><span class="line_nr">47:</span><div style="display: inline;"><span class="original comment">*****************************/</span></div></td></tr>
<tr><td class="loc" id="loc-48"><span class="line_nr">48:</span><div style="display: inline;"><span class="original punctuation">#</span></div><div style="display: inline;"><span class="original identifier">include</span></div>&nbsp;<div style="display: inline;"><span class="original literal">&quot;platform.h&quot;</span></div>&nbsp;&nbsp;<div style="display: inline;"><span class="original comment">/* Large File Support, SET_BINARY_MODE, SET_SPARSE_FILE_MODE, PLATFORM_POSIX_VERSION, __64BIT__ */</span></div></td></tr>
<tr><td class="loc" id="loc-49"><span class="line_nr">49:</span><div style="display: inline;"><span class="original punctuation">#</span></div><div style="display: inline;"><span class="original identifier">include</span></div>&nbsp;<div style="display: inline;"><span class="original literal">&quot;util.h&quot;</span></div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original comment">/* UTIL_getFileStat, UTIL_setFileStat */</span></div></td></tr>
<tr><td class="loc" id="loc-50"><span class="line_nr">50:</span><div style="display: inline;"><span class="original punctuation">#</span></div><div style="display: inline;"><span class="original identifier">include</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">&lt;</span></div><div style="display: inline;"><span class="original identifier">stdio</span></div><div style="display: inline;"><span class="original punctuation">.</span></div><div style="display: inline;"><span class="original identifier">h</span></div><div style="display: inline;"><span class="original punctuation">&gt;</span></div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original comment">/* fprintf, fopen, fread, stdin, stdout, fflush, getchar */</span></div></td></tr>
<tr><td class="loc" id="loc-51"><span class="line_nr">51:</span><div style="display: inline;"><span class="original punctuation">#</span></div><div style="display: inline;"><span class="original identifier">include</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">&lt;</span></div><div style="display: inline;"><span class="original identifier">stdlib</span></div><div style="display: inline;"><span class="original punctuation">.</span></div><div style="display: inline;"><span class="original identifier">h</span></div><div style="display: inline;"><span class="original punctuation">&gt;</span></div>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original comment">/* malloc, free */</span></div></td></tr>
<tr><td class="loc" id="loc-52"><span class="line_nr">52:</span><div style="display: inline;"><span class="original punctuation">#</span></div><div style="display: inline;"><span class="original identifier">include</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">&lt;</span></div><div style="display: inline;"><span class="original identifier">string</span></div><div style="display: inline;"><span class="original punctuation">.</span></div><div style="display: inline;"><span class="original identifier">h</span></div><div style="display: inline;"><span class="original punctuation">&gt;</span></div>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original comment">/* strerror, strcmp, strlen */</span></div></td></tr>
<tr><td class="loc" id="loc-53"><span class="line_nr">53:</span><div style="display: inline;"><span class="original punctuation">#</span></div><div style="display: inline;"><span class="original identifier">include</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">&lt;</span></div><div style="display: inline;"><span class="original identifier">time</span></div><div style="display: inline;"><span class="original punctuation">.</span></div><div style="display: inline;"><span class="original identifier">h</span></div><div style="display: inline;"><span class="original punctuation">&gt;</span></div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original comment">/* clock */</span></div></td></tr>
<tr><td class="loc" id="loc-54"><span class="line_nr">54:</span><div style="display: inline;"><span class="original punctuation">#</span></div><div style="display: inline;"><span class="original identifier">include</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">&lt;</span></div><div style="display: inline;"><span class="original identifier">sys</span></div><div style="display: inline;"><span class="original punctuation">/</span></div><div style="display: inline;"><span class="original identifier">types</span></div><div style="display: inline;"><span class="original punctuation">.</span></div><div style="display: inline;"><span class="original identifier">h</span></div><div style="display: inline;"><span class="original punctuation">&gt;</span></div>&nbsp;<div style="display: inline;"><span class="original comment">/* stat64 */</span></div></td></tr>
<tr><td class="loc" id="loc-55"><span class="line_nr">55:</span><div style="display: inline;"><span class="original punctuation">#</span></div><div style="display: inline;"><span class="original identifier">include</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">&lt;</span></div><div style="display: inline;"><span class="original identifier">sys</span></div><div style="display: inline;"><span class="original punctuation">/</span></div><div style="display: inline;"><span class="original identifier">stat</span></div><div style="display: inline;"><span class="original punctuation">.</span></div><div style="display: inline;"><span class="original identifier">h</span></div><div style="display: inline;"><span class="original punctuation">&gt;</span></div>&nbsp;&nbsp;<div style="display: inline;"><span class="original comment">/* stat64 */</span></div></td></tr>
<tr><td class="loc" id="loc-56"><span class="line_nr">56:</span><div style="display: inline;"><span class="original punctuation">#</span></div><div style="display: inline;"><span class="original identifier">include</span></div>&nbsp;<div style="display: inline;"><span class="original literal">&quot;lz4.h&quot;</span></div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original comment">/* still required for legacy format */</span></div></td></tr>
<tr><td class="loc" id="loc-57"><span class="line_nr">57:</span><div style="display: inline;"><span class="original punctuation">#</span></div><div style="display: inline;"><span class="original identifier">include</span></div>&nbsp;<div style="display: inline;"><span class="original literal">&quot;lz4hc.h&quot;</span></div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original comment">/* still required for legacy format */</span></div></td></tr>
<tr><td class="loc" id="loc-58"><span class="line_nr">58:</span><div style="display: inline;"><span class="original punctuation">#</span></div><div style="display: inline;"><span class="original identifier">define</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">LZ4F_STATIC_LINKING_ONLY</span></div></td></tr>
<tr><td class="loc" id="loc-59"><span class="line_nr">59:</span><div style="display: inline;"><span class="original punctuation">#</span></div><div style="display: inline;"><span class="original identifier">include</span></div>&nbsp;<div style="display: inline;"><span class="original literal">&quot;lz4frame.h&quot;</span></div></td></tr>
<tr><td class="loc" id="loc-60"><span class="line_nr">60:</span><div style="display: inline;"><span class="original punctuation">#</span></div><div style="display: inline;"><span class="original identifier">include</span></div>&nbsp;<div style="display: inline;"><span class="original literal">&quot;lz4io.h&quot;</span></div></td></tr>
<tr><td class="loc" id="loc-61"><span class="line_nr">61:</span></td></tr>
<tr><td class="loc" id="loc-62"><span class="line_nr">62:</span></td></tr>
<tr><td class="loc" id="loc-63"><span class="line_nr">63:</span><div style="display: inline;"><span class="original comment">/*****************************</span></div></td></tr>
<tr><td class="loc" id="loc-64"><span class="line_nr">64:</span><div style="display: inline;"><span class="original comment">*  Constants</span></div></td></tr>
<tr><td class="loc" id="loc-65"><span class="line_nr">65:</span><div style="display: inline;"><span class="original comment">*****************************/</span></div></td></tr>
<tr><td class="loc" id="loc-66"><span class="line_nr">66:</span><div style="display: inline;"><span class="original punctuation">#</span></div><div style="display: inline;"><span class="original identifier">define</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">KB</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">*</span></div><div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original literal">1</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">&lt;&lt;</span></div><div style="display: inline;"><span class="original literal">10</span></div><div style="display: inline;"><span class="original punctuation">)</span></div></td></tr>
<tr><td class="loc" id="loc-67"><span class="line_nr">67:</span><div style="display: inline;"><span class="original punctuation">#</span></div><div style="display: inline;"><span class="original identifier">define</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">MB</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">*</span></div><div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original literal">1</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">&lt;&lt;</span></div><div style="display: inline;"><span class="original literal">20</span></div><div style="display: inline;"><span class="original punctuation">)</span></div></td></tr>
<tr><td class="loc" id="loc-68"><span class="line_nr">68:</span><div style="display: inline;"><span class="original punctuation">#</span></div><div style="display: inline;"><span class="original identifier">define</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">GB</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">*</span></div><div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original literal">1U</span></div><div style="display: inline;"><span class="original punctuation">&lt;&lt;</span></div><div style="display: inline;"><span class="original literal">30</span></div><div style="display: inline;"><span class="original punctuation">)</span></div></td></tr>
<tr><td class="loc" id="loc-69"><span class="line_nr">69:</span></td></tr>
<tr><td class="loc" id="loc-70"><span class="line_nr">70:</span><div style="display: inline;"><span class="original punctuation">#</span></div><div style="display: inline;"><span class="original identifier">define</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">_1BIT</span></div>&nbsp;&nbsp;<div style="display: inline;"><span class="original literal">0x01</span></div></td></tr>
<tr><td class="loc" id="loc-71"><span class="line_nr">71:</span><div style="display: inline;"><span class="original punctuation">#</span></div><div style="display: inline;"><span class="original identifier">define</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">_2BITS</span></div>&nbsp;<div style="display: inline;"><span class="original literal">0x03</span></div></td></tr>
<tr><td class="loc" id="loc-72"><span class="line_nr">72:</span><div style="display: inline;"><span class="original punctuation">#</span></div><div style="display: inline;"><span class="original identifier">define</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">_3BITS</span></div>&nbsp;<div style="display: inline;"><span class="original literal">0x07</span></div></td></tr>
<tr><td class="loc" id="loc-73"><span class="line_nr">73:</span><div style="display: inline;"><span class="original punctuation">#</span></div><div style="display: inline;"><span class="original identifier">define</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">_4BITS</span></div>&nbsp;<div style="display: inline;"><span class="original literal">0x0F</span></div></td></tr>
<tr><td class="loc" id="loc-74"><span class="line_nr">74:</span><div style="display: inline;"><span class="original punctuation">#</span></div><div style="display: inline;"><span class="original identifier">define</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">_8BITS</span></div>&nbsp;<div style="display: inline;"><span class="original literal">0xFF</span></div></td></tr>
<tr><td class="loc" id="loc-75"><span class="line_nr">75:</span></td></tr>
<tr><td class="loc" id="loc-76"><span class="line_nr">76:</span><div style="display: inline;"><span class="original punctuation">#</span></div><div style="display: inline;"><span class="original identifier">define</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">MAGICNUMBER_SIZE</span></div>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original literal">4</span></div></td></tr>
<tr><td class="loc" id="loc-77"><span class="line_nr">77:</span><div style="display: inline;"><span class="original punctuation">#</span></div><div style="display: inline;"><span class="original identifier">define</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">LZ4IO_MAGICNUMBER</span></div>&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original literal">0x184D2204</span></div></td></tr>
<tr><td class="loc" id="loc-78"><span class="line_nr">78:</span><div style="display: inline;"><span class="original punctuation">#</span></div><div style="display: inline;"><span class="original identifier">define</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">LZ4IO_SKIPPABLE0</span></div>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original literal">0x184D2A50</span></div></td></tr>
<tr><td class="loc" id="loc-79"><span class="line_nr">79:</span><div style="display: inline;"><span class="original punctuation">#</span></div><div style="display: inline;"><span class="original identifier">define</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">LZ4IO_SKIPPABLEMASK</span></div>&nbsp;<div style="display: inline;"><span class="original literal">0xFFFFFFF0</span></div></td></tr>
<tr><td class="loc" id="loc-80"><span class="line_nr">80:</span><div style="display: inline;"><span class="original punctuation">#</span></div><div style="display: inline;"><span class="original identifier">define</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">LEGACY_MAGICNUMBER</span></div>&nbsp;&nbsp;<div style="display: inline;"><span class="original literal">0x184C2102</span></div></td></tr>
<tr><td class="loc" id="loc-81"><span class="line_nr">81:</span></td></tr>
<tr><td class="loc" id="loc-82"><span class="line_nr">82:</span><div style="display: inline;"><span class="original punctuation">#</span></div><div style="display: inline;"><span class="original identifier">define</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">CACHELINE</span></div>&nbsp;<div style="display: inline;"><span class="original literal">64</span></div></td></tr>
<tr><td class="loc" id="loc-83"><span class="line_nr">83:</span><div style="display: inline;"><span class="original punctuation">#</span></div><div style="display: inline;"><span class="original identifier">define</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">LEGACY_BLOCKSIZE</span></div>&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original literal">8</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">MB</span></div><div style="display: inline;"><span class="original punctuation">)</span></div></td></tr>
<tr><td class="loc" id="loc-84"><span class="line_nr">84:</span><div style="display: inline;"><span class="original punctuation">#</span></div><div style="display: inline;"><span class="original identifier">define</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">MIN_STREAM_BUFSIZE</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original literal">192</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">KB</span></div><div style="display: inline;"><span class="original punctuation">)</span></div></td></tr>
<tr><td class="loc" id="loc-85"><span class="line_nr">85:</span><div style="display: inline;"><span class="original punctuation">#</span></div><div style="display: inline;"><span class="original identifier">define</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">LZ4IO_BLOCKSIZEID_DEFAULT</span></div>&nbsp;<div style="display: inline;"><span class="original literal">7</span></div></td></tr>
<tr><td class="loc" id="loc-86"><span class="line_nr">86:</span><div style="display: inline;"><span class="original punctuation">#</span></div><div style="display: inline;"><span class="original identifier">define</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">LZ4_MAX_DICT_SIZE</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original literal">64</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">KB</span></div><div style="display: inline;"><span class="original punctuation">)</span></div></td></tr>
<tr><td class="loc" id="loc-87"><span class="line_nr">87:</span></td></tr>
<tr><td class="loc" id="loc-88"><span class="line_nr">88:</span></td></tr>
<tr><td class="loc" id="loc-89"><span class="line_nr">89:</span><div style="display: inline;"><span class="original comment">/**************************************</span></div></td></tr>
<tr><td class="loc" id="loc-90"><span class="line_nr">90:</span><div style="display: inline;"><span class="original comment">*  Macros</span></div></td></tr>
<tr><td class="loc" id="loc-91"><span class="line_nr">91:</span><div style="display: inline;"><span class="original comment">**************************************/</span></div></td></tr>
<tr><td class="loc" id="loc-92"><span class="line_nr">92:</span><div style="display: inline;"><span class="original punctuation">#</span></div><div style="display: inline;"><span class="original identifier">define</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">DISPLAY</span></div><div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original punctuation">...</span></div><div style="display: inline;"><span class="original punctuation">)</span></div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original identifier">fprintf</span></div><div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">stderr</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">__VA_ARGS__</span></div><div style="display: inline;"><span class="original punctuation">)</span></div></td></tr>
<tr><td class="loc" id="loc-93"><span class="line_nr">93:</span><div style="display: inline;"><span class="original punctuation">#</span></div><div style="display: inline;"><span class="original identifier">define</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">DISPLAYOUT</span></div><div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original punctuation">...</span></div><div style="display: inline;"><span class="original punctuation">)</span></div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original identifier">fprintf</span></div><div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">stdout</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">__VA_ARGS__</span></div><div style="display: inline;"><span class="original punctuation">)</span></div></td></tr>
<tr><td class="loc" id="loc-94"><span class="line_nr">94:</span><div style="display: inline;"><span class="original punctuation">#</span></div><div style="display: inline;"><span class="original identifier">define</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">DISPLAYLEVEL</span></div><div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">l</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">...</span></div><div style="display: inline;"><span class="original punctuation">)</span></div>&nbsp;<div style="display: inline;"><span class="original keyword">if</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">g_displayLevel</span></div><div style="display: inline;"><span class="original punctuation">&gt;=</span></div><div style="display: inline;"><span class="original identifier">l</span></div><div style="display: inline;"><span class="original punctuation">)</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">{</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">DISPLAY</span></div><div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">__VA_ARGS__</span></div><div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original punctuation">;</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">}</span></div></td></tr>
<tr><td class="loc" id="loc-95"><span class="line_nr">95:</span><div style="display: inline;"><span class="original keyword">static</span></div>&nbsp;<div style="display: inline;"><span class="original keyword">int</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">g_displayLevel</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">=</span></div>&nbsp;<div style="display: inline;"><span class="original literal">0</span></div><div style="display: inline;"><span class="original punctuation">;</span></div>&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original comment">/* 0 : no display  ; 1: errors  ; 2 : + result + interaction + warnings ; 3 : + progression; 4 : + information */</span></div></td></tr>
<tr><td class="loc" id="loc-96"><span class="line_nr">96:</span></td></tr>
<tr><td class="loc" id="loc-97"><span class="line_nr">97:</span><div style="display: inline;"><span class="original punctuation">#</span></div><div style="display: inline;"><span class="original identifier">define</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">DISPLAYUPDATE</span></div><div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">l</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">...</span></div><div style="display: inline;"><span class="original punctuation">)</span></div>&nbsp;<div style="display: inline;"><span class="original keyword">if</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">g_displayLevel</span></div><div style="display: inline;"><span class="original punctuation">&gt;=</span></div><div style="display: inline;"><span class="original identifier">l</span></div><div style="display: inline;"><span class="original punctuation">)</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">{</span></div></td></tr>
<tr><td class="loc" id="loc-98"><span class="line_nr">98:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original keyword">if</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">(</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">clock</span></div><div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original punctuation">)</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">-</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">g_time</span></div><div style="display: inline;"><span class="original punctuation">)</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">&gt;</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">refreshRate</span></div><div style="display: inline;"><span class="original punctuation">)</span></div></td></tr>
<tr><td class="loc" id="loc-99"><span class="line_nr">99:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original punctuation">||</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">g_displayLevel</span></div><div style="display: inline;"><span class="original punctuation">&gt;=</span></div><div style="display: inline;"><span class="original literal">4</span></div><div style="display: inline;"><span class="original punctuation">)</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">)</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">{</span></div></td></tr>
<tr><td class="loc" id="loc-100"><span class="line_nr">100:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original identifier">g_time</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">=</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">clock</span></div><div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-101"><span class="line_nr">101:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original identifier">DISPLAY</span></div><div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">__VA_ARGS__</span></div><div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-102"><span class="line_nr">102:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original keyword">if</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">g_displayLevel</span></div><div style="display: inline;"><span class="original punctuation">&gt;=</span></div><div style="display: inline;"><span class="original literal">4</span></div><div style="display: inline;"><span class="original punctuation">)</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">fflush</span></div><div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">stderr</span></div><div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-103"><span class="line_nr">103:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original punctuation">}</span></div>&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original punctuation">}</span></div></td></tr>
<tr><td class="loc" id="loc-104"><span class="line_nr">104:</span><div style="display: inline;"><span class="original keyword">static</span></div>&nbsp;<div style="display: inline;"><span class="original keyword">const</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">clock_t</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">refreshRate</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">=</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">CLOCKS_PER_SEC</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">/</span></div>&nbsp;<div style="display: inline;"><span class="original literal">6</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-105"><span class="line_nr">105:</span><div style="display: inline;"><span class="original keyword">static</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">clock_t</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">g_time</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">=</span></div>&nbsp;<div style="display: inline;"><span class="original literal">0</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-106"><span class="line_nr">106:</span><div style="display: inline;"><span class="original punctuation">#</span></div><div style="display: inline;"><span class="original identifier">define</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">LZ4IO_STATIC_ASSERT</span></div><div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">c</span></div><div style="display: inline;"><span class="original punctuation">)</span></div>&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original punctuation">{</span></div>&nbsp;<div style="display: inline;"><span class="original keyword">enum</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">{</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">LZ4IO_static_assert</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">=</span></div>&nbsp;<div style="display: inline;"><span class="original literal">1</span></div><div style="display: inline;"><span class="original punctuation">/</span></div><div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original keyword">int</span></div><div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original punctuation">!</span></div><div style="display: inline;"><span class="original punctuation">!</span></div><div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">c</span></div><div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original punctuation">)</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">}</span></div><div style="display: inline;"><span class="original punctuation">;</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">}</span></div>&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original comment">/* use after variable declarations */</span></div></td></tr>
<tr><td class="loc" id="loc-107"><span class="line_nr">107:</span></td></tr>
<tr><td class="loc" id="loc-108"><span class="line_nr">108:</span></td></tr>
<tr><td class="loc" id="loc-109"><span class="line_nr">109:</span><div style="display: inline;"><span class="original comment">/**************************************</span></div></td></tr>
<tr><td class="loc" id="loc-110"><span class="line_nr">110:</span><div style="display: inline;"><span class="original comment">*  Local Parameters</span></div></td></tr>
<tr><td class="loc" id="loc-111"><span class="line_nr">111:</span><div style="display: inline;"><span class="original comment">**************************************/</span></div></td></tr>
<tr><td class="loc" id="loc-112"><span class="line_nr">112:</span></td></tr>
<tr><td class="loc" id="loc-113"><span class="line_nr">113:</span><div style="display: inline;"><span class="original keyword">struct</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">LZ4IO_prefs_s</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">{</span></div></td></tr>
<tr><td class="loc" id="loc-114"><span class="line_nr">114:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original keyword">int</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">passThrough</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-115"><span class="line_nr">115:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original keyword">int</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">overwrite</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-116"><span class="line_nr">116:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original keyword">int</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">testMode</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-117"><span class="line_nr">117:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original keyword">int</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">blockSizeId</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-118"><span class="line_nr">118:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original identifier">size_t</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">blockSize</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-119"><span class="line_nr">119:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original keyword">int</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">blockChecksum</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-120"><span class="line_nr">120:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original keyword">int</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">streamChecksum</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-121"><span class="line_nr">121:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original keyword">int</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">blockIndependence</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-122"><span class="line_nr">122:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original keyword">int</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">sparseFileSupport</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-123"><span class="line_nr">123:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original keyword">int</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">contentSizeFlag</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-124"><span class="line_nr">124:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original keyword">int</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">useDictionary</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-125"><span class="line_nr">125:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original keyword">unsigned</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">favorDecSpeed</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-126"><span class="line_nr">126:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original keyword">const</span></div>&nbsp;<div style="display: inline;"><span class="original keyword">char</span></div><div style="display: inline;"><span class="original punctuation">*</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">dictionaryFilename</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-127"><span class="line_nr">127:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original keyword">int</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">removeSrcFile</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-128"><span class="line_nr">128:</span><div style="display: inline;"><span class="original punctuation">}</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-129"><span class="line_nr">129:</span></td></tr>
<tr><td class="loc" id="loc-130"><span class="line_nr">130:</span><div style="display: inline;"><span class="original comment">/**************************************</span></div></td></tr>
<tr><td class="loc" id="loc-131"><span class="line_nr">131:</span><div style="display: inline;"><span class="original comment">*  Exceptions</span></div></td></tr>
<tr><td class="loc" id="loc-132"><span class="line_nr">132:</span><div style="display: inline;"><span class="original comment">***************************************/</span></div></td></tr>
<tr><td class="loc" id="loc-133"><span class="line_nr">133:</span><div style="display: inline;"><span class="original punctuation">#</span></div><div style="display: inline;"><span class="original identifier">ifndef</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">DEBUG</span></div></td></tr>
<tr><td class="loc" id="loc-134"><span class="line_nr">134:</span><div style="display: inline;"><span class="original punctuation">#</span></div>&nbsp;&nbsp;<div style="display: inline;"><span class="original identifier">define</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">DEBUG</span></div>&nbsp;<div style="display: inline;"><span class="original literal">0</span></div></td></tr>
<tr><td class="loc" id="loc-135"><span class="line_nr">135:</span><div style="display: inline;"><span class="original punctuation">#</span></div><div style="display: inline;"><span class="original identifier">endif</span></div></td></tr>
<tr><td class="loc" id="loc-136"><span class="line_nr">136:</span><div style="display: inline;"><span class="original punctuation">#</span></div><div style="display: inline;"><span class="original identifier">define</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">DEBUGOUTPUT</span></div><div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original punctuation">...</span></div><div style="display: inline;"><span class="original punctuation">)</span></div>&nbsp;<div style="display: inline;"><span class="original keyword">if</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">DEBUG</span></div><div style="display: inline;"><span class="original punctuation">)</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">DISPLAY</span></div><div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">__VA_ARGS__</span></div><div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-137"><span class="line_nr">137:</span><div style="display: inline;"><span class="original punctuation">#</span></div><div style="display: inline;"><span class="original identifier">define</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">EXM_THROW</span></div><div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">error</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">...</span></div><div style="display: inline;"><span class="original punctuation">)</span></div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original punctuation">\</span></div></td></tr>
<tr><td class="loc" id="loc-138"><span class="line_nr">138:</span><div style="display: inline;"><span class="original punctuation">{</span></div></td></tr>
<tr><td class="loc" id="loc-139"><span class="line_nr">139:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original identifier">DEBUGOUTPUT</span></div><div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original literal">&quot;Error defined at %s, line %i : \n&quot;</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">__FILE__</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">__LINE__</span></div><div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-140"><span class="line_nr">140:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original identifier">DISPLAYLEVEL</span></div><div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original literal">1</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original literal">&quot;Error %i : &quot;</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">error</span></div><div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-141"><span class="line_nr">141:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original identifier">DISPLAYLEVEL</span></div><div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original literal">1</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">__VA_ARGS__</span></div><div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-142"><span class="line_nr">142:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original identifier">DISPLAYLEVEL</span></div><div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original literal">1</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original literal">&quot; \n&quot;</span></div><div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-143"><span class="line_nr">143:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original identifier">exit</span></div><div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">error</span></div><div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original punctuation">;</span></div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original punctuation">\</span></div></td></tr>
<tr><td class="loc" id="loc-144"><span class="line_nr">144:</span><div style="display: inline;"><span class="original punctuation">}</span></div></td></tr>
<tr><td class="loc" id="loc-145"><span class="line_nr">145:</span></td></tr>
<tr><td class="loc" id="loc-146"><span class="line_nr">146:</span></td></tr>
<tr><td class="loc" id="loc-147"><span class="line_nr">147:</span><div style="display: inline;"><span class="original comment">/**************************************</span></div></td></tr>
<tr><td class="loc" id="loc-148"><span class="line_nr">148:</span><div style="display: inline;"><span class="original comment">*  Version modifiers</span></div></td></tr>
<tr><td class="loc" id="loc-149"><span class="line_nr">149:</span><div style="display: inline;"><span class="original comment">**************************************/</span></div></td></tr>
<tr><td class="loc" id="loc-150"><span class="line_nr">150:</span><div style="display: inline;"><span class="original punctuation">#</span></div><div style="display: inline;"><span class="original identifier">define</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">EXTENDED_ARGUMENTS</span></div></td></tr>
<tr><td class="loc" id="loc-151"><span class="line_nr">151:</span><div style="display: inline;"><span class="original punctuation">#</span></div><div style="display: inline;"><span class="original identifier">define</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">EXTENDED_HELP</span></div></td></tr>
<tr><td class="loc" id="loc-152"><span class="line_nr">152:</span><div style="display: inline;"><span class="original punctuation">#</span></div><div style="display: inline;"><span class="original identifier">define</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">EXTENDED_FORMAT</span></div></td></tr>
<tr><td class="loc" id="loc-153"><span class="line_nr">153:</span><div style="display: inline;"><span class="original punctuation">#</span></div><div style="display: inline;"><span class="original identifier">define</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">DEFAULT_DECOMPRESSOR</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">LZ4IO_decompressLZ4F</span></div></td></tr>
<tr><td class="loc" id="loc-154"><span class="line_nr">154:</span></td></tr>
<tr><td class="loc" id="loc-155"><span class="line_nr">155:</span></td></tr>
<tr><td class="loc" id="loc-156"><span class="line_nr">156:</span><div style="display: inline;"><span class="original comment">/* ************************************************** */</span></div></td></tr>
<tr><td class="loc" id="loc-157"><span class="line_nr">157:</span><div style="display: inline;"><span class="original comment">/* ****************** Parameters ******************** */</span></div></td></tr>
<tr><td class="loc" id="loc-158"><span class="line_nr">158:</span><div style="display: inline;"><span class="original comment">/* ************************************************** */</span></div></td></tr>
<tr><td class="loc" id="loc-159"><span class="line_nr">159:</span></td></tr>
<tr><td class="loc" id="loc-160"><span class="line_nr">160:</span><div style="display: inline;"><span class="original identifier">LZ4IO_prefs_t</span></div><div style="display: inline;"><span class="original punctuation">*</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">LZ4IO_defaultPreferences</span></div><div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original keyword">void</span></div><div style="display: inline;"><span class="original punctuation">)</span></div></td></tr>
<tr><td class="loc" id="loc-161"><span class="line_nr">161:</span><div style="display: inline;"><span class="original punctuation">{</span></div></td></tr>
<tr><td class="loc" id="loc-162"><span class="line_nr">162:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original identifier">LZ4IO_prefs_t</span></div><div style="display: inline;"><span class="original punctuation">*</span></div>&nbsp;<div style="display: inline;"><span class="original keyword">const</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">ret</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">=</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">LZ4IO_prefs_t</span></div><div style="display: inline;"><span class="original punctuation">*</span></div><div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original identifier">malloc</span></div><div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original keyword">sizeof</span></div><div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original punctuation">*</span></div><div style="display: inline;"><span class="original identifier">ret</span></div><div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-163"><span class="line_nr">163:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original keyword">if</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original punctuation">!</span></div><div style="display: inline;"><span class="original identifier">ret</span></div><div style="display: inline;"><span class="original punctuation">)</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">EXM_THROW</span></div><div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original literal">21</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original literal">&quot;Allocation error : not enough memory&quot;</span></div><div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-164"><span class="line_nr">164:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original identifier">ret</span></div><div style="display: inline;"><span class="original punctuation">-&gt;</span></div><div style="display: inline;"><span class="original identifier">passThrough</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">=</span></div>&nbsp;<div style="display: inline;"><span class="original literal">0</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-165"><span class="line_nr">165:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original identifier">ret</span></div><div style="display: inline;"><span class="original punctuation">-&gt;</span></div><div style="display: inline;"><span class="original identifier">overwrite</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">=</span></div>&nbsp;<div style="display: inline;"><span class="original literal">1</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-166"><span class="line_nr">166:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original identifier">ret</span></div><div style="display: inline;"><span class="original punctuation">-&gt;</span></div><div style="display: inline;"><span class="original identifier">testMode</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">=</span></div>&nbsp;<div style="display: inline;"><span class="original literal">0</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-167"><span class="line_nr">167:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original identifier">ret</span></div><div style="display: inline;"><span class="original punctuation">-&gt;</span></div><div style="display: inline;"><span class="original identifier">blockSizeId</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">=</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">LZ4IO_BLOCKSIZEID_DEFAULT</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-168"><span class="line_nr">168:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original identifier">ret</span></div><div style="display: inline;"><span class="original punctuation">-&gt;</span></div><div style="display: inline;"><span class="original identifier">blockSize</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">=</span></div>&nbsp;<div style="display: inline;"><span class="original literal">0</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-169"><span class="line_nr">169:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original identifier">ret</span></div><div style="display: inline;"><span class="original punctuation">-&gt;</span></div><div style="display: inline;"><span class="original identifier">blockChecksum</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">=</span></div>&nbsp;<div style="display: inline;"><span class="original literal">0</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-170"><span class="line_nr">170:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original identifier">ret</span></div><div style="display: inline;"><span class="original punctuation">-&gt;</span></div><div style="display: inline;"><span class="original identifier">streamChecksum</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">=</span></div>&nbsp;<div style="display: inline;"><span class="original literal">1</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-171"><span class="line_nr">171:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original identifier">ret</span></div><div style="display: inline;"><span class="original punctuation">-&gt;</span></div><div style="display: inline;"><span class="original identifier">blockIndependence</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">=</span></div>&nbsp;<div style="display: inline;"><span class="original literal">1</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-172"><span class="line_nr">172:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original identifier">ret</span></div><div style="display: inline;"><span class="original punctuation">-&gt;</span></div><div style="display: inline;"><span class="original identifier">sparseFileSupport</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">=</span></div>&nbsp;<div style="display: inline;"><span class="original literal">1</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-173"><span class="line_nr">173:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original identifier">ret</span></div><div style="display: inline;"><span class="original punctuation">-&gt;</span></div><div style="display: inline;"><span class="original identifier">contentSizeFlag</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">=</span></div>&nbsp;<div style="display: inline;"><span class="original literal">0</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-174"><span class="line_nr">174:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original identifier">ret</span></div><div style="display: inline;"><span class="original punctuation">-&gt;</span></div><div style="display: inline;"><span class="original identifier">useDictionary</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">=</span></div>&nbsp;<div style="display: inline;"><span class="original literal">0</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-175"><span class="line_nr">175:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original identifier">ret</span></div><div style="display: inline;"><span class="original punctuation">-&gt;</span></div><div style="display: inline;"><span class="original identifier">favorDecSpeed</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">=</span></div>&nbsp;<div style="display: inline;"><span class="original literal">0</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-176"><span class="line_nr">176:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original identifier">ret</span></div><div style="display: inline;"><span class="original punctuation">-&gt;</span></div><div style="display: inline;"><span class="original identifier">dictionaryFilename</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">=</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">NULL</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-177"><span class="line_nr">177:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original identifier">ret</span></div><div style="display: inline;"><span class="original punctuation">-&gt;</span></div><div style="display: inline;"><span class="original identifier">removeSrcFile</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">=</span></div>&nbsp;<div style="display: inline;"><span class="original literal">0</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-178"><span class="line_nr">178:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original keyword">return</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">ret</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-179"><span class="line_nr">179:</span><div style="display: inline;"><span class="original punctuation">}</span></div></td></tr>
<tr><td class="loc" id="loc-180"><span class="line_nr">180:</span></td></tr>
<tr><td class="loc" id="loc-181"><span class="line_nr">181:</span><div style="display: inline;"><span class="original keyword">void</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">LZ4IO_freePreferences</span></div><div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">LZ4IO_prefs_t</span></div><div style="display: inline;"><span class="original punctuation">*</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">prefs</span></div><div style="display: inline;"><span class="original punctuation">)</span></div></td></tr>
<tr><td class="loc" id="loc-182"><span class="line_nr">182:</span><div style="display: inline;"><span class="original punctuation">{</span></div></td></tr>
<tr><td class="loc" id="loc-183"><span class="line_nr">183:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original identifier">free</span></div><div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">prefs</span></div><div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-184"><span class="line_nr">184:</span><div style="display: inline;"><span class="original punctuation">}</span></div></td></tr>
<tr><td class="loc" id="loc-185"><span class="line_nr">185:</span></td></tr>
<tr><td class="loc" id="loc-186"><span class="line_nr">186:</span></td></tr>
<tr><td class="loc" id="loc-187"><span class="line_nr">187:</span><div style="display: inline;"><span class="original keyword">int</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">LZ4IO_setDictionaryFilename</span></div><div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">LZ4IO_prefs_t</span></div><div style="display: inline;"><span class="original punctuation">*</span></div>&nbsp;<div style="display: inline;"><span class="original keyword">const</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">prefs</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original keyword">const</span></div>&nbsp;<div style="display: inline;"><span class="original keyword">char</span></div><div style="display: inline;"><span class="original punctuation">*</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">dictionaryFilename</span></div><div style="display: inline;"><span class="original punctuation">)</span></div></td></tr>
<tr><td class="loc" id="loc-188"><span class="line_nr">188:</span><div style="display: inline;"><span class="original punctuation">{</span></div></td></tr>
<tr><td class="loc" id="loc-189"><span class="line_nr">189:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original identifier">prefs</span></div><div style="display: inline;"><span class="original punctuation">-&gt;</span></div><div style="display: inline;"><span class="original identifier">dictionaryFilename</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">=</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">dictionaryFilename</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-190"><span class="line_nr">190:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original identifier">prefs</span></div><div style="display: inline;"><span class="original punctuation">-&gt;</span></div><div style="display: inline;"><span class="original identifier">useDictionary</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">=</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">dictionaryFilename</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">!=</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">NULL</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-191"><span class="line_nr">191:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original keyword">return</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">prefs</span></div><div style="display: inline;"><span class="original punctuation">-&gt;</span></div><div style="display: inline;"><span class="original identifier">useDictionary</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-192"><span class="line_nr">192:</span><div style="display: inline;"><span class="original punctuation">}</span></div></td></tr>
<tr><td class="loc" id="loc-193"><span class="line_nr">193:</span></td></tr>
<tr><td class="loc" id="loc-194"><span class="line_nr">194:</span><div style="display: inline;"><span class="original comment">/* Default setting : passThrough = 0; return : passThrough mode (0/1) */</span></div></td></tr>
<tr><td class="loc" id="loc-195"><span class="line_nr">195:</span><div style="display: inline;"><span class="original keyword">int</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">LZ4IO_setPassThrough</span></div><div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">LZ4IO_prefs_t</span></div><div style="display: inline;"><span class="original punctuation">*</span></div>&nbsp;<div style="display: inline;"><span class="original keyword">const</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">prefs</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original keyword">int</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">yes</span></div><div style="display: inline;"><span class="original punctuation">)</span></div></td></tr>
<tr><td class="loc" id="loc-196"><span class="line_nr">196:</span><div style="display: inline;"><span class="original punctuation">{</span></div></td></tr>
<tr><td class="loc" id="loc-197"><span class="line_nr">197:</span>&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original identifier">prefs</span></div><div style="display: inline;"><span class="original punctuation">-&gt;</span></div><div style="display: inline;"><span class="original identifier">passThrough</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">=</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">yes</span></div><div style="display: inline;"><span class="original punctuation">!=</span></div><div style="display: inline;"><span class="original literal">0</span></div><div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-198"><span class="line_nr">198:</span>&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original keyword">return</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">prefs</span></div><div style="display: inline;"><span class="original punctuation">-&gt;</span></div><div style="display: inline;"><span class="original identifier">passThrough</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-199"><span class="line_nr">199:</span><div style="display: inline;"><span class="original punctuation">}</span></div></td></tr>
<tr><td class="loc" id="loc-200"><span class="line_nr">200:</span></td></tr>
<tr><td class="loc" id="loc-201"><span class="line_nr">201:</span></td></tr>
<tr><td class="loc" id="loc-202"><span class="line_nr">202:</span><div style="display: inline;"><span class="original comment">/* Default setting : overwrite = 1; return : overwrite mode (0/1) */</span></div></td></tr>
<tr><td class="loc" id="loc-203"><span class="line_nr">203:</span><div style="display: inline;"><span class="original keyword">int</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">LZ4IO_setOverwrite</span></div><div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">LZ4IO_prefs_t</span></div><div style="display: inline;"><span class="original punctuation">*</span></div>&nbsp;<div style="display: inline;"><span class="original keyword">const</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">prefs</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original keyword">int</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">yes</span></div><div style="display: inline;"><span class="original punctuation">)</span></div></td></tr>
<tr><td class="loc" id="loc-204"><span class="line_nr">204:</span><div style="display: inline;"><span class="original punctuation">{</span></div></td></tr>
<tr><td class="loc" id="loc-205"><span class="line_nr">205:</span>&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original identifier">prefs</span></div><div style="display: inline;"><span class="original punctuation">-&gt;</span></div><div style="display: inline;"><span class="original identifier">overwrite</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">=</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">yes</span></div><div style="display: inline;"><span class="original punctuation">!=</span></div><div style="display: inline;"><span class="original literal">0</span></div><div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-206"><span class="line_nr">206:</span>&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original keyword">return</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">prefs</span></div><div style="display: inline;"><span class="original punctuation">-&gt;</span></div><div style="display: inline;"><span class="original identifier">overwrite</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-207"><span class="line_nr">207:</span><div style="display: inline;"><span class="original punctuation">}</span></div></td></tr>
<tr><td class="loc" id="loc-208"><span class="line_nr">208:</span></td></tr>
<tr><td class="loc" id="loc-209"><span class="line_nr">209:</span><div style="display: inline;"><span class="original comment">/* Default setting : testMode = 0; return : testMode (0/1) */</span></div></td></tr>
<tr><td class="loc" id="loc-210"><span class="line_nr">210:</span><div style="display: inline;"><span class="original keyword">int</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">LZ4IO_setTestMode</span></div><div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">LZ4IO_prefs_t</span></div><div style="display: inline;"><span class="original punctuation">*</span></div>&nbsp;<div style="display: inline;"><span class="original keyword">const</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">prefs</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original keyword">int</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">yes</span></div><div style="display: inline;"><span class="original punctuation">)</span></div></td></tr>
<tr><td class="loc" id="loc-211"><span class="line_nr">211:</span><div style="display: inline;"><span class="original punctuation">{</span></div></td></tr>
<tr><td class="loc" id="loc-212"><span class="line_nr">212:</span>&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original identifier">prefs</span></div><div style="display: inline;"><span class="original punctuation">-&gt;</span></div><div style="display: inline;"><span class="original identifier">testMode</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">=</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">yes</span></div><div style="display: inline;"><span class="original punctuation">!=</span></div><div style="display: inline;"><span class="original literal">0</span></div><div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-213"><span class="line_nr">213:</span>&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original keyword">return</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">prefs</span></div><div style="display: inline;"><span class="original punctuation">-&gt;</span></div><div style="display: inline;"><span class="original identifier">testMode</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-214"><span class="line_nr">214:</span><div style="display: inline;"><span class="original punctuation">}</span></div></td></tr>
<tr><td class="loc" id="loc-215"><span class="line_nr">215:</span></td></tr>
<tr><td class="loc" id="loc-216"><span class="line_nr">216:</span><div style="display: inline;"><span class="original comment">/* blockSizeID : valid values : 4-5-6-7 */</span></div></td></tr>
<tr><td class="loc" id="loc-217"><span class="line_nr">217:</span><div style="display: inline;"><span class="original identifier">size_t</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">LZ4IO_setBlockSizeID</span></div><div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">LZ4IO_prefs_t</span></div><div style="display: inline;"><span class="original punctuation">*</span></div>&nbsp;<div style="display: inline;"><span class="original keyword">const</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">prefs</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original keyword">unsigned</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">bsid</span></div><div style="display: inline;"><span class="original punctuation">)</span></div></td></tr>
<tr><td class="loc" id="loc-218"><span class="line_nr">218:</span><div style="display: inline;"><span class="original punctuation">{</span></div></td></tr>
<tr><td class="loc" id="loc-219"><span class="line_nr">219:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original keyword">static</span></div>&nbsp;<div style="display: inline;"><span class="original keyword">const</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">size_t</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">blockSizeTable</span></div><div style="display: inline;"><span class="original punctuation">[</span></div><div style="display: inline;"><span class="original punctuation">]</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">=</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">{</span></div>&nbsp;<div style="display: inline;"><span class="original literal">64</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">KB</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original literal">256</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">KB</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original literal">1</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">MB</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original literal">4</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">MB</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">}</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-220"><span class="line_nr">220:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original keyword">static</span></div>&nbsp;<div style="display: inline;"><span class="original keyword">const</span></div>&nbsp;<div style="display: inline;"><span class="original keyword">unsigned</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">minBlockSizeID</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">=</span></div>&nbsp;<div style="display: inline;"><span class="original literal">4</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-221"><span class="line_nr">221:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original keyword">static</span></div>&nbsp;<div style="display: inline;"><span class="original keyword">const</span></div>&nbsp;<div style="display: inline;"><span class="original keyword">unsigned</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">maxBlockSizeID</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">=</span></div>&nbsp;<div style="display: inline;"><span class="original literal">7</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-222"><span class="line_nr">222:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original keyword">if</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">bsid</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">&lt;</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">minBlockSizeID</span></div><div style="display: inline;"><span class="original punctuation">)</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">||</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">bsid</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">&gt;</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">maxBlockSizeID</span></div><div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original punctuation">)</span></div>&nbsp;<div style="display: inline;"><span class="original keyword">return</span></div>&nbsp;<div style="display: inline;"><span class="original literal">0</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-223"><span class="line_nr">223:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original identifier">prefs</span></div><div style="display: inline;"><span class="original punctuation">-&gt;</span></div><div style="display: inline;"><span class="original identifier">blockSizeId</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">=</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original keyword">int</span></div><div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original identifier">bsid</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-224"><span class="line_nr">224:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original identifier">prefs</span></div><div style="display: inline;"><span class="original punctuation">-&gt;</span></div><div style="display: inline;"><span class="original identifier">blockSize</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">=</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">blockSizeTable</span></div><div style="display: inline;"><span class="original punctuation">[</span></div><div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original keyword">unsigned</span></div><div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original identifier">prefs</span></div><div style="display: inline;"><span class="original punctuation">-&gt;</span></div><div style="display: inline;"><span class="original identifier">blockSizeId</span></div><div style="display: inline;"><span class="original punctuation">-</span></div><div style="display: inline;"><span class="original identifier">minBlockSizeID</span></div><div style="display: inline;"><span class="original punctuation">]</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-225"><span class="line_nr">225:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original keyword">return</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">prefs</span></div><div style="display: inline;"><span class="original punctuation">-&gt;</span></div><div style="display: inline;"><span class="original identifier">blockSize</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-226"><span class="line_nr">226:</span><div style="display: inline;"><span class="original punctuation">}</span></div></td></tr>
<tr><td class="loc" id="loc-227"><span class="line_nr">227:</span></td></tr>
<tr><td class="loc" id="loc-228"><span class="line_nr">228:</span><div style="display: inline;"><span class="original identifier">size_t</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">LZ4IO_setBlockSize</span></div><div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">LZ4IO_prefs_t</span></div><div style="display: inline;"><span class="original punctuation">*</span></div>&nbsp;<div style="display: inline;"><span class="original keyword">const</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">prefs</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">size_t</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">blockSize</span></div><div style="display: inline;"><span class="original punctuation">)</span></div></td></tr>
<tr><td class="loc" id="loc-229"><span class="line_nr">229:</span><div style="display: inline;"><span class="original punctuation">{</span></div></td></tr>
<tr><td class="loc" id="loc-230"><span class="line_nr">230:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original keyword">static</span></div>&nbsp;<div style="display: inline;"><span class="original keyword">const</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">size_t</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">minBlockSize</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">=</span></div>&nbsp;<div style="display: inline;"><span class="original literal">32</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-231"><span class="line_nr">231:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original keyword">static</span></div>&nbsp;<div style="display: inline;"><span class="original keyword">const</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">size_t</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">maxBlockSize</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">=</span></div>&nbsp;<div style="display: inline;"><span class="original literal">4</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">MB</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-232"><span class="line_nr">232:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original keyword">unsigned</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">bsid</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">=</span></div>&nbsp;<div style="display: inline;"><span class="original literal">0</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-233"><span class="line_nr">233:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original keyword">if</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">blockSize</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">&lt;</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">minBlockSize</span></div><div style="display: inline;"><span class="original punctuation">)</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">blockSize</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">=</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">minBlockSize</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-234"><span class="line_nr">234:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original keyword">if</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">blockSize</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">&gt;</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">maxBlockSize</span></div><div style="display: inline;"><span class="original punctuation">)</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">blockSize</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">=</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">maxBlockSize</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-235"><span class="line_nr">235:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original identifier">prefs</span></div><div style="display: inline;"><span class="original punctuation">-&gt;</span></div><div style="display: inline;"><span class="original identifier">blockSize</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">=</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">blockSize</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-236"><span class="line_nr">236:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original identifier">blockSize</span></div><div style="display: inline;"><span class="original punctuation">--</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-237"><span class="line_nr">237:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original comment">/* find which of { 64k, 256k, 1MB, 4MB } is closest to blockSize */</span></div></td></tr>
<tr><td class="loc" id="loc-238"><span class="line_nr">238:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original keyword">while</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">blockSize</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">&gt;&gt;=</span></div>&nbsp;<div style="display: inline;"><span class="original literal">2</span></div><div style="display: inline;"><span class="original punctuation">)</span></div></td></tr>
<tr><td class="loc" id="loc-239"><span class="line_nr">239:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original identifier">bsid</span></div><div style="display: inline;"><span class="original punctuation">++</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-240"><span class="line_nr">240:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original keyword">if</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">bsid</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">&lt;</span></div>&nbsp;<div style="display: inline;"><span class="original literal">7</span></div><div style="display: inline;"><span class="original punctuation">)</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">bsid</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">=</span></div>&nbsp;<div style="display: inline;"><span class="original literal">7</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-241"><span class="line_nr">241:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original identifier">prefs</span></div><div style="display: inline;"><span class="original punctuation">-&gt;</span></div><div style="display: inline;"><span class="original identifier">blockSizeId</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">=</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original keyword">int</span></div><div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">bsid</span></div><div style="display: inline;"><span class="original punctuation">-</span></div><div style="display: inline;"><span class="original literal">3</span></div><div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-242"><span class="line_nr">242:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original keyword">return</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">prefs</span></div><div style="display: inline;"><span class="original punctuation">-&gt;</span></div><div style="display: inline;"><span class="original identifier">blockSize</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-243"><span class="line_nr">243:</span><div style="display: inline;"><span class="original punctuation">}</span></div></td></tr>
<tr><td class="loc" id="loc-244"><span class="line_nr">244:</span></td></tr>
<tr><td class="loc" id="loc-245"><span class="line_nr">245:</span><div style="display: inline;"><span class="original comment">/* Default setting : 1 == independent blocks */</span></div></td></tr>
<tr><td class="loc" id="loc-246"><span class="line_nr">246:</span><div style="display: inline;"><span class="original keyword">int</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">LZ4IO_setBlockMode</span></div><div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">LZ4IO_prefs_t</span></div><div style="display: inline;"><span class="original punctuation">*</span></div>&nbsp;<div style="display: inline;"><span class="original keyword">const</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">prefs</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">LZ4IO_blockMode_t</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">blockMode</span></div><div style="display: inline;"><span class="original punctuation">)</span></div></td></tr>
<tr><td class="loc" id="loc-247"><span class="line_nr">247:</span><div style="display: inline;"><span class="original punctuation">{</span></div></td></tr>
<tr><td class="loc" id="loc-248"><span class="line_nr">248:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original identifier">prefs</span></div><div style="display: inline;"><span class="original punctuation">-&gt;</span></div><div style="display: inline;"><span class="original identifier">blockIndependence</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">=</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">blockMode</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">==</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">LZ4IO_blockIndependent</span></div><div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-249"><span class="line_nr">249:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original keyword">return</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">prefs</span></div><div style="display: inline;"><span class="original punctuation">-&gt;</span></div><div style="display: inline;"><span class="original identifier">blockIndependence</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-250"><span class="line_nr">250:</span><div style="display: inline;"><span class="original punctuation">}</span></div></td></tr>
<tr><td class="loc" id="loc-251"><span class="line_nr">251:</span></td></tr>
<tr><td class="loc" id="loc-252"><span class="line_nr">252:</span><div style="display: inline;"><span class="original comment">/* Default setting : 0 == no block checksum */</span></div></td></tr>
<tr><td class="loc" id="loc-253"><span class="line_nr">253:</span><div style="display: inline;"><span class="original keyword">int</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">LZ4IO_setBlockChecksumMode</span></div><div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">LZ4IO_prefs_t</span></div><div style="display: inline;"><span class="original punctuation">*</span></div>&nbsp;<div style="display: inline;"><span class="original keyword">const</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">prefs</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original keyword">int</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">enable</span></div><div style="display: inline;"><span class="original punctuation">)</span></div></td></tr>
<tr><td class="loc" id="loc-254"><span class="line_nr">254:</span><div style="display: inline;"><span class="original punctuation">{</span></div></td></tr>
<tr><td class="loc" id="loc-255"><span class="line_nr">255:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original identifier">prefs</span></div><div style="display: inline;"><span class="original punctuation">-&gt;</span></div><div style="display: inline;"><span class="original identifier">blockChecksum</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">=</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">enable</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">!=</span></div>&nbsp;<div style="display: inline;"><span class="original literal">0</span></div><div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-256"><span class="line_nr">256:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original keyword">return</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">prefs</span></div><div style="display: inline;"><span class="original punctuation">-&gt;</span></div><div style="display: inline;"><span class="original identifier">blockChecksum</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-257"><span class="line_nr">257:</span><div style="display: inline;"><span class="original punctuation">}</span></div></td></tr>
<tr><td class="loc" id="loc-258"><span class="line_nr">258:</span></td></tr>
<tr><td class="loc" id="loc-259"><span class="line_nr">259:</span><div style="display: inline;"><span class="original comment">/* Default setting : 1 == checksum enabled */</span></div></td></tr>
<tr><td class="loc" id="loc-260"><span class="line_nr">260:</span><div style="display: inline;"><span class="original keyword">int</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">LZ4IO_setStreamChecksumMode</span></div><div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">LZ4IO_prefs_t</span></div><div style="display: inline;"><span class="original punctuation">*</span></div>&nbsp;<div style="display: inline;"><span class="original keyword">const</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">prefs</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original keyword">int</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">enable</span></div><div style="display: inline;"><span class="original punctuation">)</span></div></td></tr>
<tr><td class="loc" id="loc-261"><span class="line_nr">261:</span><div style="display: inline;"><span class="original punctuation">{</span></div></td></tr>
<tr><td class="loc" id="loc-262"><span class="line_nr">262:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original identifier">prefs</span></div><div style="display: inline;"><span class="original punctuation">-&gt;</span></div><div style="display: inline;"><span class="original identifier">streamChecksum</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">=</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">enable</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">!=</span></div>&nbsp;<div style="display: inline;"><span class="original literal">0</span></div><div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-263"><span class="line_nr">263:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original keyword">return</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">prefs</span></div><div style="display: inline;"><span class="original punctuation">-&gt;</span></div><div style="display: inline;"><span class="original identifier">streamChecksum</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-264"><span class="line_nr">264:</span><div style="display: inline;"><span class="original punctuation">}</span></div></td></tr>
<tr><td class="loc" id="loc-265"><span class="line_nr">265:</span></td></tr>
<tr><td class="loc" id="loc-266"><span class="line_nr">266:</span><div style="display: inline;"><span class="original comment">/* Default setting : 0 (no notification) */</span></div></td></tr>
<tr><td class="loc" id="loc-267"><span class="line_nr">267:</span><div style="display: inline;"><span class="original keyword">int</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">LZ4IO_setNotificationLevel</span></div><div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original keyword">int</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">level</span></div><div style="display: inline;"><span class="original punctuation">)</span></div></td></tr>
<tr><td class="loc" id="loc-268"><span class="line_nr">268:</span><div style="display: inline;"><span class="original punctuation">{</span></div></td></tr>
<tr><td class="loc" id="loc-269"><span class="line_nr">269:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original identifier">g_displayLevel</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">=</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">level</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-270"><span class="line_nr">270:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original keyword">return</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">g_displayLevel</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-271"><span class="line_nr">271:</span><div style="display: inline;"><span class="original punctuation">}</span></div></td></tr>
<tr><td class="loc" id="loc-272"><span class="line_nr">272:</span></td></tr>
<tr><td class="loc" id="loc-273"><span class="line_nr">273:</span><div style="display: inline;"><span class="original comment">/* Default setting : 1 (auto: enabled on file, disabled on stdout) */</span></div></td></tr>
<tr><td class="loc" id="loc-274"><span class="line_nr">274:</span><div style="display: inline;"><span class="original keyword">int</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">LZ4IO_setSparseFile</span></div><div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">LZ4IO_prefs_t</span></div><div style="display: inline;"><span class="original punctuation">*</span></div>&nbsp;<div style="display: inline;"><span class="original keyword">const</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">prefs</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original keyword">int</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">enable</span></div><div style="display: inline;"><span class="original punctuation">)</span></div></td></tr>
<tr><td class="loc" id="loc-275"><span class="line_nr">275:</span><div style="display: inline;"><span class="original punctuation">{</span></div></td></tr>
<tr><td class="loc" id="loc-276"><span class="line_nr">276:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original identifier">prefs</span></div><div style="display: inline;"><span class="original punctuation">-&gt;</span></div><div style="display: inline;"><span class="original identifier">sparseFileSupport</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">=</span></div>&nbsp;<div style="display: inline;"><span class="original literal">2</span></div><div style="display: inline;"><span class="original punctuation">*</span></div><div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">enable</span></div><div style="display: inline;"><span class="original punctuation">!=</span></div><div style="display: inline;"><span class="original literal">0</span></div><div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original punctuation">;</span></div>&nbsp;&nbsp;<div style="display: inline;"><span class="original comment">/* 2==force enable */</span></div></td></tr>
<tr><td class="loc" id="loc-277"><span class="line_nr">277:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original keyword">return</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">prefs</span></div><div style="display: inline;"><span class="original punctuation">-&gt;</span></div><div style="display: inline;"><span class="original identifier">sparseFileSupport</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-278"><span class="line_nr">278:</span><div style="display: inline;"><span class="original punctuation">}</span></div></td></tr>
<tr><td class="loc" id="loc-279"><span class="line_nr">279:</span></td></tr>
<tr><td class="loc" id="loc-280"><span class="line_nr">280:</span><div style="display: inline;"><span class="original comment">/* Default setting : 0 (disabled) */</span></div></td></tr>
<tr><td class="loc" id="loc-281"><span class="line_nr">281:</span><div style="display: inline;"><span class="original keyword">int</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">LZ4IO_setContentSize</span></div><div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">LZ4IO_prefs_t</span></div><div style="display: inline;"><span class="original punctuation">*</span></div>&nbsp;<div style="display: inline;"><span class="original keyword">const</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">prefs</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original keyword">int</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">enable</span></div><div style="display: inline;"><span class="original punctuation">)</span></div></td></tr>
<tr><td class="loc" id="loc-282"><span class="line_nr">282:</span><div style="display: inline;"><span class="original punctuation">{</span></div></td></tr>
<tr><td class="loc" id="loc-283"><span class="line_nr">283:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original identifier">prefs</span></div><div style="display: inline;"><span class="original punctuation">-&gt;</span></div><div style="display: inline;"><span class="original identifier">contentSizeFlag</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">=</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">enable</span></div><div style="display: inline;"><span class="original punctuation">!=</span></div><div style="display: inline;"><span class="original literal">0</span></div><div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-284"><span class="line_nr">284:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original keyword">return</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">prefs</span></div><div style="display: inline;"><span class="original punctuation">-&gt;</span></div><div style="display: inline;"><span class="original identifier">contentSizeFlag</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-285"><span class="line_nr">285:</span><div style="display: inline;"><span class="original punctuation">}</span></div></td></tr>
<tr><td class="loc" id="loc-286"><span class="line_nr">286:</span></td></tr>
<tr><td class="loc" id="loc-287"><span class="line_nr">287:</span><div style="display: inline;"><span class="original comment">/* Default setting : 0 (disabled) */</span></div></td></tr>
<tr><td class="loc" id="loc-288"><span class="line_nr">288:</span><div style="display: inline;"><span class="original keyword">void</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">LZ4IO_favorDecSpeed</span></div><div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">LZ4IO_prefs_t</span></div><div style="display: inline;"><span class="original punctuation">*</span></div>&nbsp;<div style="display: inline;"><span class="original keyword">const</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">prefs</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original keyword">int</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">favor</span></div><div style="display: inline;"><span class="original punctuation">)</span></div></td></tr>
<tr><td class="loc" id="loc-289"><span class="line_nr">289:</span><div style="display: inline;"><span class="original punctuation">{</span></div></td></tr>
<tr><td class="loc" id="loc-290"><span class="line_nr">290:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original identifier">prefs</span></div><div style="display: inline;"><span class="original punctuation">-&gt;</span></div><div style="display: inline;"><span class="original identifier">favorDecSpeed</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">=</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">favor</span></div><div style="display: inline;"><span class="original punctuation">!=</span></div><div style="display: inline;"><span class="original literal">0</span></div><div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-291"><span class="line_nr">291:</span><div style="display: inline;"><span class="original punctuation">}</span></div></td></tr>
<tr><td class="loc" id="loc-292"><span class="line_nr">292:</span></td></tr>
<tr><td class="loc" id="loc-293"><span class="line_nr">293:</span><div style="display: inline;"><span class="original keyword">void</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">LZ4IO_setRemoveSrcFile</span></div><div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">LZ4IO_prefs_t</span></div><div style="display: inline;"><span class="original punctuation">*</span></div>&nbsp;<div style="display: inline;"><span class="original keyword">const</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">prefs</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original keyword">unsigned</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">flag</span></div><div style="display: inline;"><span class="original punctuation">)</span></div></td></tr>
<tr><td class="loc" id="loc-294"><span class="line_nr">294:</span><div style="display: inline;"><span class="original punctuation">{</span></div></td></tr>
<tr><td class="loc" id="loc-295"><span class="line_nr">295:</span>&nbsp;&nbsp;<div style="display: inline;"><span class="original identifier">prefs</span></div><div style="display: inline;"><span class="original punctuation">-&gt;</span></div><div style="display: inline;"><span class="original identifier">removeSrcFile</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">=</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">flag</span></div><div style="display: inline;"><span class="original punctuation">&gt;</span></div><div style="display: inline;"><span class="original literal">0</span></div><div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-296"><span class="line_nr">296:</span><div style="display: inline;"><span class="original punctuation">}</span></div></td></tr>
<tr><td class="loc" id="loc-297"><span class="line_nr">297:</span></td></tr>
<tr><td class="loc" id="loc-298"><span class="line_nr">298:</span></td></tr>
<tr><td class="loc" id="loc-299"><span class="line_nr">299:</span></td></tr>
<tr><td class="loc" id="loc-300"><span class="line_nr">300:</span><div style="display: inline;"><span class="original comment">/* ************************************************************************ **</span></div></td></tr>
<tr><td class="loc" id="loc-301"><span class="line_nr">301:</span><div style="display: inline;"><span class="original comment">** ********************** LZ4 File / Pipe compression ********************* **</span></div></td></tr>
<tr><td class="loc" id="loc-302"><span class="line_nr">302:</span><div style="display: inline;"><span class="original comment">** ************************************************************************ */</span></div></td></tr>
<tr><td class="loc" id="loc-303"><span class="line_nr">303:</span></td></tr>
<tr><td class="loc" id="loc-304"><span class="line_nr">304:</span><div style="display: inline;"><span class="original keyword">static</span></div>&nbsp;<div style="display: inline;"><span class="original keyword">int</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">LZ4IO_isSkippableMagicNumber</span></div><div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original keyword">unsigned</span></div>&nbsp;<div style="display: inline;"><span class="original keyword">int</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">magic</span></div><div style="display: inline;"><span class="original punctuation">)</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">{</span></div></td></tr>
<tr><td class="loc" id="loc-305"><span class="line_nr">305:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original keyword">return</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">magic</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">&amp;</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">LZ4IO_SKIPPABLEMASK</span></div><div style="display: inline;"><span class="original punctuation">)</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">==</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">LZ4IO_SKIPPABLE0</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-306"><span class="line_nr">306:</span><div style="display: inline;"><span class="original punctuation">}</span></div></td></tr>
<tr><td class="loc" id="loc-307"><span class="line_nr">307:</span></td></tr>
<tr><td class="loc" id="loc-308"><span class="line_nr">308:</span></td></tr>
<tr><td class="loc" id="loc-309"><span class="line_nr">309:</span><div style="display: inline;"><span class="original comment">/** LZ4IO_openSrcFile() :</span></div></td></tr>
<tr><td class="loc" id="loc-310"><span class="line_nr">310:</span><div style="display: inline;"><span class="original comment"> * condition : `srcFileName` must be non-NULL.</span></div></td></tr>
<tr><td class="loc" id="loc-311"><span class="line_nr">311:</span><div style="display: inline;"><span class="original comment"> * @result : FILE* to `dstFileName`, or NULL if it fails */</span></div></td></tr>
<tr><td class="loc" id="loc-312"><span class="line_nr">312:</span><div style="display: inline;"><span class="original keyword">static</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">FILE</span></div><div style="display: inline;"><span class="original punctuation">*</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">LZ4IO_openSrcFile</span></div><div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original keyword">const</span></div>&nbsp;<div style="display: inline;"><span class="original keyword">char</span></div><div style="display: inline;"><span class="original punctuation">*</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">srcFileName</span></div><div style="display: inline;"><span class="original punctuation">)</span></div></td></tr>
<tr><td class="loc" id="loc-313"><span class="line_nr">313:</span><div style="display: inline;"><span class="original punctuation">{</span></div></td></tr>
<tr><td class="loc" id="loc-314"><span class="line_nr">314:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original identifier">FILE</span></div><div style="display: inline;"><span class="original punctuation">*</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">f</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-315"><span class="line_nr">315:</span></td></tr>
<tr><td class="loc" id="loc-316"><span class="line_nr">316:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original keyword">if</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original punctuation">!</span></div><div style="display: inline;"><span class="original identifier">strcmp</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">srcFileName</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">stdinmark</span></div><div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original punctuation">)</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">{</span></div></td></tr>
<tr><td class="loc" id="loc-317"><span class="line_nr">317:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original identifier">DISPLAYLEVEL</span></div><div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original literal">4</span></div><div style="display: inline;"><span class="original punctuation">,</span></div><div style="display: inline;"><span class="original literal">&quot;Using stdin for input\n&quot;</span></div><div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-318"><span class="line_nr">318:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original identifier">f</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">=</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">stdin</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-319"><span class="line_nr">319:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original identifier">SET_BINARY_MODE</span></div><div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">stdin</span></div><div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-320"><span class="line_nr">320:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original punctuation">}</span></div>&nbsp;<div style="display: inline;"><span class="original keyword">else</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">{</span></div></td></tr>
<tr><td class="loc" id="loc-321"><span class="line_nr">321:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original identifier">f</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">=</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">fopen</span></div><div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">srcFileName</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original literal">&quot;rb&quot;</span></div><div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-322"><span class="line_nr">322:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original keyword">if</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">(</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">f</span></div><div style="display: inline;"><span class="original punctuation">==</span></div><div style="display: inline;"><span class="original identifier">NULL</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">)</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">DISPLAYLEVEL</span></div><div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original literal">1</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original literal">&quot;%s: %s \n&quot;</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">srcFileName</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">strerror</span></div><div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">errno</span></div><div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-323"><span class="line_nr">323:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original punctuation">}</span></div></td></tr>
<tr><td class="loc" id="loc-324"><span class="line_nr">324:</span></td></tr>
<tr><td class="loc" id="loc-325"><span class="line_nr">325:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original keyword">return</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">f</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-326"><span class="line_nr">326:</span><div style="display: inline;"><span class="original punctuation">}</span></div></td></tr>
<tr><td class="loc" id="loc-327"><span class="line_nr">327:</span></td></tr>
<tr><td class="loc" id="loc-328"><span class="line_nr">328:</span><div style="display: inline;"><span class="original comment">/** FIO_openDstFile() :</span></div></td></tr>
<tr><td class="loc" id="loc-329"><span class="line_nr">329:</span><div style="display: inline;"><span class="original comment"> *  prefs is writable, because sparseFileSupport might be updated.</span></div></td></tr>
<tr><td class="loc" id="loc-330"><span class="line_nr">330:</span><div style="display: inline;"><span class="original comment"> *  condition : `dstFileName` must be non-NULL.</span></div></td></tr>
<tr><td class="loc" id="loc-331"><span class="line_nr">331:</span><div style="display: inline;"><span class="original comment"> * @result : FILE* to `dstFileName`, or NULL if it fails */</span></div></td></tr>
<tr><td class="loc" id="loc-332"><span class="line_nr">332:</span><div style="display: inline;"><span class="original keyword">static</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">FILE</span></div><div style="display: inline;"><span class="original punctuation">*</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">LZ4IO_openDstFile</span></div><div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original keyword">const</span></div>&nbsp;<div style="display: inline;"><span class="original keyword">char</span></div><div style="display: inline;"><span class="original punctuation">*</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">dstFileName</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original keyword">const</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">LZ4IO_prefs_t</span></div><div style="display: inline;"><span class="original punctuation">*</span></div>&nbsp;<div style="display: inline;"><span class="original keyword">const</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">prefs</span></div><div style="display: inline;"><span class="original punctuation">)</span></div></td></tr>
<tr><td class="loc" id="loc-333"><span class="line_nr">333:</span><div style="display: inline;"><span class="original punctuation">{</span></div></td></tr>
<tr><td class="loc" id="loc-334"><span class="line_nr">334:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original identifier">FILE</span></div><div style="display: inline;"><span class="original punctuation">*</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">f</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-335"><span class="line_nr">335:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original identifier">assert</span></div><div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">dstFileName</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">!=</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">NULL</span></div><div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-336"><span class="line_nr">336:</span></td></tr>
<tr><td class="loc" id="loc-337"><span class="line_nr">337:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original keyword">if</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original punctuation">!</span></div><div style="display: inline;"><span class="original identifier">strcmp</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">dstFileName</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">stdoutmark</span></div><div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original punctuation">)</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">{</span></div></td></tr>
<tr><td class="loc" id="loc-338"><span class="line_nr">338:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original identifier">DISPLAYLEVEL</span></div><div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original literal">4</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original literal">&quot;Using stdout for output \n&quot;</span></div><div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-339"><span class="line_nr">339:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original identifier">f</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">=</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">stdout</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-340"><span class="line_nr">340:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original identifier">SET_BINARY_MODE</span></div><div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">stdout</span></div><div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-341"><span class="line_nr">341:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original keyword">if</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">prefs</span></div><div style="display: inline;"><span class="original punctuation">-&gt;</span></div><div style="display: inline;"><span class="original identifier">sparseFileSupport</span></div><div style="display: inline;"><span class="original punctuation">==</span></div><div style="display: inline;"><span class="original literal">1</span></div><div style="display: inline;"><span class="original punctuation">)</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">{</span></div></td></tr>
<tr><td class="loc" id="loc-342"><span class="line_nr">342:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original identifier">DISPLAYLEVEL</span></div><div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original literal">4</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original literal">&quot;Sparse File Support automatically disabled on stdout ;&quot;</span></div></td></tr>
<tr><td class="loc" id="loc-343"><span class="line_nr">343:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original literal">&quot; to force-enable it, add --sparse command \n&quot;</span></div><div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-344"><span class="line_nr">344:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original punctuation">}</span></div></td></tr>
<tr><td class="loc" id="loc-345"><span class="line_nr">345:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original punctuation">}</span></div>&nbsp;<div style="display: inline;"><span class="original keyword">else</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">{</span></div></td></tr>
<tr><td class="loc" id="loc-346"><span class="line_nr">346:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original keyword">if</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original punctuation">!</span></div><div style="display: inline;"><span class="original identifier">prefs</span></div><div style="display: inline;"><span class="original punctuation">-&gt;</span></div><div style="display: inline;"><span class="original identifier">overwrite</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">&amp;&amp;</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">strcmp</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">dstFileName</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">nulmark</span></div><div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original punctuation">)</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">{</span></div>&nbsp;&nbsp;<div style="display: inline;"><span class="original comment">/* Check if destination file already exists */</span></div></td></tr>
<tr><td class="loc" id="loc-347"><span class="line_nr">347:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original identifier">FILE</span></div><div style="display: inline;"><span class="original punctuation">*</span></div>&nbsp;<div style="display: inline;"><span class="original keyword">const</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">testf</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">=</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">fopen</span></div><div style="display: inline;"><span class="original punctuation">(</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">dstFileName</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original literal">&quot;rb&quot;</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-348"><span class="line_nr">348:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original keyword">if</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">testf</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">!=</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">NULL</span></div><div style="display: inline;"><span class="original punctuation">)</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">{</span></div>&nbsp;&nbsp;<div style="display: inline;"><span class="original comment">/* dest exists, prompt for overwrite authorization */</span></div></td></tr>
<tr><td class="loc" id="loc-349"><span class="line_nr">349:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original identifier">fclose</span></div><div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">testf</span></div><div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-350"><span class="line_nr">350:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original keyword">if</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">g_displayLevel</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">&lt;=</span></div>&nbsp;<div style="display: inline;"><span class="original literal">1</span></div><div style="display: inline;"><span class="original punctuation">)</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">{</span></div>&nbsp;&nbsp;<div style="display: inline;"><span class="original comment">/* No interaction possible */</span></div></td></tr>
<tr><td class="loc" id="loc-351"><span class="line_nr">351:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original identifier">DISPLAY</span></div><div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original literal">&quot;%s already exists; not overwritten  \n&quot;</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">dstFileName</span></div><div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-352"><span class="line_nr">352:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original keyword">return</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">NULL</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-353"><span class="line_nr">353:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original punctuation">}</span></div></td></tr>
<tr><td class="loc" id="loc-354"><span class="line_nr">354:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original identifier">DISPLAY</span></div><div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original literal">&quot;%s already exists; do you wish to overwrite (y/N) ? &quot;</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">dstFileName</span></div><div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-355"><span class="line_nr">355:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original punctuation">{</span></div>&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original keyword">int</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">ch</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">=</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">getchar</span></div><div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-356"><span class="line_nr">356:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original keyword">if</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">ch</span></div><div style="display: inline;"><span class="original punctuation">!=</span></div><div style="display: inline;"><span class="original literal">'Y'</span></div><div style="display: inline;"><span class="original punctuation">)</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">&amp;&amp;</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">ch</span></div><div style="display: inline;"><span class="original punctuation">!=</span></div><div style="display: inline;"><span class="original literal">'y'</span></div><div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original punctuation">)</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">{</span></div></td></tr>
<tr><td class="loc" id="loc-357"><span class="line_nr">357:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original identifier">DISPLAY</span></div><div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original literal">&quot;    not overwritten  \n&quot;</span></div><div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-358"><span class="line_nr">358:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original keyword">return</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">NULL</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-359"><span class="line_nr">359:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original punctuation">}</span></div></td></tr>
<tr><td class="loc" id="loc-360"><span class="line_nr">360:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original keyword">while</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">ch</span></div><div style="display: inline;"><span class="original punctuation">!=</span></div><div style="display: inline;"><span class="original identifier">EOF</span></div><div style="display: inline;"><span class="original punctuation">)</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">&amp;&amp;</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">ch</span></div><div style="display: inline;"><span class="original punctuation">!=</span></div><div style="display: inline;"><span class="original literal">'\n'</span></div><div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original punctuation">)</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">ch</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">=</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">getchar</span></div><div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original punctuation">;</span></div>&nbsp;&nbsp;<div style="display: inline;"><span class="original comment">/* flush rest of input line */</span></div></td></tr>
<tr><td class="loc" id="loc-361"><span class="line_nr">361:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original punctuation">}</span></div>&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original punctuation">}</span></div>&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original punctuation">}</span></div></td></tr>
<tr><td class="loc" id="loc-362"><span class="line_nr">362:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original identifier">f</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">=</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">fopen</span></div><div style="display: inline;"><span class="original punctuation">(</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">dstFileName</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original literal">&quot;wb&quot;</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-363"><span class="line_nr">363:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original keyword">if</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">f</span></div><div style="display: inline;"><span class="original punctuation">==</span></div><div style="display: inline;"><span class="original identifier">NULL</span></div><div style="display: inline;"><span class="original punctuation">)</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">DISPLAYLEVEL</span></div><div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original literal">1</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original literal">&quot;%s: %s\n&quot;</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">dstFileName</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">strerror</span></div><div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">errno</span></div><div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-364"><span class="line_nr">364:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original punctuation">}</span></div></td></tr>
<tr><td class="loc" id="loc-365"><span class="line_nr">365:</span></td></tr>
<tr><td class="loc" id="loc-366"><span class="line_nr">366:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original comment">/* sparse file */</span></div></td></tr>
<tr><td class="loc" id="loc-367"><span class="line_nr">367:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original punctuation">{</span></div>&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original keyword">int</span></div>&nbsp;<div style="display: inline;"><span class="original keyword">const</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">sparseMode</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">=</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">prefs</span></div><div style="display: inline;"><span class="original punctuation">-&gt;</span></div><div style="display: inline;"><span class="original identifier">sparseFileSupport</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">-</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">f</span></div><div style="display: inline;"><span class="original punctuation">==</span></div><div style="display: inline;"><span class="original identifier">stdout</span></div><div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original punctuation">)</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">&gt;</span></div>&nbsp;<div style="display: inline;"><span class="original literal">0</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-368"><span class="line_nr">368:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original keyword">if</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">f</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">&amp;&amp;</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">sparseMode</span></div><div style="display: inline;"><span class="original punctuation">)</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">{</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">SET_SPARSE_FILE_MODE</span></div><div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">f</span></div><div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original punctuation">;</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">}</span></div></td></tr>
<tr><td class="loc" id="loc-369"><span class="line_nr">369:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original punctuation">}</span></div></td></tr>
<tr><td class="loc" id="loc-370"><span class="line_nr">370:</span></td></tr>
<tr><td class="loc" id="loc-371"><span class="line_nr">371:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original keyword">return</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">f</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-372"><span class="line_nr">372:</span><div style="display: inline;"><span class="original punctuation">}</span></div></td></tr>
<tr><td class="loc" id="loc-373"><span class="line_nr">373:</span></td></tr>
<tr><td class="loc" id="loc-374"><span class="line_nr">374:</span></td></tr>
<tr><td class="loc" id="loc-375"><span class="line_nr">375:</span></td></tr>
<tr><td class="loc" id="loc-376"><span class="line_nr">376:</span><div style="display: inline;"><span class="original comment">/***************************************</span></div></td></tr>
<tr><td class="loc" id="loc-377"><span class="line_nr">377:</span><div style="display: inline;"><span class="original comment">*   Legacy Compression</span></div></td></tr>
<tr><td class="loc" id="loc-378"><span class="line_nr">378:</span><div style="display: inline;"><span class="original comment">***************************************/</span></div></td></tr>
<tr><td class="loc" id="loc-379"><span class="line_nr">379:</span></td></tr>
<tr><td class="loc" id="loc-380"><span class="line_nr">380:</span><div style="display: inline;"><span class="original comment">/* unoptimized version; solves endianess &amp; alignment issues */</span></div></td></tr>
<tr><td class="loc" id="loc-381"><span class="line_nr">381:</span><div style="display: inline;"><span class="original keyword">static</span></div>&nbsp;<div style="display: inline;"><span class="original keyword">void</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">LZ4IO_writeLE32</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original keyword">void</span></div><div style="display: inline;"><span class="original punctuation">*</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">p</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original keyword">unsigned</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">value32</span></div><div style="display: inline;"><span class="original punctuation">)</span></div></td></tr>
<tr><td class="loc" id="loc-382"><span class="line_nr">382:</span><div style="display: inline;"><span class="original punctuation">{</span></div></td></tr>
<tr><td class="loc" id="loc-383"><span class="line_nr">383:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original keyword">unsigned</span></div>&nbsp;<div style="display: inline;"><span class="original keyword">char</span></div><div style="display: inline;"><span class="original punctuation">*</span></div>&nbsp;<div style="display: inline;"><span class="original keyword">const</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">dstPtr</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">=</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original keyword">unsigned</span></div>&nbsp;<div style="display: inline;"><span class="original keyword">char</span></div><div style="display: inline;"><span class="original punctuation">*</span></div><div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original identifier">p</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-384"><span class="line_nr">384:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original identifier">dstPtr</span></div><div style="display: inline;"><span class="original punctuation">[</span></div><div style="display: inline;"><span class="original literal">0</span></div><div style="display: inline;"><span class="original punctuation">]</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">=</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original keyword">unsigned</span></div>&nbsp;<div style="display: inline;"><span class="original keyword">char</span></div><div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original identifier">value32</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-385"><span class="line_nr">385:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original identifier">dstPtr</span></div><div style="display: inline;"><span class="original punctuation">[</span></div><div style="display: inline;"><span class="original literal">1</span></div><div style="display: inline;"><span class="original punctuation">]</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">=</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original keyword">unsigned</span></div>&nbsp;<div style="display: inline;"><span class="original keyword">char</span></div><div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">value32</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">&gt;&gt;</span></div>&nbsp;<div style="display: inline;"><span class="original literal">8</span></div><div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-386"><span class="line_nr">386:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original identifier">dstPtr</span></div><div style="display: inline;"><span class="original punctuation">[</span></div><div style="display: inline;"><span class="original literal">2</span></div><div style="display: inline;"><span class="original punctuation">]</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">=</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original keyword">unsigned</span></div>&nbsp;<div style="display: inline;"><span class="original keyword">char</span></div><div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">value32</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">&gt;&gt;</span></div>&nbsp;<div style="display: inline;"><span class="original literal">16</span></div><div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-387"><span class="line_nr">387:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original identifier">dstPtr</span></div><div style="display: inline;"><span class="original punctuation">[</span></div><div style="display: inline;"><span class="original literal">3</span></div><div style="display: inline;"><span class="original punctuation">]</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">=</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original keyword">unsigned</span></div>&nbsp;<div style="display: inline;"><span class="original keyword">char</span></div><div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">value32</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">&gt;&gt;</span></div>&nbsp;<div style="display: inline;"><span class="original literal">24</span></div><div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-388"><span class="line_nr">388:</span><div style="display: inline;"><span class="original punctuation">}</span></div></td></tr>
<tr><td class="loc" id="loc-389"><span class="line_nr">389:</span></td></tr>
<tr><td class="loc" id="loc-390"><span class="line_nr">390:</span><div style="display: inline;"><span class="original keyword">static</span></div>&nbsp;<div style="display: inline;"><span class="original keyword">int</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">LZ4IO_LZ4_compress</span></div><div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original keyword">const</span></div>&nbsp;<div style="display: inline;"><span class="original keyword">char</span></div><div style="display: inline;"><span class="original punctuation">*</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">src</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original keyword">char</span></div><div style="display: inline;"><span class="original punctuation">*</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">dst</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original keyword">int</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">srcSize</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original keyword">int</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">dstSize</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original keyword">int</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">cLevel</span></div><div style="display: inline;"><span class="original punctuation">)</span></div></td></tr>
<tr><td class="loc" id="loc-391"><span class="line_nr">391:</span><div style="display: inline;"><span class="original punctuation">{</span></div></td></tr>
<tr><td class="loc" id="loc-392"><span class="line_nr">392:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original keyword">void</span></div><div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original identifier">cLevel</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-393"><span class="line_nr">393:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original keyword">return</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">LZ4_compress_fast</span></div><div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">src</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">dst</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">srcSize</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">dstSize</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original literal">1</span></div><div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-394"><span class="line_nr">394:</span><div style="display: inline;"><span class="original punctuation">}</span></div></td></tr>
<tr><td class="loc" id="loc-395"><span class="line_nr">395:</span></td></tr>
<tr><td class="loc" id="loc-396"><span class="line_nr">396:</span><div style="display: inline;"><span class="original comment">/* LZ4IO_compressFilename_Legacy :</span></div></td></tr>
<tr><td class="loc" id="loc-397"><span class="line_nr">397:</span><div style="display: inline;"><span class="original comment"> * This function is intentionally &quot;hidden&quot; (not published in .h)</span></div></td></tr>
<tr><td class="loc" id="loc-398"><span class="line_nr">398:</span><div style="display: inline;"><span class="original comment"> * It generates compressed streams using the old 'legacy' format */</span></div></td></tr>
<tr><td class="loc" id="loc-399"><span class="line_nr">399:</span><div style="display: inline;"><span class="original keyword">int</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">LZ4IO_compressFilename_Legacy</span></div><div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original keyword">const</span></div>&nbsp;<div style="display: inline;"><span class="original keyword">char</span></div><div style="display: inline;"><span class="original punctuation">*</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">input_filename</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original keyword">const</span></div>&nbsp;<div style="display: inline;"><span class="original keyword">char</span></div><div style="display: inline;"><span class="original punctuation">*</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">output_filename</span></div><div style="display: inline;"><span class="original punctuation">,</span></div></td></tr>
<tr><td class="loc" id="loc-400"><span class="line_nr">400:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original keyword">int</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">compressionlevel</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original keyword">const</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">LZ4IO_prefs_t</span></div><div style="display: inline;"><span class="original punctuation">*</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">prefs</span></div><div style="display: inline;"><span class="original punctuation">)</span></div></td></tr>
<tr><td class="loc" id="loc-401"><span class="line_nr">401:</span><div style="display: inline;"><span class="original punctuation">{</span></div></td></tr>
<tr><td class="loc" id="loc-402"><span class="line_nr">402:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original keyword">typedef</span></div>&nbsp;<div style="display: inline;"><span class="original keyword">int</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original punctuation">*</span></div><div style="display: inline;"><span class="original identifier">compress_f</span></div><div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original keyword">const</span></div>&nbsp;<div style="display: inline;"><span class="original keyword">char</span></div><div style="display: inline;"><span class="original punctuation">*</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">src</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original keyword">char</span></div><div style="display: inline;"><span class="original punctuation">*</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">dst</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original keyword">int</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">srcSize</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original keyword">int</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">dstSize</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original keyword">int</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">cLevel</span></div><div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-403"><span class="line_nr">403:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original identifier">compress_f</span></div>&nbsp;<div style="display: inline;"><span class="original keyword">const</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">compressionFunction</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">=</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">compressionlevel</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">&lt;</span></div>&nbsp;<div style="display: inline;"><span class="original literal">3</span></div><div style="display: inline;"><span class="original punctuation">)</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">?</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">LZ4IO_LZ4_compress</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">:</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">LZ4_compress_HC</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-404"><span class="line_nr">404:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original keyword">unsigned</span></div>&nbsp;<div style="display: inline;"><span class="original keyword">long</span></div>&nbsp;<div style="display: inline;"><span class="original keyword">long</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">filesize</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">=</span></div>&nbsp;<div style="display: inline;"><span class="original literal">0</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-405"><span class="line_nr">405:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original keyword">unsigned</span></div>&nbsp;<div style="display: inline;"><span class="original keyword">long</span></div>&nbsp;<div style="display: inline;"><span class="original keyword">long</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">compressedfilesize</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">=</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">MAGICNUMBER_SIZE</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-406"><span class="line_nr">406:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original keyword">char</span></div><div style="display: inline;"><span class="original punctuation">*</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">in_buff</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-407"><span class="line_nr">407:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original keyword">char</span></div><div style="display: inline;"><span class="original punctuation">*</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">out_buff</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-408"><span class="line_nr">408:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original keyword">const</span></div>&nbsp;<div style="display: inline;"><span class="original keyword">int</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">outBuffSize</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">=</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">LZ4_compressBound</span></div><div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">LEGACY_BLOCKSIZE</span></div><div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-409"><span class="line_nr">409:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original identifier">FILE</span></div><div style="display: inline;"><span class="original punctuation">*</span></div>&nbsp;<div style="display: inline;"><span class="original keyword">const</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">finput</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">=</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">LZ4IO_openSrcFile</span></div><div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">input_filename</span></div><div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-410"><span class="line_nr">410:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original identifier">FILE</span></div><div style="display: inline;"><span class="original punctuation">*</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">foutput</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-411"><span class="line_nr">411:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original identifier">clock_t</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">clockEnd</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-412"><span class="line_nr">412:</span></td></tr>
<tr><td class="loc" id="loc-413"><span class="line_nr">413:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original comment">/* Init */</span></div></td></tr>
<tr><td class="loc" id="loc-414"><span class="line_nr">414:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original identifier">clock_t</span></div>&nbsp;<div style="display: inline;"><span class="original keyword">const</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">clockStart</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">=</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">clock</span></div><div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-415"><span class="line_nr">415:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original keyword">if</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">finput</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">==</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">NULL</span></div><div style="display: inline;"><span class="original punctuation">)</span></div></td></tr>
<tr><td class="loc" id="loc-416"><span class="line_nr">416:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original identifier">EXM_THROW</span></div><div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original literal">20</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original literal">&quot;%s : open file error &quot;</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">input_filename</span></div><div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-417"><span class="line_nr">417:</span></td></tr>
<tr><td class="loc" id="loc-418"><span class="line_nr">418:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original identifier">foutput</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">=</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">LZ4IO_openDstFile</span></div><div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">output_filename</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">prefs</span></div><div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-419"><span class="line_nr">419:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original keyword">if</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">foutput</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">==</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">NULL</span></div><div style="display: inline;"><span class="original punctuation">)</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">{</span></div></td></tr>
<tr><td class="loc" id="loc-420"><span class="line_nr">420:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original identifier">fclose</span></div><div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">finput</span></div><div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-421"><span class="line_nr">421:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original identifier">EXM_THROW</span></div><div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original literal">20</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original literal">&quot;%s : open file error &quot;</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">input_filename</span></div><div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-422"><span class="line_nr">422:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original punctuation">}</span></div></td></tr>
<tr><td class="loc" id="loc-423"><span class="line_nr">423:</span></td></tr>
<tr><td class="loc" id="loc-424"><span class="line_nr">424:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original comment">/* Allocate Memory */</span></div></td></tr>
<tr><td class="loc" id="loc-425"><span class="line_nr">425:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original identifier">in_buff</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">=</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original keyword">char</span></div><div style="display: inline;"><span class="original punctuation">*</span></div><div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original identifier">malloc</span></div><div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">LEGACY_BLOCKSIZE</span></div><div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-426"><span class="line_nr">426:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original identifier">out_buff</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">=</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original keyword">char</span></div><div style="display: inline;"><span class="original punctuation">*</span></div><div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original identifier">malloc</span></div><div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">size_t</span></div><div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original identifier">outBuffSize</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">+</span></div>&nbsp;<div style="display: inline;"><span class="original literal">4</span></div><div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-427"><span class="line_nr">427:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original keyword">if</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original punctuation">!</span></div><div style="display: inline;"><span class="original identifier">in_buff</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">||</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">!</span></div><div style="display: inline;"><span class="original identifier">out_buff</span></div><div style="display: inline;"><span class="original punctuation">)</span></div></td></tr>
<tr><td class="loc" id="loc-428"><span class="line_nr">428:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original identifier">EXM_THROW</span></div><div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original literal">21</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original literal">&quot;Allocation error : not enough memory&quot;</span></div><div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-429"><span class="line_nr">429:</span></td></tr>
<tr><td class="loc" id="loc-430"><span class="line_nr">430:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original comment">/* Write Archive Header */</span></div></td></tr>
<tr><td class="loc" id="loc-431"><span class="line_nr">431:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original identifier">LZ4IO_writeLE32</span></div><div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">out_buff</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">LEGACY_MAGICNUMBER</span></div><div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-432"><span class="line_nr">432:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original keyword">if</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">fwrite</span></div><div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">out_buff</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original literal">1</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">MAGICNUMBER_SIZE</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">foutput</span></div><div style="display: inline;"><span class="original punctuation">)</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">!=</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">MAGICNUMBER_SIZE</span></div><div style="display: inline;"><span class="original punctuation">)</span></div></td></tr>
<tr><td class="loc" id="loc-433"><span class="line_nr">433:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original identifier">EXM_THROW</span></div><div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original literal">22</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original literal">&quot;Write error : cannot write header&quot;</span></div><div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-434"><span class="line_nr">434:</span></td></tr>
<tr><td class="loc" id="loc-435"><span class="line_nr">435:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original comment">/* Main Loop */</span></div></td></tr>
<tr><td class="loc" id="loc-436"><span class="line_nr">436:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original keyword">while</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original literal">1</span></div><div style="display: inline;"><span class="original punctuation">)</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">{</span></div></td></tr>
<tr><td class="loc" id="loc-437"><span class="line_nr">437:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original keyword">int</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">outSize</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-438"><span class="line_nr">438:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original comment">/* Read Block */</span></div></td></tr>
<tr><td class="loc" id="loc-439"><span class="line_nr">439:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original identifier">size_t</span></div>&nbsp;<div style="display: inline;"><span class="original keyword">const</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">inSize</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">=</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">fread</span></div><div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">in_buff</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">size_t</span></div><div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original literal">1</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">size_t</span></div><div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original identifier">LEGACY_BLOCKSIZE</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">finput</span></div><div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-440"><span class="line_nr">440:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original keyword">if</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">inSize</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">==</span></div>&nbsp;<div style="display: inline;"><span class="original literal">0</span></div><div style="display: inline;"><span class="original punctuation">)</span></div>&nbsp;<div style="display: inline;"><span class="original keyword">break</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-441"><span class="line_nr">441:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original identifier">assert</span></div><div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">inSize</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">&lt;=</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">LEGACY_BLOCKSIZE</span></div><div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-442"><span class="line_nr">442:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original identifier">filesize</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">+=</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">inSize</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-443"><span class="line_nr">443:</span></td></tr>
<tr><td class="loc" id="loc-444"><span class="line_nr">444:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original comment">/* Compress Block */</span></div></td></tr>
<tr><td class="loc" id="loc-445"><span class="line_nr">445:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original identifier">outSize</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">=</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">compressionFunction</span></div><div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">in_buff</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">out_buff</span></div><div style="display: inline;"><span class="original punctuation">+</span></div><div style="display: inline;"><span class="original literal">4</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original keyword">int</span></div><div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original identifier">inSize</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">outBuffSize</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">compressionlevel</span></div><div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-446"><span class="line_nr">446:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original identifier">assert</span></div><div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">outSize</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">&gt;=</span></div>&nbsp;<div style="display: inline;"><span class="original literal">0</span></div><div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-447"><span class="line_nr">447:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original identifier">compressedfilesize</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">+=</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original keyword">unsigned</span></div>&nbsp;<div style="display: inline;"><span class="original keyword">long</span></div>&nbsp;<div style="display: inline;"><span class="original keyword">long</span></div><div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original identifier">outSize</span></div><div style="display: inline;"><span class="original punctuation">+</span></div><div style="display: inline;"><span class="original literal">4</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-448"><span class="line_nr">448:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original identifier">DISPLAYUPDATE</span></div><div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original literal">2</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original literal">&quot;\rRead : %i MB  ==&gt; %.2f%%   &quot;</span></div><div style="display: inline;"><span class="original punctuation">,</span></div></td></tr>
<tr><td class="loc" id="loc-449"><span class="line_nr">449:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original keyword">int</span></div><div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">filesize</span></div><div style="display: inline;"><span class="original punctuation">&gt;&gt;</span></div><div style="display: inline;"><span class="original literal">20</span></div><div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original keyword">double</span></div><div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original identifier">compressedfilesize</span></div><div style="display: inline;"><span class="original punctuation">/</span></div><div style="display: inline;"><span class="original identifier">filesize</span></div><div style="display: inline;"><span class="original punctuation">*</span></div><div style="display: inline;"><span class="original literal">100</span></div><div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-450"><span class="line_nr">450:</span></td></tr>
<tr><td class="loc" id="loc-451"><span class="line_nr">451:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original comment">/* Write Block */</span></div></td></tr>
<tr><td class="loc" id="loc-452"><span class="line_nr">452:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original identifier">assert</span></div><div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">outSize</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">&gt;</span></div>&nbsp;<div style="display: inline;"><span class="original literal">0</span></div><div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-453"><span class="line_nr">453:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original identifier">assert</span></div><div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">outSize</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">&lt;</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">outBuffSize</span></div><div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-454"><span class="line_nr">454:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original identifier">LZ4IO_writeLE32</span></div><div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">out_buff</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original keyword">unsigned</span></div><div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original identifier">outSize</span></div><div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-455"><span class="line_nr">455:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original keyword">if</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">fwrite</span></div><div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">out_buff</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original literal">1</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">size_t</span></div><div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original identifier">outSize</span></div><div style="display: inline;"><span class="original punctuation">+</span></div><div style="display: inline;"><span class="original literal">4</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">foutput</span></div><div style="display: inline;"><span class="original punctuation">)</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">!=</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">size_t</span></div><div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">outSize</span></div><div style="display: inline;"><span class="original punctuation">+</span></div><div style="display: inline;"><span class="original literal">4</span></div><div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original punctuation">)</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">{</span></div></td></tr>
<tr><td class="loc" id="loc-456"><span class="line_nr">456:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original identifier">EXM_THROW</span></div><div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original literal">24</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original literal">&quot;Write error : cannot write compressed block&quot;</span></div><div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-457"><span class="line_nr">457:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original punctuation">}</span></div>&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original punctuation">}</span></div></td></tr>
<tr><td class="loc" id="loc-458"><span class="line_nr">458:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original keyword">if</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">ferror</span></div><div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">finput</span></div><div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original punctuation">)</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">EXM_THROW</span></div><div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original literal">25</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original literal">&quot;Error while reading %s &quot;</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">input_filename</span></div><div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-459"><span class="line_nr">459:</span></td></tr>
<tr><td class="loc" id="loc-460"><span class="line_nr">460:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original comment">/* Status */</span></div></td></tr>
<tr><td class="loc" id="loc-461"><span class="line_nr">461:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original identifier">clockEnd</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">=</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">clock</span></div><div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-462"><span class="line_nr">462:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original keyword">if</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">clockEnd</span></div><div style="display: inline;"><span class="original punctuation">==</span></div><div style="display: inline;"><span class="original identifier">clockStart</span></div><div style="display: inline;"><span class="original punctuation">)</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">clockEnd</span></div><div style="display: inline;"><span class="original punctuation">+=</span></div><div style="display: inline;"><span class="original literal">1</span></div><div style="display: inline;"><span class="original punctuation">;</span></div>&nbsp;&nbsp;<div style="display: inline;"><span class="original comment">/* avoid division by zero (speed) */</span></div></td></tr>
<tr><td class="loc" id="loc-463"><span class="line_nr">463:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original identifier">filesize</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">+=</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">!</span></div><div style="display: inline;"><span class="original identifier">filesize</span></div><div style="display: inline;"><span class="original punctuation">;</span></div>&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original comment">/* avoid division by zero (ratio) */</span></div></td></tr>
<tr><td class="loc" id="loc-464"><span class="line_nr">464:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original identifier">DISPLAYLEVEL</span></div><div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original literal">2</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original literal">&quot;\r%79s\r&quot;</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original literal">&quot;&quot;</span></div><div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original punctuation">;</span></div>&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original comment">/* blank line */</span></div></td></tr>
<tr><td class="loc" id="loc-465"><span class="line_nr">465:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original identifier">DISPLAYLEVEL</span></div><div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original literal">2</span></div><div style="display: inline;"><span class="original punctuation">,</span></div><div style="display: inline;"><span class="original literal">&quot;Compressed %llu bytes into %llu bytes ==&gt; %.2f%%\n&quot;</span></div><div style="display: inline;"><span class="original punctuation">,</span></div></td></tr>
<tr><td class="loc" id="loc-466"><span class="line_nr">466:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original identifier">filesize</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">compressedfilesize</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original keyword">double</span></div><div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original identifier">compressedfilesize</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">/</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">filesize</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">*</span></div>&nbsp;<div style="display: inline;"><span class="original literal">100</span></div><div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-467"><span class="line_nr">467:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original punctuation">{</span></div>&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original keyword">double</span></div>&nbsp;<div style="display: inline;"><span class="original keyword">const</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">seconds</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">=</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original keyword">double</span></div><div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">clockEnd</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">-</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">clockStart</span></div><div style="display: inline;"><span class="original punctuation">)</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">/</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">CLOCKS_PER_SEC</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-468"><span class="line_nr">468:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original identifier">DISPLAYLEVEL</span></div><div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original literal">4</span></div><div style="display: inline;"><span class="original punctuation">,</span></div><div style="display: inline;"><span class="original literal">&quot;Done in %.2f s ==&gt; %.2f MB/s\n&quot;</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">seconds</span></div><div style="display: inline;"><span class="original punctuation">,</span></div></td></tr>
<tr><td class="loc" id="loc-469"><span class="line_nr">469:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original keyword">double</span></div><div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original identifier">filesize</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">/</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">seconds</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">/</span></div>&nbsp;<div style="display: inline;"><span class="original literal">1024</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">/</span></div>&nbsp;<div style="display: inline;"><span class="original literal">1024</span></div><div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-470"><span class="line_nr">470:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original punctuation">}</span></div></td></tr>
<tr><td class="loc" id="loc-471"><span class="line_nr">471:</span></td></tr>
<tr><td class="loc" id="loc-472"><span class="line_nr">472:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original comment">/* Close &amp; Free */</span></div></td></tr>
<tr><td class="loc" id="loc-473"><span class="line_nr">473:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original identifier">free</span></div><div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">in_buff</span></div><div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-474"><span class="line_nr">474:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original identifier">free</span></div><div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">out_buff</span></div><div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-475"><span class="line_nr">475:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original identifier">fclose</span></div><div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">finput</span></div><div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-476"><span class="line_nr">476:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original keyword">if</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">strcmp</span></div><div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">output_filename</span></div><div style="display: inline;"><span class="original punctuation">,</span></div><div style="display: inline;"><span class="original identifier">stdoutmark</span></div><div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original punctuation">)</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">fclose</span></div><div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">foutput</span></div><div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original punctuation">;</span></div>&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original comment">/* do not close stdout */</span></div></td></tr>
<tr><td class="loc" id="loc-477"><span class="line_nr">477:</span></td></tr>
<tr><td class="loc" id="loc-478"><span class="line_nr">478:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original keyword">return</span></div>&nbsp;<div style="display: inline;"><span class="original literal">0</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-479"><span class="line_nr">479:</span><div style="display: inline;"><span class="original punctuation">}</span></div></td></tr>
<tr><td class="loc" id="loc-480"><span class="line_nr">480:</span></td></tr>
<tr><td class="loc" id="loc-481"><span class="line_nr">481:</span><div style="display: inline;"><span class="original punctuation">#</span></div><div style="display: inline;"><span class="original identifier">define</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">FNSPACE</span></div>&nbsp;<div style="display: inline;"><span class="original literal">30</span></div></td></tr>
<tr><td class="loc" id="loc-482"><span class="line_nr">482:</span><div style="display: inline;"><span class="original comment">/* LZ4IO_compressMultipleFilenames_Legacy :</span></div></td></tr>
<tr><td class="loc" id="loc-483"><span class="line_nr">483:</span><div style="display: inline;"><span class="original comment"> * This function is intentionally &quot;hidden&quot; (not published in .h)</span></div></td></tr>
<tr><td class="loc" id="loc-484"><span class="line_nr">484:</span><div style="display: inline;"><span class="original comment"> * It generates multiple compressed streams using the old 'legacy' format */</span></div></td></tr>
<tr><td class="loc" id="loc-485"><span class="line_nr">485:</span><div style="display: inline;"><span class="original keyword">int</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">LZ4IO_compressMultipleFilenames_Legacy</span></div><div style="display: inline;"><span class="original punctuation">(</span></div></td></tr>
<tr><td class="loc" id="loc-486"><span class="line_nr">486:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original keyword">const</span></div>&nbsp;<div style="display: inline;"><span class="original keyword">char</span></div><div style="display: inline;"><span class="original punctuation">*</span></div><div style="display: inline;"><span class="original punctuation">*</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">inFileNamesTable</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original keyword">int</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">ifntSize</span></div><div style="display: inline;"><span class="original punctuation">,</span></div></td></tr>
<tr><td class="loc" id="loc-487"><span class="line_nr">487:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original keyword">const</span></div>&nbsp;<div style="display: inline;"><span class="original keyword">char</span></div><div style="display: inline;"><span class="original punctuation">*</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">suffix</span></div><div style="display: inline;"><span class="original punctuation">,</span></div></td></tr>
<tr><td class="loc" id="loc-488"><span class="line_nr">488:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original keyword">int</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">compressionLevel</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original keyword">const</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">LZ4IO_prefs_t</span></div><div style="display: inline;"><span class="original punctuation">*</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">prefs</span></div><div style="display: inline;"><span class="original punctuation">)</span></div></td></tr>
<tr><td class="loc" id="loc-489"><span class="line_nr">489:</span><div style="display: inline;"><span class="original punctuation">{</span></div></td></tr>
<tr><td class="loc" id="loc-490"><span class="line_nr">490:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original keyword">int</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">i</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-491"><span class="line_nr">491:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original keyword">int</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">missed_files</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">=</span></div>&nbsp;<div style="display: inline;"><span class="original literal">0</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-492"><span class="line_nr">492:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original keyword">char</span></div><div style="display: inline;"><span class="original punctuation">*</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">dstFileName</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">=</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original keyword">char</span></div><div style="display: inline;"><span class="original punctuation">*</span></div><div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original identifier">malloc</span></div><div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">FNSPACE</span></div><div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-493"><span class="line_nr">493:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original identifier">size_t</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">ofnSize</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">=</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">FNSPACE</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-494"><span class="line_nr">494:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original keyword">const</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">size_t</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">suffixSize</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">=</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">strlen</span></div><div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">suffix</span></div><div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-495"><span class="line_nr">495:</span></td></tr>
<tr><td class="loc" id="loc-496"><span class="line_nr">496:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original keyword">if</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">dstFileName</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">==</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">NULL</span></div><div style="display: inline;"><span class="original punctuation">)</span></div>&nbsp;<div style="display: inline;"><span class="original keyword">return</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">ifntSize</span></div><div style="display: inline;"><span class="original punctuation">;</span></div>&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original comment">/* not enough memory */</span></div></td></tr>
<tr><td class="loc" id="loc-497"><span class="line_nr">497:</span></td></tr>
<tr><td class="loc" id="loc-498"><span class="line_nr">498:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original comment">/* loop on each file */</span></div></td></tr>
<tr><td class="loc" id="loc-499"><span class="line_nr">499:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original keyword">for</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">i</span></div><div style="display: inline;"><span class="original punctuation">=</span></div><div style="display: inline;"><span class="original literal">0</span></div><div style="display: inline;"><span class="original punctuation">;</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">i</span></div><div style="display: inline;"><span class="original punctuation">&lt;</span></div><div style="display: inline;"><span class="original identifier">ifntSize</span></div><div style="display: inline;"><span class="original punctuation">;</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">i</span></div><div style="display: inline;"><span class="original punctuation">++</span></div><div style="display: inline;"><span class="original punctuation">)</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">{</span></div></td></tr>
<tr><td class="loc" id="loc-500"><span class="line_nr">500:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original identifier">size_t</span></div>&nbsp;<div style="display: inline;"><span class="original keyword">const</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">ifnSize</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">=</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">strlen</span></div><div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">inFileNamesTable</span></div><div style="display: inline;"><span class="original punctuation">[</span></div><div style="display: inline;"><span class="original identifier">i</span></div><div style="display: inline;"><span class="original punctuation">]</span></div><div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-501"><span class="line_nr">501:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original keyword">if</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original punctuation">!</span></div><div style="display: inline;"><span class="original identifier">strcmp</span></div><div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">suffix</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">stdoutmark</span></div><div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original punctuation">)</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">{</span></div></td></tr>
<tr><td class="loc" id="loc-502"><span class="line_nr">502:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original identifier">missed_files</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">+=</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">LZ4IO_compressFilename_Legacy</span></div><div style="display: inline;"><span class="original punctuation">(</span></div></td></tr>
<tr><td class="loc" id="loc-503"><span class="line_nr">503:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original identifier">inFileNamesTable</span></div><div style="display: inline;"><span class="original punctuation">[</span></div><div style="display: inline;"><span class="original identifier">i</span></div><div style="display: inline;"><span class="original punctuation">]</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">stdoutmark</span></div><div style="display: inline;"><span class="original punctuation">,</span></div></td></tr>
<tr><td class="loc" id="loc-504"><span class="line_nr">504:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original identifier">compressionLevel</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">prefs</span></div><div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-505"><span class="line_nr">505:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original keyword">continue</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-506"><span class="line_nr">506:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original punctuation">}</span></div></td></tr>
<tr><td class="loc" id="loc-507"><span class="line_nr">507:</span></td></tr>
<tr><td class="loc" id="loc-508"><span class="line_nr">508:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original keyword">if</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">ofnSize</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">&lt;=</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">ifnSize</span></div><div style="display: inline;"><span class="original punctuation">+</span></div><div style="display: inline;"><span class="original identifier">suffixSize</span></div><div style="display: inline;"><span class="original punctuation">+</span></div><div style="display: inline;"><span class="original literal">1</span></div><div style="display: inline;"><span class="original punctuation">)</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">{</span></div></td></tr>
<tr><td class="loc" id="loc-509"><span class="line_nr">509:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original identifier">free</span></div><div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">dstFileName</span></div><div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-510"><span class="line_nr">510:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original identifier">ofnSize</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">=</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">ifnSize</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">+</span></div>&nbsp;<div style="display: inline;"><span class="original literal">20</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-511"><span class="line_nr">511:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original identifier">dstFileName</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">=</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original keyword">char</span></div><div style="display: inline;"><span class="original punctuation">*</span></div><div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original identifier">malloc</span></div><div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">ofnSize</span></div><div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-512"><span class="line_nr">512:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original keyword">if</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">dstFileName</span></div><div style="display: inline;"><span class="original punctuation">==</span></div><div style="display: inline;"><span class="original identifier">NULL</span></div><div style="display: inline;"><span class="original punctuation">)</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">{</span></div></td></tr>
<tr><td class="loc" id="loc-513"><span class="line_nr">513:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original keyword">return</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">ifntSize</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-514"><span class="line_nr">514:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original punctuation">}</span></div>&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original punctuation">}</span></div></td></tr>
<tr><td class="loc" id="loc-515"><span class="line_nr">515:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original identifier">strcpy</span></div><div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">dstFileName</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">inFileNamesTable</span></div><div style="display: inline;"><span class="original punctuation">[</span></div><div style="display: inline;"><span class="original identifier">i</span></div><div style="display: inline;"><span class="original punctuation">]</span></div><div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-516"><span class="line_nr">516:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original identifier">strcat</span></div><div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">dstFileName</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">suffix</span></div><div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-517"><span class="line_nr">517:</span></td></tr>
<tr><td class="loc" id="loc-518"><span class="line_nr">518:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original identifier">missed_files</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">+=</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">LZ4IO_compressFilename_Legacy</span></div><div style="display: inline;"><span class="original punctuation">(</span></div></td></tr>
<tr><td class="loc" id="loc-519"><span class="line_nr">519:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original identifier">inFileNamesTable</span></div><div style="display: inline;"><span class="original punctuation">[</span></div><div style="display: inline;"><span class="original identifier">i</span></div><div style="display: inline;"><span class="original punctuation">]</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">dstFileName</span></div><div style="display: inline;"><span class="original punctuation">,</span></div></td></tr>
<tr><td class="loc" id="loc-520"><span class="line_nr">520:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original identifier">compressionLevel</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">prefs</span></div><div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-521"><span class="line_nr">521:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original punctuation">}</span></div></td></tr>
<tr><td class="loc" id="loc-522"><span class="line_nr">522:</span></td></tr>
<tr><td class="loc" id="loc-523"><span class="line_nr">523:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original comment">/* Close &amp; Free */</span></div></td></tr>
<tr><td class="loc" id="loc-524"><span class="line_nr">524:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original identifier">free</span></div><div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">dstFileName</span></div><div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-525"><span class="line_nr">525:</span></td></tr>
<tr><td class="loc" id="loc-526"><span class="line_nr">526:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original keyword">return</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">missed_files</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-527"><span class="line_nr">527:</span><div style="display: inline;"><span class="original punctuation">}</span></div></td></tr>
<tr><td class="loc" id="loc-528"><span class="line_nr">528:</span></td></tr>
<tr><td class="loc" id="loc-529"><span class="line_nr">529:</span></td></tr>
<tr><td class="loc" id="loc-530"><span class="line_nr">530:</span><div style="display: inline;"><span class="original comment">/*********************************************</span></div></td></tr>
<tr><td class="loc" id="loc-531"><span class="line_nr">531:</span><div style="display: inline;"><span class="original comment">*  Compression using Frame format</span></div></td></tr>
<tr><td class="loc" id="loc-532"><span class="line_nr">532:</span><div style="display: inline;"><span class="original comment">*********************************************/</span></div></td></tr>
<tr><td class="loc" id="loc-533"><span class="line_nr">533:</span></td></tr>
<tr><td class="loc" id="loc-534"><span class="line_nr">534:</span><div style="display: inline;"><span class="original keyword">typedef</span></div>&nbsp;<div style="display: inline;"><span class="original keyword">struct</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">{</span></div></td></tr>
<tr><td class="loc" id="loc-535"><span class="line_nr">535:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original keyword">void</span></div><div style="display: inline;"><span class="original punctuation">*</span></div>&nbsp;&nbsp;<div style="display: inline;"><span class="original identifier">srcBuffer</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-536"><span class="line_nr">536:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original identifier">size_t</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">srcBufferSize</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-537"><span class="line_nr">537:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original keyword">void</span></div><div style="display: inline;"><span class="original punctuation">*</span></div>&nbsp;&nbsp;<div style="display: inline;"><span class="original identifier">dstBuffer</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-538"><span class="line_nr">538:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original identifier">size_t</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">dstBufferSize</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-539"><span class="line_nr">539:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original identifier">LZ4F_compressionContext_t</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">ctx</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-540"><span class="line_nr">540:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original identifier">LZ4F_CDict</span></div><div style="display: inline;"><span class="original punctuation">*</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">cdict</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-541"><span class="line_nr">541:</span><div style="display: inline;"><span class="original punctuation">}</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">cRess_t</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-542"><span class="line_nr">542:</span></td></tr>
<tr><td class="loc" id="loc-543"><span class="line_nr">543:</span><div style="display: inline;"><span class="original keyword">static</span></div>&nbsp;<div style="display: inline;"><span class="original keyword">void</span></div><div style="display: inline;"><span class="original punctuation">*</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">LZ4IO_createDict</span></div><div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">size_t</span></div><div style="display: inline;"><span class="original punctuation">*</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">dictSize</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original keyword">const</span></div>&nbsp;<div style="display: inline;"><span class="original keyword">char</span></div><div style="display: inline;"><span class="original punctuation">*</span></div>&nbsp;<div style="display: inline;"><span class="original keyword">const</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">dictFilename</span></div><div style="display: inline;"><span class="original punctuation">)</span></div></td></tr>
<tr><td class="loc" id="loc-544"><span class="line_nr">544:</span><div style="display: inline;"><span class="original punctuation">{</span></div></td></tr>
<tr><td class="loc" id="loc-545"><span class="line_nr">545:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original identifier">size_t</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">readSize</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-546"><span class="line_nr">546:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original identifier">size_t</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">dictEnd</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">=</span></div>&nbsp;<div style="display: inline;"><span class="original literal">0</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-547"><span class="line_nr">547:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original identifier">size_t</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">dictLen</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">=</span></div>&nbsp;<div style="display: inline;"><span class="original literal">0</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-548"><span class="line_nr">548:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original identifier">size_t</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">dictStart</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-549"><span class="line_nr">549:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original identifier">size_t</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">circularBufSize</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">=</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">LZ4_MAX_DICT_SIZE</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-550"><span class="line_nr">550:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original keyword">char</span></div><div style="display: inline;"><span class="original punctuation">*</span></div>&nbsp;&nbsp;<div style="display: inline;"><span class="original identifier">circularBuf</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">=</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original keyword">char</span></div><div style="display: inline;"><span class="original punctuation">*</span></div><div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original identifier">malloc</span></div><div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">circularBufSize</span></div><div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-551"><span class="line_nr">551:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original keyword">char</span></div><div style="display: inline;"><span class="original punctuation">*</span></div>&nbsp;&nbsp;<div style="display: inline;"><span class="original identifier">dictBuf</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-552"><span class="line_nr">552:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original identifier">FILE</span></div><div style="display: inline;"><span class="original punctuation">*</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">dictFile</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-553"><span class="line_nr">553:</span></td></tr>
<tr><td class="loc" id="loc-554"><span class="line_nr">554:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original keyword">if</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original punctuation">!</span></div><div style="display: inline;"><span class="original identifier">circularBuf</span></div><div style="display: inline;"><span class="original punctuation">)</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">EXM_THROW</span></div><div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original literal">25</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original literal">&quot;Allocation error : not enough memory for circular buffer&quot;</span></div><div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-555"><span class="line_nr">555:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original keyword">if</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original punctuation">!</span></div><div style="display: inline;"><span class="original identifier">dictFilename</span></div><div style="display: inline;"><span class="original punctuation">)</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">EXM_THROW</span></div><div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original literal">25</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original literal">&quot;Dictionary error : no filename provided&quot;</span></div><div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-556"><span class="line_nr">556:</span></td></tr>
<tr><td class="loc" id="loc-557"><span class="line_nr">557:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original identifier">dictFile</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">=</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">LZ4IO_openSrcFile</span></div><div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">dictFilename</span></div><div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-558"><span class="line_nr">558:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original keyword">if</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original punctuation">!</span></div><div style="display: inline;"><span class="original identifier">dictFile</span></div><div style="display: inline;"><span class="original punctuation">)</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">EXM_THROW</span></div><div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original literal">25</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original literal">&quot;Dictionary error : could not open dictionary file&quot;</span></div><div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-559"><span class="line_nr">559:</span></td></tr>
<tr><td class="loc" id="loc-560"><span class="line_nr">560:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original comment">/* opportunistically seek to the part of the file we care about. If this */</span></div></td></tr>
<tr><td class="loc" id="loc-561"><span class="line_nr">561:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original comment">/* fails it's not a problem since we'll just read everything anyways.    */</span></div></td></tr>
<tr><td class="loc" id="loc-562"><span class="line_nr">562:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original keyword">if</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">strcmp</span></div><div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">dictFilename</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">stdinmark</span></div><div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original punctuation">)</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">{</span></div></td></tr>
<tr><td class="loc" id="loc-563"><span class="line_nr">563:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original keyword">void</span></div><div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original identifier">UTIL_fseek</span></div><div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">dictFile</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">-</span></div><div style="display: inline;"><span class="original identifier">LZ4_MAX_DICT_SIZE</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">SEEK_END</span></div><div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-564"><span class="line_nr">564:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original punctuation">}</span></div></td></tr>
<tr><td class="loc" id="loc-565"><span class="line_nr">565:</span></td></tr>
<tr><td class="loc" id="loc-566"><span class="line_nr">566:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original keyword">do</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">{</span></div></td></tr>
<tr><td class="loc" id="loc-567"><span class="line_nr">567:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original identifier">readSize</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">=</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">fread</span></div><div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">circularBuf</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">+</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">dictEnd</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original literal">1</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">circularBufSize</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">-</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">dictEnd</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">dictFile</span></div><div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-568"><span class="line_nr">568:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original identifier">dictEnd</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">=</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">dictEnd</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">+</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">readSize</span></div><div style="display: inline;"><span class="original punctuation">)</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">%</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">circularBufSize</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-569"><span class="line_nr">569:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original identifier">dictLen</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">+=</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">readSize</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-570"><span class="line_nr">570:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original punctuation">}</span></div>&nbsp;<div style="display: inline;"><span class="original keyword">while</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">readSize</span></div><div style="display: inline;"><span class="original punctuation">&gt;</span></div><div style="display: inline;"><span class="original literal">0</span></div><div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-571"><span class="line_nr">571:</span></td></tr>
<tr><td class="loc" id="loc-572"><span class="line_nr">572:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original keyword">if</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">dictLen</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">&gt;</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">LZ4_MAX_DICT_SIZE</span></div><div style="display: inline;"><span class="original punctuation">)</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">{</span></div></td></tr>
<tr><td class="loc" id="loc-573"><span class="line_nr">573:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original identifier">dictLen</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">=</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">LZ4_MAX_DICT_SIZE</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-574"><span class="line_nr">574:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original punctuation">}</span></div></td></tr>
<tr><td class="loc" id="loc-575"><span class="line_nr">575:</span></td></tr>
<tr><td class="loc" id="loc-576"><span class="line_nr">576:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original punctuation">*</span></div><div style="display: inline;"><span class="original identifier">dictSize</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">=</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">dictLen</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-577"><span class="line_nr">577:</span></td></tr>
<tr><td class="loc" id="loc-578"><span class="line_nr">578:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original identifier">dictStart</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">=</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">circularBufSize</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">+</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">dictEnd</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">-</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">dictLen</span></div><div style="display: inline;"><span class="original punctuation">)</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">%</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">circularBufSize</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-579"><span class="line_nr">579:</span></td></tr>
<tr><td class="loc" id="loc-580"><span class="line_nr">580:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original keyword">if</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">dictStart</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">==</span></div>&nbsp;<div style="display: inline;"><span class="original literal">0</span></div><div style="display: inline;"><span class="original punctuation">)</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">{</span></div></td></tr>
<tr><td class="loc" id="loc-581"><span class="line_nr">581:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original comment">/* We're in the simple case where the dict starts at the beginning of our circular buffer. */</span></div></td></tr>
<tr><td class="loc" id="loc-582"><span class="line_nr">582:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original identifier">dictBuf</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">=</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">circularBuf</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-583"><span class="line_nr">583:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original identifier">circularBuf</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">=</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">NULL</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-584"><span class="line_nr">584:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original punctuation">}</span></div>&nbsp;<div style="display: inline;"><span class="original keyword">else</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">{</span></div></td></tr>
<tr><td class="loc" id="loc-585"><span class="line_nr">585:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original comment">/* Otherwise, we will alloc a new buffer and copy our dict into that. */</span></div></td></tr>
<tr><td class="loc" id="loc-586"><span class="line_nr">586:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original identifier">dictBuf</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">=</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original keyword">char</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">*</span></div><div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original identifier">malloc</span></div><div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">dictLen</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">?</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">dictLen</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">:</span></div>&nbsp;<div style="display: inline;"><span class="original literal">1</span></div><div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-587"><span class="line_nr">587:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original keyword">if</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original punctuation">!</span></div><div style="display: inline;"><span class="original identifier">dictBuf</span></div><div style="display: inline;"><span class="original punctuation">)</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">EXM_THROW</span></div><div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original literal">25</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original literal">&quot;Allocation error : not enough memory&quot;</span></div><div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-588"><span class="line_nr">588:</span></td></tr>
<tr><td class="loc" id="loc-589"><span class="line_nr">589:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original identifier">memcpy</span></div><div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">dictBuf</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">circularBuf</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">+</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">dictStart</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">circularBufSize</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">-</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">dictStart</span></div><div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-590"><span class="line_nr">590:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original identifier">memcpy</span></div><div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">dictBuf</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">+</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">circularBufSize</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">-</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">dictStart</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">circularBuf</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">dictLen</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">-</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">circularBufSize</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">-</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">dictStart</span></div><div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-591"><span class="line_nr">591:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original punctuation">}</span></div></td></tr>
<tr><td class="loc" id="loc-592"><span class="line_nr">592:</span></td></tr>
<tr><td class="loc" id="loc-593"><span class="line_nr">593:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original identifier">fclose</span></div><div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">dictFile</span></div><div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-594"><span class="line_nr">594:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original identifier">free</span></div><div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">circularBuf</span></div><div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-595"><span class="line_nr">595:</span></td></tr>
<tr><td class="loc" id="loc-596"><span class="line_nr">596:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original keyword">return</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">dictBuf</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-597"><span class="line_nr">597:</span><div style="display: inline;"><span class="original punctuation">}</span></div></td></tr>
<tr><td class="loc" id="loc-598"><span class="line_nr">598:</span></td></tr>
<tr><td class="loc" id="loc-599"><span class="line_nr">599:</span><div style="display: inline;"><span class="original keyword">static</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">LZ4F_CDict</span></div><div style="display: inline;"><span class="original punctuation">*</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">LZ4IO_createCDict</span></div><div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original keyword">const</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">LZ4IO_prefs_t</span></div><div style="display: inline;"><span class="original punctuation">*</span></div>&nbsp;<div style="display: inline;"><span class="original keyword">const</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">prefs</span></div><div style="display: inline;"><span class="original punctuation">)</span></div></td></tr>
<tr><td class="loc" id="loc-600"><span class="line_nr">600:</span><div style="display: inline;"><span class="original punctuation">{</span></div></td></tr>
<tr><td class="loc" id="loc-601"><span class="line_nr">601:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original identifier">size_t</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">dictionarySize</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-602"><span class="line_nr">602:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original keyword">void</span></div><div style="display: inline;"><span class="original punctuation">*</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">dictionaryBuffer</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-603"><span class="line_nr">603:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original identifier">LZ4F_CDict</span></div><div style="display: inline;"><span class="original punctuation">*</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">cdict</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-604"><span class="line_nr">604:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original keyword">if</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original punctuation">!</span></div><div style="display: inline;"><span class="original identifier">prefs</span></div><div style="display: inline;"><span class="original punctuation">-&gt;</span></div><div style="display: inline;"><span class="original identifier">useDictionary</span></div><div style="display: inline;"><span class="original punctuation">)</span></div>&nbsp;<div style="display: inline;"><span class="original keyword">return</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">NULL</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-605"><span class="line_nr">605:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original identifier">dictionaryBuffer</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">=</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">LZ4IO_createDict</span></div><div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original punctuation">&amp;</span></div><div style="display: inline;"><span class="original identifier">dictionarySize</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">prefs</span></div><div style="display: inline;"><span class="original punctuation">-&gt;</span></div><div style="display: inline;"><span class="original identifier">dictionaryFilename</span></div><div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-606"><span class="line_nr">606:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original keyword">if</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original punctuation">!</span></div><div style="display: inline;"><span class="original identifier">dictionaryBuffer</span></div><div style="display: inline;"><span class="original punctuation">)</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">EXM_THROW</span></div><div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original literal">25</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original literal">&quot;Dictionary error : could not create dictionary&quot;</span></div><div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-607"><span class="line_nr">607:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original identifier">cdict</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">=</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">LZ4F_createCDict</span></div><div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">dictionaryBuffer</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">dictionarySize</span></div><div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-608"><span class="line_nr">608:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original identifier">free</span></div><div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">dictionaryBuffer</span></div><div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-609"><span class="line_nr">609:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original keyword">return</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">cdict</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-610"><span class="line_nr">610:</span><div style="display: inline;"><span class="original punctuation">}</span></div></td></tr>
<tr><td class="loc" id="loc-611"><span class="line_nr">611:</span></td></tr>
<tr><td class="loc" id="loc-612"><span class="line_nr">612:</span><div style="display: inline;"><span class="original keyword">static</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">cRess_t</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">LZ4IO_createCResources</span></div><div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original keyword">const</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">LZ4IO_prefs_t</span></div><div style="display: inline;"><span class="original punctuation">*</span></div>&nbsp;<div style="display: inline;"><span class="original keyword">const</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">prefs</span></div><div style="display: inline;"><span class="original punctuation">)</span></div></td></tr>
<tr><td class="loc" id="loc-613"><span class="line_nr">613:</span><div style="display: inline;"><span class="original punctuation">{</span></div></td></tr>
<tr><td class="loc" id="loc-614"><span class="line_nr">614:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original keyword">const</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">size_t</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">blockSize</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">=</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">prefs</span></div><div style="display: inline;"><span class="original punctuation">-&gt;</span></div><div style="display: inline;"><span class="original identifier">blockSize</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-615"><span class="line_nr">615:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original identifier">cRess_t</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">ress</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-616"><span class="line_nr">616:</span></td></tr>
<tr><td class="loc" id="loc-617"><span class="line_nr">617:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original identifier">LZ4F_errorCode_t</span></div>&nbsp;<div style="display: inline;"><span class="original keyword">const</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">errorCode</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">=</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">LZ4F_createCompressionContext</span></div><div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original punctuation">&amp;</span></div><div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">ress</span></div><div style="display: inline;"><span class="original punctuation">.</span></div><div style="display: inline;"><span class="original identifier">ctx</span></div><div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">LZ4F_VERSION</span></div><div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-618"><span class="line_nr">618:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original keyword">if</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">LZ4F_isError</span></div><div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">errorCode</span></div><div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original punctuation">)</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">EXM_THROW</span></div><div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original literal">30</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original literal">&quot;Allocation error : can't create LZ4F context : %s&quot;</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">LZ4F_getErrorName</span></div><div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">errorCode</span></div><div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-619"><span class="line_nr">619:</span></td></tr>
<tr><td class="loc" id="loc-620"><span class="line_nr">620:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original comment">/* Allocate Memory */</span></div></td></tr>
<tr><td class="loc" id="loc-621"><span class="line_nr">621:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original identifier">ress</span></div><div style="display: inline;"><span class="original punctuation">.</span></div><div style="display: inline;"><span class="original identifier">srcBuffer</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">=</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">malloc</span></div><div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">blockSize</span></div><div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-622"><span class="line_nr">622:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original identifier">ress</span></div><div style="display: inline;"><span class="original punctuation">.</span></div><div style="display: inline;"><span class="original identifier">srcBufferSize</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">=</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">blockSize</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-623"><span class="line_nr">623:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original identifier">ress</span></div><div style="display: inline;"><span class="original punctuation">.</span></div><div style="display: inline;"><span class="original identifier">dstBufferSize</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">=</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">LZ4F_compressFrameBound</span></div><div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">blockSize</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">NULL</span></div><div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original punctuation">;</span></div>&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original comment">/* cover worst case */</span></div></td></tr>
<tr><td class="loc" id="loc-624"><span class="line_nr">624:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original identifier">ress</span></div><div style="display: inline;"><span class="original punctuation">.</span></div><div style="display: inline;"><span class="original identifier">dstBuffer</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">=</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">malloc</span></div><div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">ress</span></div><div style="display: inline;"><span class="original punctuation">.</span></div><div style="display: inline;"><span class="original identifier">dstBufferSize</span></div><div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-625"><span class="line_nr">625:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original keyword">if</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original punctuation">!</span></div><div style="display: inline;"><span class="original identifier">ress</span></div><div style="display: inline;"><span class="original punctuation">.</span></div><div style="display: inline;"><span class="original identifier">srcBuffer</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">||</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">!</span></div><div style="display: inline;"><span class="original identifier">ress</span></div><div style="display: inline;"><span class="original punctuation">.</span></div><div style="display: inline;"><span class="original identifier">dstBuffer</span></div><div style="display: inline;"><span class="original punctuation">)</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">EXM_THROW</span></div><div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original literal">31</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original literal">&quot;Allocation error : not enough memory&quot;</span></div><div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-626"><span class="line_nr">626:</span></td></tr>
<tr><td class="loc" id="loc-627"><span class="line_nr">627:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original identifier">ress</span></div><div style="display: inline;"><span class="original punctuation">.</span></div><div style="display: inline;"><span class="original identifier">cdict</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">=</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">LZ4IO_createCDict</span></div><div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">prefs</span></div><div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-628"><span class="line_nr">628:</span></td></tr>
<tr><td class="loc" id="loc-629"><span class="line_nr">629:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original keyword">return</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">ress</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-630"><span class="line_nr">630:</span><div style="display: inline;"><span class="original punctuation">}</span></div></td></tr>
<tr><td class="loc" id="loc-631"><span class="line_nr">631:</span></td></tr>
<tr><td class="loc" id="loc-632"><span class="line_nr">632:</span><div style="display: inline;"><span class="original keyword">static</span></div>&nbsp;<div style="display: inline;"><span class="original keyword">void</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">LZ4IO_freeCResources</span></div><div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">cRess_t</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">ress</span></div><div style="display: inline;"><span class="original punctuation">)</span></div></td></tr>
<tr><td class="loc" id="loc-633"><span class="line_nr">633:</span><div style="display: inline;"><span class="original punctuation">{</span></div></td></tr>
<tr><td class="loc" id="loc-634"><span class="line_nr">634:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original identifier">free</span></div><div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">ress</span></div><div style="display: inline;"><span class="original punctuation">.</span></div><div style="display: inline;"><span class="original identifier">srcBuffer</span></div><div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-635"><span class="line_nr">635:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original identifier">free</span></div><div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">ress</span></div><div style="display: inline;"><span class="original punctuation">.</span></div><div style="display: inline;"><span class="original identifier">dstBuffer</span></div><div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-636"><span class="line_nr">636:</span></td></tr>
<tr><td class="loc" id="loc-637"><span class="line_nr">637:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original identifier">LZ4F_freeCDict</span></div><div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">ress</span></div><div style="display: inline;"><span class="original punctuation">.</span></div><div style="display: inline;"><span class="original identifier">cdict</span></div><div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-638"><span class="line_nr">638:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original identifier">ress</span></div><div style="display: inline;"><span class="original punctuation">.</span></div><div style="display: inline;"><span class="original identifier">cdict</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">=</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">NULL</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-639"><span class="line_nr">639:</span></td></tr>
<tr><td class="loc" id="loc-640"><span class="line_nr">640:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original punctuation">{</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">LZ4F_errorCode_t</span></div>&nbsp;<div style="display: inline;"><span class="original keyword">const</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">errorCode</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">=</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">LZ4F_freeCompressionContext</span></div><div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">ress</span></div><div style="display: inline;"><span class="original punctuation">.</span></div><div style="display: inline;"><span class="original identifier">ctx</span></div><div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-641"><span class="line_nr">641:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original keyword">if</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">LZ4F_isError</span></div><div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">errorCode</span></div><div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original punctuation">)</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">EXM_THROW</span></div><div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original literal">38</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original literal">&quot;Error : can't free LZ4F context resource : %s&quot;</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">LZ4F_getErrorName</span></div><div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">errorCode</span></div><div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original punctuation">;</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">}</span></div></td></tr>
<tr><td class="loc" id="loc-642"><span class="line_nr">642:</span><div style="display: inline;"><span class="original punctuation">}</span></div></td></tr>
<tr><td class="loc" id="loc-643"><span class="line_nr">643:</span></td></tr>
<tr><td class="loc" id="loc-644"><span class="line_nr">644:</span><div style="display: inline;"><span class="original comment">/*</span></div></td></tr>
<tr><td class="loc" id="loc-645"><span class="line_nr">645:</span><div style="display: inline;"><span class="original comment"> * LZ4IO_compressFilename_extRess()</span></div></td></tr>
<tr><td class="loc" id="loc-646"><span class="line_nr">646:</span><div style="display: inline;"><span class="original comment"> * result : 0 : compression completed correctly</span></div></td></tr>
<tr><td class="loc" id="loc-647"><span class="line_nr">647:</span><div style="display: inline;"><span class="original comment"> *          1 : missing or pb opening srcFileName</span></div></td></tr>
<tr><td class="loc" id="loc-648"><span class="line_nr">648:</span><div style="display: inline;"><span class="original comment"> */</span></div></td></tr>
<tr><td class="loc" id="loc-649"><span class="line_nr">649:</span><div style="display: inline;"><span class="original keyword">static</span></div>&nbsp;<div style="display: inline;"><span class="original keyword">int</span></div></td></tr>
<tr><td class="loc" id="loc-650"><span class="line_nr">650:</span><div style="display: inline;"><span class="original identifier">LZ4IO_compressFilename_extRess</span></div><div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">cRess_t</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">ress</span></div><div style="display: inline;"><span class="original punctuation">,</span></div></td></tr>
<tr><td class="loc" id="loc-651"><span class="line_nr">651:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original keyword">const</span></div>&nbsp;<div style="display: inline;"><span class="original keyword">char</span></div><div style="display: inline;"><span class="original punctuation">*</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">srcFileName</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original keyword">const</span></div>&nbsp;<div style="display: inline;"><span class="original keyword">char</span></div><div style="display: inline;"><span class="original punctuation">*</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">dstFileName</span></div><div style="display: inline;"><span class="original punctuation">,</span></div></td></tr>
<tr><td class="loc" id="loc-652"><span class="line_nr">652:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original keyword">int</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">compressionLevel</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original keyword">const</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">LZ4IO_prefs_t</span></div><div style="display: inline;"><span class="original punctuation">*</span></div>&nbsp;<div style="display: inline;"><span class="original keyword">const</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">io_prefs</span></div><div style="display: inline;"><span class="original punctuation">)</span></div></td></tr>
<tr><td class="loc" id="loc-653"><span class="line_nr">653:</span><div style="display: inline;"><span class="original punctuation">{</span></div></td></tr>
<tr><td class="loc" id="loc-654"><span class="line_nr">654:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original keyword">unsigned</span></div>&nbsp;<div style="display: inline;"><span class="original keyword">long</span></div>&nbsp;<div style="display: inline;"><span class="original keyword">long</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">filesize</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">=</span></div>&nbsp;<div style="display: inline;"><span class="original literal">0</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-655"><span class="line_nr">655:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original keyword">unsigned</span></div>&nbsp;<div style="display: inline;"><span class="original keyword">long</span></div>&nbsp;<div style="display: inline;"><span class="original keyword">long</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">compressedfilesize</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">=</span></div>&nbsp;<div style="display: inline;"><span class="original literal">0</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-656"><span class="line_nr">656:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original identifier">FILE</span></div><div style="display: inline;"><span class="original punctuation">*</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">dstFile</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-657"><span class="line_nr">657:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original keyword">void</span></div><div style="display: inline;"><span class="original punctuation">*</span></div>&nbsp;<div style="display: inline;"><span class="original keyword">const</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">srcBuffer</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">=</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">ress</span></div><div style="display: inline;"><span class="original punctuation">.</span></div><div style="display: inline;"><span class="original identifier">srcBuffer</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-658"><span class="line_nr">658:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original keyword">void</span></div><div style="display: inline;"><span class="original punctuation">*</span></div>&nbsp;<div style="display: inline;"><span class="original keyword">const</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">dstBuffer</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">=</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">ress</span></div><div style="display: inline;"><span class="original punctuation">.</span></div><div style="display: inline;"><span class="original identifier">dstBuffer</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-659"><span class="line_nr">659:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original keyword">const</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">size_t</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">dstBufferSize</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">=</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">ress</span></div><div style="display: inline;"><span class="original punctuation">.</span></div><div style="display: inline;"><span class="original identifier">dstBufferSize</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-660"><span class="line_nr">660:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original keyword">const</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">size_t</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">blockSize</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">=</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">io_prefs</span></div><div style="display: inline;"><span class="original punctuation">-&gt;</span></div><div style="display: inline;"><span class="original identifier">blockSize</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-661"><span class="line_nr">661:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original identifier">size_t</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">readSize</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-662"><span class="line_nr">662:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original identifier">LZ4F_compressionContext_t</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">ctx</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">=</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">ress</span></div><div style="display: inline;"><span class="original punctuation">.</span></div><div style="display: inline;"><span class="original identifier">ctx</span></div><div style="display: inline;"><span class="original punctuation">;</span></div>&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original comment">/* just a pointer */</span></div></td></tr>
<tr><td class="loc" id="loc-663"><span class="line_nr">663:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original identifier">LZ4F_preferences_t</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">prefs</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-664"><span class="line_nr">664:</span></td></tr>
<tr><td class="loc" id="loc-665"><span class="line_nr">665:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original comment">/* Init */</span></div></td></tr>
<tr><td class="loc" id="loc-666"><span class="line_nr">666:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original identifier">FILE</span></div><div style="display: inline;"><span class="original punctuation">*</span></div>&nbsp;<div style="display: inline;"><span class="original keyword">const</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">srcFile</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">=</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">LZ4IO_openSrcFile</span></div><div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">srcFileName</span></div><div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-667"><span class="line_nr">667:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original keyword">if</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">srcFile</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">==</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">NULL</span></div><div style="display: inline;"><span class="original punctuation">)</span></div>&nbsp;<div style="display: inline;"><span class="original keyword">return</span></div>&nbsp;<div style="display: inline;"><span class="original literal">1</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-668"><span class="line_nr">668:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original identifier">dstFile</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">=</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">LZ4IO_openDstFile</span></div><div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">dstFileName</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">io_prefs</span></div><div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-669"><span class="line_nr">669:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original keyword">if</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">dstFile</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">==</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">NULL</span></div><div style="display: inline;"><span class="original punctuation">)</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">{</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">fclose</span></div><div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">srcFile</span></div><div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original punctuation">;</span></div>&nbsp;<div style="display: inline;"><span class="original keyword">return</span></div>&nbsp;<div style="display: inline;"><span class="original literal">1</span></div><div style="display: inline;"><span class="original punctuation">;</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">}</span></div></td></tr>
<tr><td class="loc" id="loc-670"><span class="line_nr">670:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original identifier">memset</span></div><div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original punctuation">&amp;</span></div><div style="display: inline;"><span class="original identifier">prefs</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original literal">0</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original keyword">sizeof</span></div><div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">prefs</span></div><div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-671"><span class="line_nr">671:</span></td></tr>
<tr><td class="loc" id="loc-672"><span class="line_nr">672:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original comment">/* Set compression parameters */</span></div></td></tr>
<tr><td class="loc" id="loc-673"><span class="line_nr">673:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original identifier">prefs</span></div><div style="display: inline;"><span class="original punctuation">.</span></div><div style="display: inline;"><span class="original identifier">autoFlush</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">=</span></div>&nbsp;<div style="display: inline;"><span class="original literal">1</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-674"><span class="line_nr">674:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original identifier">prefs</span></div><div style="display: inline;"><span class="original punctuation">.</span></div><div style="display: inline;"><span class="original identifier">compressionLevel</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">=</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">compressionLevel</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-675"><span class="line_nr">675:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original identifier">prefs</span></div><div style="display: inline;"><span class="original punctuation">.</span></div><div style="display: inline;"><span class="original identifier">frameInfo</span></div><div style="display: inline;"><span class="original punctuation">.</span></div><div style="display: inline;"><span class="original identifier">blockMode</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">=</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">LZ4F_blockMode_t</span></div><div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original identifier">io_prefs</span></div><div style="display: inline;"><span class="original punctuation">-&gt;</span></div><div style="display: inline;"><span class="original identifier">blockIndependence</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-676"><span class="line_nr">676:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original identifier">prefs</span></div><div style="display: inline;"><span class="original punctuation">.</span></div><div style="display: inline;"><span class="original identifier">frameInfo</span></div><div style="display: inline;"><span class="original punctuation">.</span></div><div style="display: inline;"><span class="original identifier">blockSizeID</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">=</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">LZ4F_blockSizeID_t</span></div><div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original identifier">io_prefs</span></div><div style="display: inline;"><span class="original punctuation">-&gt;</span></div><div style="display: inline;"><span class="original identifier">blockSizeId</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-677"><span class="line_nr">677:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original identifier">prefs</span></div><div style="display: inline;"><span class="original punctuation">.</span></div><div style="display: inline;"><span class="original identifier">frameInfo</span></div><div style="display: inline;"><span class="original punctuation">.</span></div><div style="display: inline;"><span class="original identifier">blockChecksumFlag</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">=</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">LZ4F_blockChecksum_t</span></div><div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original identifier">io_prefs</span></div><div style="display: inline;"><span class="original punctuation">-&gt;</span></div><div style="display: inline;"><span class="original identifier">blockChecksum</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-678"><span class="line_nr">678:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original identifier">prefs</span></div><div style="display: inline;"><span class="original punctuation">.</span></div><div style="display: inline;"><span class="original identifier">frameInfo</span></div><div style="display: inline;"><span class="original punctuation">.</span></div><div style="display: inline;"><span class="original identifier">contentChecksumFlag</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">=</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">LZ4F_contentChecksum_t</span></div><div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original identifier">io_prefs</span></div><div style="display: inline;"><span class="original punctuation">-&gt;</span></div><div style="display: inline;"><span class="original identifier">streamChecksum</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-679"><span class="line_nr">679:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original identifier">prefs</span></div><div style="display: inline;"><span class="original punctuation">.</span></div><div style="display: inline;"><span class="original identifier">favorDecSpeed</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">=</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">io_prefs</span></div><div style="display: inline;"><span class="original punctuation">-&gt;</span></div><div style="display: inline;"><span class="original identifier">favorDecSpeed</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-680"><span class="line_nr">680:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original keyword">if</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">io_prefs</span></div><div style="display: inline;"><span class="original punctuation">-&gt;</span></div><div style="display: inline;"><span class="original identifier">contentSizeFlag</span></div><div style="display: inline;"><span class="original punctuation">)</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">{</span></div></td></tr>
<tr><td class="loc" id="loc-681"><span class="line_nr">681:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original identifier">U64</span></div>&nbsp;<div style="display: inline;"><span class="original keyword">const</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">fileSize</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">=</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">UTIL_getOpenFileSize</span></div><div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">srcFile</span></div><div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-682"><span class="line_nr">682:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original identifier">prefs</span></div><div style="display: inline;"><span class="original punctuation">.</span></div><div style="display: inline;"><span class="original identifier">frameInfo</span></div><div style="display: inline;"><span class="original punctuation">.</span></div><div style="display: inline;"><span class="original identifier">contentSize</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">=</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">fileSize</span></div><div style="display: inline;"><span class="original punctuation">;</span></div>&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original comment">/* == 0 if input == stdin */</span></div></td></tr>
<tr><td class="loc" id="loc-683"><span class="line_nr">683:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original keyword">if</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">fileSize</span></div><div style="display: inline;"><span class="original punctuation">==</span></div><div style="display: inline;"><span class="original literal">0</span></div><div style="display: inline;"><span class="original punctuation">)</span></div></td></tr>
<tr><td class="loc" id="loc-684"><span class="line_nr">684:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original identifier">DISPLAYLEVEL</span></div><div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original literal">3</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original literal">&quot;Warning : cannot determine input content size \n&quot;</span></div><div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-685"><span class="line_nr">685:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original punctuation">}</span></div></td></tr>
<tr><td class="loc" id="loc-686"><span class="line_nr">686:</span></td></tr>
<tr><td class="loc" id="loc-687"><span class="line_nr">687:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original comment">/* read first block */</span></div></td></tr>
<tr><td class="loc" id="loc-688"><span class="line_nr">688:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original identifier">readSize</span></div>&nbsp;&nbsp;<div style="display: inline;"><span class="original punctuation">=</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">fread</span></div><div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">srcBuffer</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">size_t</span></div><div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original literal">1</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">blockSize</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">srcFile</span></div><div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-689"><span class="line_nr">689:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original keyword">if</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">ferror</span></div><div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">srcFile</span></div><div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original punctuation">)</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">EXM_THROW</span></div><div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original literal">30</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original literal">&quot;Error reading %s &quot;</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">srcFileName</span></div><div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-690"><span class="line_nr">690:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original identifier">filesize</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">+=</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">readSize</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-691"><span class="line_nr">691:</span></td></tr>
<tr><td class="loc" id="loc-692"><span class="line_nr">692:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original comment">/* single-block file */</span></div></td></tr>
<tr><td class="loc" id="loc-693"><span class="line_nr">693:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original keyword">if</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">readSize</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">&lt;</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">blockSize</span></div><div style="display: inline;"><span class="original punctuation">)</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">{</span></div></td></tr>
<tr><td class="loc" id="loc-694"><span class="line_nr">694:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original comment">/* Compress in single pass */</span></div></td></tr>
<tr><td class="loc" id="loc-695"><span class="line_nr">695:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original identifier">size_t</span></div>&nbsp;<div style="display: inline;"><span class="original keyword">const</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">cSize</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">=</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">LZ4F_compressFrame_usingCDict</span></div><div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">ctx</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">dstBuffer</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">dstBufferSize</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">srcBuffer</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">readSize</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">ress</span></div><div style="display: inline;"><span class="original punctuation">.</span></div><div style="display: inline;"><span class="original identifier">cdict</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">&amp;</span></div><div style="display: inline;"><span class="original identifier">prefs</span></div><div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-696"><span class="line_nr">696:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original keyword">if</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">LZ4F_isError</span></div><div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">cSize</span></div><div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original punctuation">)</span></div></td></tr>
<tr><td class="loc" id="loc-697"><span class="line_nr">697:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original identifier">EXM_THROW</span></div><div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original literal">31</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original literal">&quot;Compression failed : %s&quot;</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">LZ4F_getErrorName</span></div><div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">cSize</span></div><div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-698"><span class="line_nr">698:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original identifier">compressedfilesize</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">=</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">cSize</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-699"><span class="line_nr">699:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original identifier">DISPLAYUPDATE</span></div><div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original literal">2</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original literal">&quot;\rRead : %u MB   ==&gt; %.2f%%   &quot;</span></div><div style="display: inline;"><span class="original punctuation">,</span></div></td></tr>
<tr><td class="loc" id="loc-700"><span class="line_nr">700:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original keyword">unsigned</span></div><div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">filesize</span></div><div style="display: inline;"><span class="original punctuation">&gt;&gt;</span></div><div style="display: inline;"><span class="original literal">20</span></div><div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original keyword">double</span></div><div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original identifier">compressedfilesize</span></div><div style="display: inline;"><span class="original punctuation">/</span></div><div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">filesize</span></div><div style="display: inline;"><span class="original punctuation">+</span></div><div style="display: inline;"><span class="original punctuation">!</span></div><div style="display: inline;"><span class="original identifier">filesize</span></div><div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original punctuation">*</span></div><div style="display: inline;"><span class="original literal">100</span></div><div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original punctuation">;</span></div>&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original comment">/* avoid division by zero */</span></div></td></tr>
<tr><td class="loc" id="loc-701"><span class="line_nr">701:</span></td></tr>
<tr><td class="loc" id="loc-702"><span class="line_nr">702:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original comment">/* Write Block */</span></div></td></tr>
<tr><td class="loc" id="loc-703"><span class="line_nr">703:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original keyword">if</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">fwrite</span></div><div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">dstBuffer</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original literal">1</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">cSize</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">dstFile</span></div><div style="display: inline;"><span class="original punctuation">)</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">!=</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">cSize</span></div><div style="display: inline;"><span class="original punctuation">)</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">{</span></div></td></tr>
<tr><td class="loc" id="loc-704"><span class="line_nr">704:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original identifier">EXM_THROW</span></div><div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original literal">32</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original literal">&quot;Write error : failed writing single-block compressed frame&quot;</span></div><div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-705"><span class="line_nr">705:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original punctuation">}</span></div>&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original punctuation">}</span></div></td></tr>
<tr><td class="loc" id="loc-706"><span class="line_nr">706:</span></td></tr>
<tr><td class="loc" id="loc-707"><span class="line_nr">707:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original keyword">else</span></div></td></tr>
<tr><td class="loc" id="loc-708"><span class="line_nr">708:</span></td></tr>
<tr><td class="loc" id="loc-709"><span class="line_nr">709:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original comment">/* multiple-blocks file */</span></div></td></tr>
<tr><td class="loc" id="loc-710"><span class="line_nr">710:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original punctuation">{</span></div></td></tr>
<tr><td class="loc" id="loc-711"><span class="line_nr">711:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original comment">/* Write Frame Header */</span></div></td></tr>
<tr><td class="loc" id="loc-712"><span class="line_nr">712:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original identifier">size_t</span></div>&nbsp;<div style="display: inline;"><span class="original keyword">const</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">headerSize</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">=</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">LZ4F_compressBegin_usingCDict</span></div><div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">ctx</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">dstBuffer</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">dstBufferSize</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">ress</span></div><div style="display: inline;"><span class="original punctuation">.</span></div><div style="display: inline;"><span class="original identifier">cdict</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">&amp;</span></div><div style="display: inline;"><span class="original identifier">prefs</span></div><div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-713"><span class="line_nr">713:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original keyword">if</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">LZ4F_isError</span></div><div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">headerSize</span></div><div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original punctuation">)</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">EXM_THROW</span></div><div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original literal">33</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original literal">&quot;File header generation failed : %s&quot;</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">LZ4F_getErrorName</span></div><div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">headerSize</span></div><div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-714"><span class="line_nr">714:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original keyword">if</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">fwrite</span></div><div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">dstBuffer</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original literal">1</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">headerSize</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">dstFile</span></div><div style="display: inline;"><span class="original punctuation">)</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">!=</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">headerSize</span></div><div style="display: inline;"><span class="original punctuation">)</span></div></td></tr>
<tr><td class="loc" id="loc-715"><span class="line_nr">715:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original identifier">EXM_THROW</span></div><div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original literal">34</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original literal">&quot;Write error : cannot write header&quot;</span></div><div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-716"><span class="line_nr">716:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original identifier">compressedfilesize</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">+=</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">headerSize</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-717"><span class="line_nr">717:</span></td></tr>
<tr><td class="loc" id="loc-718"><span class="line_nr">718:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original comment">/* Main Loop - one block at a time */</span></div></td></tr>
<tr><td class="loc" id="loc-719"><span class="line_nr">719:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original keyword">while</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">readSize</span></div><div style="display: inline;"><span class="original punctuation">&gt;</span></div><div style="display: inline;"><span class="original literal">0</span></div><div style="display: inline;"><span class="original punctuation">)</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">{</span></div></td></tr>
<tr><td class="loc" id="loc-720"><span class="line_nr">720:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original identifier">size_t</span></div>&nbsp;<div style="display: inline;"><span class="original keyword">const</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">outSize</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">=</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">LZ4F_compressUpdate</span></div><div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">ctx</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">dstBuffer</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">dstBufferSize</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">srcBuffer</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">readSize</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">NULL</span></div><div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-721"><span class="line_nr">721:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original keyword">if</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">LZ4F_isError</span></div><div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">outSize</span></div><div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original punctuation">)</span></div></td></tr>
<tr><td class="loc" id="loc-722"><span class="line_nr">722:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original identifier">EXM_THROW</span></div><div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original literal">35</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original literal">&quot;Compression failed : %s&quot;</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">LZ4F_getErrorName</span></div><div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">outSize</span></div><div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-723"><span class="line_nr">723:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original identifier">compressedfilesize</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">+=</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">outSize</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-724"><span class="line_nr">724:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original identifier">DISPLAYUPDATE</span></div><div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original literal">2</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original literal">&quot;\rRead : %u MB   ==&gt; %.2f%%   &quot;</span></div><div style="display: inline;"><span class="original punctuation">,</span></div></td></tr>
<tr><td class="loc" id="loc-725"><span class="line_nr">725:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original keyword">unsigned</span></div><div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">filesize</span></div><div style="display: inline;"><span class="original punctuation">&gt;&gt;</span></div><div style="display: inline;"><span class="original literal">20</span></div><div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original keyword">double</span></div><div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original identifier">compressedfilesize</span></div><div style="display: inline;"><span class="original punctuation">/</span></div><div style="display: inline;"><span class="original identifier">filesize</span></div><div style="display: inline;"><span class="original punctuation">*</span></div><div style="display: inline;"><span class="original literal">100</span></div><div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-726"><span class="line_nr">726:</span></td></tr>
<tr><td class="loc" id="loc-727"><span class="line_nr">727:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original comment">/* Write Block */</span></div></td></tr>
<tr><td class="loc" id="loc-728"><span class="line_nr">728:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original keyword">if</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">fwrite</span></div><div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">dstBuffer</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original literal">1</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">outSize</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">dstFile</span></div><div style="display: inline;"><span class="original punctuation">)</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">!=</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">outSize</span></div><div style="display: inline;"><span class="original punctuation">)</span></div></td></tr>
<tr><td class="loc" id="loc-729"><span class="line_nr">729:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original identifier">EXM_THROW</span></div><div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original literal">36</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original literal">&quot;Write error : cannot write compressed block&quot;</span></div><div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-730"><span class="line_nr">730:</span></td></tr>
<tr><td class="loc" id="loc-731"><span class="line_nr">731:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original comment">/* Read next block */</span></div></td></tr>
<tr><td class="loc" id="loc-732"><span class="line_nr">732:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original identifier">readSize</span></div>&nbsp;&nbsp;<div style="display: inline;"><span class="original punctuation">=</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">fread</span></div><div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">srcBuffer</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">size_t</span></div><div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original literal">1</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">size_t</span></div><div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original identifier">blockSize</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">srcFile</span></div><div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-733"><span class="line_nr">733:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original identifier">filesize</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">+=</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">readSize</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-734"><span class="line_nr">734:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original punctuation">}</span></div></td></tr>
<tr><td class="loc" id="loc-735"><span class="line_nr">735:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original keyword">if</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">ferror</span></div><div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">srcFile</span></div><div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original punctuation">)</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">EXM_THROW</span></div><div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original literal">37</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original literal">&quot;Error reading %s &quot;</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">srcFileName</span></div><div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-736"><span class="line_nr">736:</span></td></tr>
<tr><td class="loc" id="loc-737"><span class="line_nr">737:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original comment">/* End of Frame mark */</span></div></td></tr>
<tr><td class="loc" id="loc-738"><span class="line_nr">738:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original punctuation">{</span></div>&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original identifier">size_t</span></div>&nbsp;<div style="display: inline;"><span class="original keyword">const</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">endSize</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">=</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">LZ4F_compressEnd</span></div><div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">ctx</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">dstBuffer</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">dstBufferSize</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">NULL</span></div><div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-739"><span class="line_nr">739:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original keyword">if</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">LZ4F_isError</span></div><div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">endSize</span></div><div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original punctuation">)</span></div></td></tr>
<tr><td class="loc" id="loc-740"><span class="line_nr">740:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original identifier">EXM_THROW</span></div><div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original literal">38</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original literal">&quot;End of frame error : %s&quot;</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">LZ4F_getErrorName</span></div><div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">endSize</span></div><div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-741"><span class="line_nr">741:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original keyword">if</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">fwrite</span></div><div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">dstBuffer</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original literal">1</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">endSize</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">dstFile</span></div><div style="display: inline;"><span class="original punctuation">)</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">!=</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">endSize</span></div><div style="display: inline;"><span class="original punctuation">)</span></div></td></tr>
<tr><td class="loc" id="loc-742"><span class="line_nr">742:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original identifier">EXM_THROW</span></div><div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original literal">39</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original literal">&quot;Write error : cannot write end of frame&quot;</span></div><div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-743"><span class="line_nr">743:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original identifier">compressedfilesize</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">+=</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">endSize</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-744"><span class="line_nr">744:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original punctuation">}</span></div>&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original punctuation">}</span></div></td></tr>
<tr><td class="loc" id="loc-745"><span class="line_nr">745:</span></td></tr>
<tr><td class="loc" id="loc-746"><span class="line_nr">746:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original comment">/* Release file handlers */</span></div></td></tr>
<tr><td class="loc" id="loc-747"><span class="line_nr">747:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original identifier">fclose</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">srcFile</span></div><div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-748"><span class="line_nr">748:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original keyword">if</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">strcmp</span></div><div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">dstFileName</span></div><div style="display: inline;"><span class="original punctuation">,</span></div><div style="display: inline;"><span class="original identifier">stdoutmark</span></div><div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original punctuation">)</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">fclose</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">dstFile</span></div><div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original punctuation">;</span></div>&nbsp;&nbsp;<div style="display: inline;"><span class="original comment">/* do not close stdout */</span></div></td></tr>
<tr><td class="loc" id="loc-749"><span class="line_nr">749:</span></td></tr>
<tr><td class="loc" id="loc-750"><span class="line_nr">750:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original comment">/* Copy owner, file permissions and modification time */</span></div></td></tr>
<tr><td class="loc" id="loc-751"><span class="line_nr">751:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original punctuation">{</span></div>&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original identifier">stat_t</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">statbuf</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-752"><span class="line_nr">752:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original keyword">if</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">strcmp</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">srcFileName</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">stdinmark</span></div><div style="display: inline;"><span class="original punctuation">)</span></div></td></tr>
<tr><td class="loc" id="loc-753"><span class="line_nr">753:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original punctuation">&amp;&amp;</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">strcmp</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">dstFileName</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">stdoutmark</span></div><div style="display: inline;"><span class="original punctuation">)</span></div></td></tr>
<tr><td class="loc" id="loc-754"><span class="line_nr">754:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original punctuation">&amp;&amp;</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">strcmp</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">dstFileName</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">nulmark</span></div><div style="display: inline;"><span class="original punctuation">)</span></div></td></tr>
<tr><td class="loc" id="loc-755"><span class="line_nr">755:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original punctuation">&amp;&amp;</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">UTIL_getFileStat</span></div><div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">srcFileName</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">&amp;</span></div><div style="display: inline;"><span class="original identifier">statbuf</span></div><div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original punctuation">)</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">{</span></div></td></tr>
<tr><td class="loc" id="loc-756"><span class="line_nr">756:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original identifier">UTIL_setFileStat</span></div><div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">dstFileName</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">&amp;</span></div><div style="display: inline;"><span class="original identifier">statbuf</span></div><div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-757"><span class="line_nr">757:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original punctuation">}</span></div>&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original punctuation">}</span></div></td></tr>
<tr><td class="loc" id="loc-758"><span class="line_nr">758:</span></td></tr>
<tr><td class="loc" id="loc-759"><span class="line_nr">759:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original keyword">if</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">io_prefs</span></div><div style="display: inline;"><span class="original punctuation">-&gt;</span></div><div style="display: inline;"><span class="original identifier">removeSrcFile</span></div><div style="display: inline;"><span class="original punctuation">)</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">{</span></div>&nbsp;&nbsp;<div style="display: inline;"><span class="original comment">/* remove source file : --rm */</span></div></td></tr>
<tr><td class="loc" id="loc-760"><span class="line_nr">760:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original keyword">if</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">remove</span></div><div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">srcFileName</span></div><div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original punctuation">)</span></div></td></tr>
<tr><td class="loc" id="loc-761"><span class="line_nr">761:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original identifier">EXM_THROW</span></div><div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original literal">40</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original literal">&quot;Remove error : %s: %s&quot;</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">srcFileName</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">strerror</span></div><div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">errno</span></div><div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-762"><span class="line_nr">762:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original punctuation">}</span></div></td></tr>
<tr><td class="loc" id="loc-763"><span class="line_nr">763:</span></td></tr>
<tr><td class="loc" id="loc-764"><span class="line_nr">764:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original comment">/* Final Status */</span></div></td></tr>
<tr><td class="loc" id="loc-765"><span class="line_nr">765:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original identifier">DISPLAYLEVEL</span></div><div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original literal">2</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original literal">&quot;\r%79s\r&quot;</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original literal">&quot;&quot;</span></div><div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-766"><span class="line_nr">766:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original identifier">DISPLAYLEVEL</span></div><div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original literal">2</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original literal">&quot;Compressed %llu bytes into %llu bytes ==&gt; %.2f%%\n&quot;</span></div><div style="display: inline;"><span class="original punctuation">,</span></div></td></tr>
<tr><td class="loc" id="loc-767"><span class="line_nr">767:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original identifier">filesize</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">compressedfilesize</span></div><div style="display: inline;"><span class="original punctuation">,</span></div></td></tr>
<tr><td class="loc" id="loc-768"><span class="line_nr">768:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original keyword">double</span></div><div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original identifier">compressedfilesize</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">/</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">filesize</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">+</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">!</span></div><div style="display: inline;"><span class="original identifier">filesize</span></div>&nbsp;<div style="display: inline;"><span class="original comment">/* avoid division by zero */</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">)</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">*</span></div>&nbsp;<div style="display: inline;"><span class="original literal">100</span></div><div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-769"><span class="line_nr">769:</span></td></tr>
<tr><td class="loc" id="loc-770"><span class="line_nr">770:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original keyword">return</span></div>&nbsp;<div style="display: inline;"><span class="original literal">0</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-771"><span class="line_nr">771:</span><div style="display: inline;"><span class="original punctuation">}</span></div></td></tr>
<tr><td class="loc" id="loc-772"><span class="line_nr">772:</span></td></tr>
<tr><td class="loc" id="loc-773"><span class="line_nr">773:</span></td></tr>
<tr><td class="loc" id="loc-774"><span class="line_nr">774:</span><div style="display: inline;"><span class="original keyword">int</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">LZ4IO_compressFilename</span></div><div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original keyword">const</span></div>&nbsp;<div style="display: inline;"><span class="original keyword">char</span></div><div style="display: inline;"><span class="original punctuation">*</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">srcFileName</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original keyword">const</span></div>&nbsp;<div style="display: inline;"><span class="original keyword">char</span></div><div style="display: inline;"><span class="original punctuation">*</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">dstFileName</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original keyword">int</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">compressionLevel</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original keyword">const</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">LZ4IO_prefs_t</span></div><div style="display: inline;"><span class="original punctuation">*</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">prefs</span></div><div style="display: inline;"><span class="original punctuation">)</span></div></td></tr>
<tr><td class="loc" id="loc-775"><span class="line_nr">775:</span><div style="display: inline;"><span class="original punctuation">{</span></div></td></tr>
<tr><td class="loc" id="loc-776"><span class="line_nr">776:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original identifier">UTIL_time_t</span></div>&nbsp;<div style="display: inline;"><span class="original keyword">const</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">timeStart</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">=</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">UTIL_getTime</span></div><div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-777"><span class="line_nr">777:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original identifier">clock_t</span></div>&nbsp;<div style="display: inline;"><span class="original keyword">const</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">cpuStart</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">=</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">clock</span></div><div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-778"><span class="line_nr">778:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original identifier">cRess_t</span></div>&nbsp;<div style="display: inline;"><span class="original keyword">const</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">ress</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">=</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">LZ4IO_createCResources</span></div><div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">prefs</span></div><div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-779"><span class="line_nr">779:</span></td></tr>
<tr><td class="loc" id="loc-780"><span class="line_nr">780:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original keyword">int</span></div>&nbsp;<div style="display: inline;"><span class="original keyword">const</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">result</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">=</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">LZ4IO_compressFilename_extRess</span></div><div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">ress</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">srcFileName</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">dstFileName</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">compressionLevel</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">prefs</span></div><div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-781"><span class="line_nr">781:</span></td></tr>
<tr><td class="loc" id="loc-782"><span class="line_nr">782:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original comment">/* Free resources */</span></div></td></tr>
<tr><td class="loc" id="loc-783"><span class="line_nr">783:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original identifier">LZ4IO_freeCResources</span></div><div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">ress</span></div><div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-784"><span class="line_nr">784:</span></td></tr>
<tr><td class="loc" id="loc-785"><span class="line_nr">785:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original comment">/* Final Status */</span></div></td></tr>
<tr><td class="loc" id="loc-786"><span class="line_nr">786:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original punctuation">{</span></div>&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original identifier">clock_t</span></div>&nbsp;<div style="display: inline;"><span class="original keyword">const</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">cpuEnd</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">=</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">clock</span></div><div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-787"><span class="line_nr">787:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original keyword">double</span></div>&nbsp;<div style="display: inline;"><span class="original keyword">const</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">cpuLoad_s</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">=</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original keyword">double</span></div><div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">cpuEnd</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">-</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">cpuStart</span></div><div style="display: inline;"><span class="original punctuation">)</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">/</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">CLOCKS_PER_SEC</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-788"><span class="line_nr">788:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original identifier">U64</span></div>&nbsp;<div style="display: inline;"><span class="original keyword">const</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">timeLength_ns</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">=</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">UTIL_clockSpanNano</span></div><div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">timeStart</span></div><div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-789"><span class="line_nr">789:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original keyword">double</span></div>&nbsp;<div style="display: inline;"><span class="original keyword">const</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">timeLength_s</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">=</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original keyword">double</span></div><div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original identifier">timeLength_ns</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">/</span></div>&nbsp;<div style="display: inline;"><span class="original literal">1000000000</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-790"><span class="line_nr">790:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original identifier">DISPLAYLEVEL</span></div><div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original literal">4</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original literal">&quot;Completed in %.2f sec  (cpu load : %.0f%%)\n&quot;</span></div><div style="display: inline;"><span class="original punctuation">,</span></div></td></tr>
<tr><td class="loc" id="loc-791"><span class="line_nr">791:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original identifier">timeLength_s</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">cpuLoad_s</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">/</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">timeLength_s</span></div><div style="display: inline;"><span class="original punctuation">)</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">*</span></div>&nbsp;<div style="display: inline;"><span class="original literal">100</span></div><div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-792"><span class="line_nr">792:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original punctuation">}</span></div></td></tr>
<tr><td class="loc" id="loc-793"><span class="line_nr">793:</span></td></tr>
<tr><td class="loc" id="loc-794"><span class="line_nr">794:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original keyword">return</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">result</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-795"><span class="line_nr">795:</span><div style="display: inline;"><span class="original punctuation">}</span></div></td></tr>
<tr><td class="loc" id="loc-796"><span class="line_nr">796:</span></td></tr>
<tr><td class="loc" id="loc-797"><span class="line_nr">797:</span></td></tr>
<tr><td class="loc" id="loc-798"><span class="line_nr">798:</span><div style="display: inline;"><span class="original keyword">int</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">LZ4IO_compressMultipleFilenames</span></div><div style="display: inline;"><span class="original punctuation">(</span></div></td></tr>
<tr><td class="loc" id="loc-799"><span class="line_nr">799:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original keyword">const</span></div>&nbsp;<div style="display: inline;"><span class="original keyword">char</span></div><div style="display: inline;"><span class="original punctuation">*</span></div><div style="display: inline;"><span class="original punctuation">*</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">inFileNamesTable</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original keyword">int</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">ifntSize</span></div><div style="display: inline;"><span class="original punctuation">,</span></div></td></tr>
<tr><td class="loc" id="loc-800"><span class="line_nr">800:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original keyword">const</span></div>&nbsp;<div style="display: inline;"><span class="original keyword">char</span></div><div style="display: inline;"><span class="original punctuation">*</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">suffix</span></div><div style="display: inline;"><span class="original punctuation">,</span></div></td></tr>
<tr><td class="loc" id="loc-801"><span class="line_nr">801:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original keyword">int</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">compressionLevel</span></div><div style="display: inline;"><span class="original punctuation">,</span></div></td></tr>
<tr><td class="loc" id="loc-802"><span class="line_nr">802:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original keyword">const</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">LZ4IO_prefs_t</span></div><div style="display: inline;"><span class="original punctuation">*</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">prefs</span></div><div style="display: inline;"><span class="original punctuation">)</span></div></td></tr>
<tr><td class="loc" id="loc-803"><span class="line_nr">803:</span><div style="display: inline;"><span class="original punctuation">{</span></div></td></tr>
<tr><td class="loc" id="loc-804"><span class="line_nr">804:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original keyword">int</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">i</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-805"><span class="line_nr">805:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original keyword">int</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">missed_files</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">=</span></div>&nbsp;<div style="display: inline;"><span class="original literal">0</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-806"><span class="line_nr">806:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original keyword">char</span></div><div style="display: inline;"><span class="original punctuation">*</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">dstFileName</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">=</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original keyword">char</span></div><div style="display: inline;"><span class="original punctuation">*</span></div><div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original identifier">malloc</span></div><div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">FNSPACE</span></div><div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-807"><span class="line_nr">807:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original identifier">size_t</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">ofnSize</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">=</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">FNSPACE</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-808"><span class="line_nr">808:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original keyword">const</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">size_t</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">suffixSize</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">=</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">strlen</span></div><div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">suffix</span></div><div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-809"><span class="line_nr">809:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original identifier">cRess_t</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">ress</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-810"><span class="line_nr">810:</span></td></tr>
<tr><td class="loc" id="loc-811"><span class="line_nr">811:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original keyword">if</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">dstFileName</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">==</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">NULL</span></div><div style="display: inline;"><span class="original punctuation">)</span></div>&nbsp;<div style="display: inline;"><span class="original keyword">return</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">ifntSize</span></div><div style="display: inline;"><span class="original punctuation">;</span></div>&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original comment">/* not enough memory */</span></div></td></tr>
<tr><td class="loc" id="loc-812"><span class="line_nr">812:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original identifier">ress</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">=</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">LZ4IO_createCResources</span></div><div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">prefs</span></div><div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-813"><span class="line_nr">813:</span></td></tr>
<tr><td class="loc" id="loc-814"><span class="line_nr">814:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original comment">/* loop on each file */</span></div></td></tr>
<tr><td class="loc" id="loc-815"><span class="line_nr">815:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original keyword">for</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">i</span></div><div style="display: inline;"><span class="original punctuation">=</span></div><div style="display: inline;"><span class="original literal">0</span></div><div style="display: inline;"><span class="original punctuation">;</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">i</span></div><div style="display: inline;"><span class="original punctuation">&lt;</span></div><div style="display: inline;"><span class="original identifier">ifntSize</span></div><div style="display: inline;"><span class="original punctuation">;</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">i</span></div><div style="display: inline;"><span class="original punctuation">++</span></div><div style="display: inline;"><span class="original punctuation">)</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">{</span></div></td></tr>
<tr><td class="loc" id="loc-816"><span class="line_nr">816:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original identifier">size_t</span></div>&nbsp;<div style="display: inline;"><span class="original keyword">const</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">ifnSize</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">=</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">strlen</span></div><div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">inFileNamesTable</span></div><div style="display: inline;"><span class="original punctuation">[</span></div><div style="display: inline;"><span class="original identifier">i</span></div><div style="display: inline;"><span class="original punctuation">]</span></div><div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-817"><span class="line_nr">817:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original keyword">if</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original punctuation">!</span></div><div style="display: inline;"><span class="original identifier">strcmp</span></div><div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">suffix</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">stdoutmark</span></div><div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original punctuation">)</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">{</span></div></td></tr>
<tr><td class="loc" id="loc-818"><span class="line_nr">818:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original identifier">missed_files</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">+=</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">LZ4IO_compressFilename_extRess</span></div><div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">ress</span></div><div style="display: inline;"><span class="original punctuation">,</span></div></td></tr>
<tr><td class="loc" id="loc-819"><span class="line_nr">819:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original identifier">inFileNamesTable</span></div><div style="display: inline;"><span class="original punctuation">[</span></div><div style="display: inline;"><span class="original identifier">i</span></div><div style="display: inline;"><span class="original punctuation">]</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">stdoutmark</span></div><div style="display: inline;"><span class="original punctuation">,</span></div></td></tr>
<tr><td class="loc" id="loc-820"><span class="line_nr">820:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original identifier">compressionLevel</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">prefs</span></div><div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-821"><span class="line_nr">821:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original keyword">continue</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-822"><span class="line_nr">822:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original punctuation">}</span></div></td></tr>
<tr><td class="loc" id="loc-823"><span class="line_nr">823:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original keyword">if</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">ofnSize</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">&lt;=</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">ifnSize</span></div><div style="display: inline;"><span class="original punctuation">+</span></div><div style="display: inline;"><span class="original identifier">suffixSize</span></div><div style="display: inline;"><span class="original punctuation">+</span></div><div style="display: inline;"><span class="original literal">1</span></div><div style="display: inline;"><span class="original punctuation">)</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">{</span></div></td></tr>
<tr><td class="loc" id="loc-824"><span class="line_nr">824:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original identifier">free</span></div><div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">dstFileName</span></div><div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-825"><span class="line_nr">825:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original identifier">ofnSize</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">=</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">ifnSize</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">+</span></div>&nbsp;<div style="display: inline;"><span class="original literal">20</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-826"><span class="line_nr">826:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original identifier">dstFileName</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">=</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original keyword">char</span></div><div style="display: inline;"><span class="original punctuation">*</span></div><div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original identifier">malloc</span></div><div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">ofnSize</span></div><div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-827"><span class="line_nr">827:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original keyword">if</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">dstFileName</span></div><div style="display: inline;"><span class="original punctuation">==</span></div><div style="display: inline;"><span class="original identifier">NULL</span></div><div style="display: inline;"><span class="original punctuation">)</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">{</span></div></td></tr>
<tr><td class="loc" id="loc-828"><span class="line_nr">828:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original identifier">LZ4IO_freeCResources</span></div><div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">ress</span></div><div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-829"><span class="line_nr">829:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original keyword">return</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">ifntSize</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-830"><span class="line_nr">830:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original punctuation">}</span></div>&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original punctuation">}</span></div></td></tr>
<tr><td class="loc" id="loc-831"><span class="line_nr">831:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original identifier">strcpy</span></div><div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">dstFileName</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">inFileNamesTable</span></div><div style="display: inline;"><span class="original punctuation">[</span></div><div style="display: inline;"><span class="original identifier">i</span></div><div style="display: inline;"><span class="original punctuation">]</span></div><div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-832"><span class="line_nr">832:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original identifier">strcat</span></div><div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">dstFileName</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">suffix</span></div><div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-833"><span class="line_nr">833:</span></td></tr>
<tr><td class="loc" id="loc-834"><span class="line_nr">834:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original identifier">missed_files</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">+=</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">LZ4IO_compressFilename_extRess</span></div><div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">ress</span></div><div style="display: inline;"><span class="original punctuation">,</span></div></td></tr>
<tr><td class="loc" id="loc-835"><span class="line_nr">835:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original identifier">inFileNamesTable</span></div><div style="display: inline;"><span class="original punctuation">[</span></div><div style="display: inline;"><span class="original identifier">i</span></div><div style="display: inline;"><span class="original punctuation">]</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">dstFileName</span></div><div style="display: inline;"><span class="original punctuation">,</span></div></td></tr>
<tr><td class="loc" id="loc-836"><span class="line_nr">836:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original identifier">compressionLevel</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">prefs</span></div><div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-837"><span class="line_nr">837:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original punctuation">}</span></div></td></tr>
<tr><td class="loc" id="loc-838"><span class="line_nr">838:</span></td></tr>
<tr><td class="loc" id="loc-839"><span class="line_nr">839:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original comment">/* Close &amp; Free */</span></div></td></tr>
<tr><td class="loc" id="loc-840"><span class="line_nr">840:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original identifier">LZ4IO_freeCResources</span></div><div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">ress</span></div><div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-841"><span class="line_nr">841:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original identifier">free</span></div><div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">dstFileName</span></div><div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-842"><span class="line_nr">842:</span></td></tr>
<tr><td class="loc" id="loc-843"><span class="line_nr">843:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original keyword">return</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">missed_files</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-844"><span class="line_nr">844:</span><div style="display: inline;"><span class="original punctuation">}</span></div></td></tr>
<tr><td class="loc" id="loc-845"><span class="line_nr">845:</span></td></tr>
<tr><td class="loc" id="loc-846"><span class="line_nr">846:</span></td></tr>
<tr><td class="loc" id="loc-847"><span class="line_nr">847:</span><div style="display: inline;"><span class="original comment">/* ********************************************************************* */</span></div></td></tr>
<tr><td class="loc" id="loc-848"><span class="line_nr">848:</span><div style="display: inline;"><span class="original comment">/* ********************** LZ4 file-stream Decompression **************** */</span></div></td></tr>
<tr><td class="loc" id="loc-849"><span class="line_nr">849:</span><div style="display: inline;"><span class="original comment">/* ********************************************************************* */</span></div></td></tr>
<tr><td class="loc" id="loc-850"><span class="line_nr">850:</span></td></tr>
<tr><td class="loc" id="loc-851"><span class="line_nr">851:</span><div style="display: inline;"><span class="original comment">/* It's presumed that s points to a memory space of size &gt;= 4 */</span></div></td></tr>
<tr><td class="loc" id="loc-852"><span class="line_nr">852:</span><div style="display: inline;"><span class="original keyword">static</span></div>&nbsp;<div style="display: inline;"><span class="original keyword">unsigned</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">LZ4IO_readLE32</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original keyword">const</span></div>&nbsp;<div style="display: inline;"><span class="original keyword">void</span></div><div style="display: inline;"><span class="original punctuation">*</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">s</span></div><div style="display: inline;"><span class="original punctuation">)</span></div></td></tr>
<tr><td class="loc" id="loc-853"><span class="line_nr">853:</span><div style="display: inline;"><span class="original punctuation">{</span></div></td></tr>
<tr><td class="loc" id="loc-854"><span class="line_nr">854:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original keyword">const</span></div>&nbsp;<div style="display: inline;"><span class="original keyword">unsigned</span></div>&nbsp;<div style="display: inline;"><span class="original keyword">char</span></div><div style="display: inline;"><span class="original punctuation">*</span></div>&nbsp;<div style="display: inline;"><span class="original keyword">const</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">srcPtr</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">=</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original keyword">const</span></div>&nbsp;<div style="display: inline;"><span class="original keyword">unsigned</span></div>&nbsp;<div style="display: inline;"><span class="original keyword">char</span></div><div style="display: inline;"><span class="original punctuation">*</span></div><div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original identifier">s</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-855"><span class="line_nr">855:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original keyword">unsigned</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">value32</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">=</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">srcPtr</span></div><div style="display: inline;"><span class="original punctuation">[</span></div><div style="display: inline;"><span class="original literal">0</span></div><div style="display: inline;"><span class="original punctuation">]</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-856"><span class="line_nr">856:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original identifier">value32</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">+=</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original keyword">unsigned</span></div><div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original identifier">srcPtr</span></div><div style="display: inline;"><span class="original punctuation">[</span></div><div style="display: inline;"><span class="original literal">1</span></div><div style="display: inline;"><span class="original punctuation">]</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">&lt;&lt;</span></div>&nbsp;&nbsp;<div style="display: inline;"><span class="original literal">8</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-857"><span class="line_nr">857:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original identifier">value32</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">+=</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original keyword">unsigned</span></div><div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original identifier">srcPtr</span></div><div style="display: inline;"><span class="original punctuation">[</span></div><div style="display: inline;"><span class="original literal">2</span></div><div style="display: inline;"><span class="original punctuation">]</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">&lt;&lt;</span></div>&nbsp;<div style="display: inline;"><span class="original literal">16</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-858"><span class="line_nr">858:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original identifier">value32</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">+=</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original keyword">unsigned</span></div><div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original identifier">srcPtr</span></div><div style="display: inline;"><span class="original punctuation">[</span></div><div style="display: inline;"><span class="original literal">3</span></div><div style="display: inline;"><span class="original punctuation">]</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">&lt;&lt;</span></div>&nbsp;<div style="display: inline;"><span class="original literal">24</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-859"><span class="line_nr">859:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original keyword">return</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">value32</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-860"><span class="line_nr">860:</span><div style="display: inline;"><span class="original punctuation">}</span></div></td></tr>
<tr><td class="loc" id="loc-861"><span class="line_nr">861:</span></td></tr>
<tr><td class="loc" id="loc-862"><span class="line_nr">862:</span></td></tr>
<tr><td class="loc" id="loc-863"><span class="line_nr">863:</span><div style="display: inline;"><span class="original keyword">static</span></div>&nbsp;<div style="display: inline;"><span class="original keyword">unsigned</span></div></td></tr>
<tr><td class="loc" id="loc-864"><span class="line_nr">864:</span><div style="display: inline;"><span class="original identifier">LZ4IO_fwriteSparse</span></div><div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">FILE</span></div><div style="display: inline;"><span class="original punctuation">*</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">file</span></div><div style="display: inline;"><span class="original punctuation">,</span></div></td></tr>
<tr><td class="loc" id="loc-865"><span class="line_nr">865:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original keyword">const</span></div>&nbsp;<div style="display: inline;"><span class="original keyword">void</span></div><div style="display: inline;"><span class="original punctuation">*</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">buffer</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">size_t</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">bufferSize</span></div><div style="display: inline;"><span class="original punctuation">,</span></div></td></tr>
<tr><td class="loc" id="loc-866"><span class="line_nr">866:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original keyword">int</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">sparseFileSupport</span></div><div style="display: inline;"><span class="original punctuation">,</span></div></td></tr>
<tr><td class="loc" id="loc-867"><span class="line_nr">867:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original keyword">unsigned</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">storedSkips</span></div><div style="display: inline;"><span class="original punctuation">)</span></div></td></tr>
<tr><td class="loc" id="loc-868"><span class="line_nr">868:</span><div style="display: inline;"><span class="original punctuation">{</span></div></td></tr>
<tr><td class="loc" id="loc-869"><span class="line_nr">869:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original keyword">const</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">size_t</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">sizeT</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">=</span></div>&nbsp;<div style="display: inline;"><span class="original keyword">sizeof</span></div><div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">size_t</span></div><div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-870"><span class="line_nr">870:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original keyword">const</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">size_t</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">maskT</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">=</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">sizeT</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">-</span></div><div style="display: inline;"><span class="original literal">1</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-871"><span class="line_nr">871:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original keyword">const</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">size_t</span></div><div style="display: inline;"><span class="original punctuation">*</span></div>&nbsp;<div style="display: inline;"><span class="original keyword">const</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">bufferT</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">=</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original keyword">const</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">size_t</span></div><div style="display: inline;"><span class="original punctuation">*</span></div><div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original identifier">buffer</span></div><div style="display: inline;"><span class="original punctuation">;</span></div>&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original comment">/* Buffer is supposed malloc'ed, hence aligned on size_t */</span></div></td></tr>
<tr><td class="loc" id="loc-872"><span class="line_nr">872:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original keyword">const</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">size_t</span></div><div style="display: inline;"><span class="original punctuation">*</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">ptrT</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">=</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">bufferT</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-873"><span class="line_nr">873:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original identifier">size_t</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">bufferSizeT</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">=</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">bufferSize</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">/</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">sizeT</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-874"><span class="line_nr">874:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original keyword">const</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">size_t</span></div><div style="display: inline;"><span class="original punctuation">*</span></div>&nbsp;<div style="display: inline;"><span class="original keyword">const</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">bufferTEnd</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">=</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">bufferT</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">+</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">bufferSizeT</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-875"><span class="line_nr">875:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original keyword">const</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">size_t</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">segmentSizeT</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">=</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original literal">32</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">KB</span></div><div style="display: inline;"><span class="original punctuation">)</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">/</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">sizeT</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-876"><span class="line_nr">876:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original keyword">int</span></div>&nbsp;<div style="display: inline;"><span class="original keyword">const</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">sparseMode</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">=</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">sparseFileSupport</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">-</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">file</span></div><div style="display: inline;"><span class="original punctuation">==</span></div><div style="display: inline;"><span class="original identifier">stdout</span></div><div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original punctuation">)</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">&gt;</span></div>&nbsp;<div style="display: inline;"><span class="original literal">0</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-877"><span class="line_nr">877:</span></td></tr>
<tr><td class="loc" id="loc-878"><span class="line_nr">878:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original keyword">if</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original punctuation">!</span></div><div style="display: inline;"><span class="original identifier">sparseMode</span></div><div style="display: inline;"><span class="original punctuation">)</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">{</span></div>&nbsp;&nbsp;<div style="display: inline;"><span class="original comment">/* normal write */</span></div></td></tr>
<tr><td class="loc" id="loc-879"><span class="line_nr">879:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original identifier">size_t</span></div>&nbsp;<div style="display: inline;"><span class="original keyword">const</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">sizeCheck</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">=</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">fwrite</span></div><div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">buffer</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original literal">1</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">bufferSize</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">file</span></div><div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-880"><span class="line_nr">880:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original keyword">if</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">sizeCheck</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">!=</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">bufferSize</span></div><div style="display: inline;"><span class="original punctuation">)</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">EXM_THROW</span></div><div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original literal">70</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original literal">&quot;Write error : cannot write decoded block&quot;</span></div><div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-881"><span class="line_nr">881:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original keyword">return</span></div>&nbsp;<div style="display: inline;"><span class="original literal">0</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-882"><span class="line_nr">882:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original punctuation">}</span></div></td></tr>
<tr><td class="loc" id="loc-883"><span class="line_nr">883:</span></td></tr>
<tr><td class="loc" id="loc-884"><span class="line_nr">884:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original comment">/* avoid int overflow */</span></div></td></tr>
<tr><td class="loc" id="loc-885"><span class="line_nr">885:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original keyword">if</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">storedSkips</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">&gt;</span></div>&nbsp;<div style="display: inline;"><span class="original literal">1</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">GB</span></div><div style="display: inline;"><span class="original punctuation">)</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">{</span></div></td></tr>
<tr><td class="loc" id="loc-886"><span class="line_nr">886:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original keyword">int</span></div>&nbsp;<div style="display: inline;"><span class="original keyword">const</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">seekResult</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">=</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">UTIL_fseek</span></div><div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">file</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original literal">1</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">GB</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">SEEK_CUR</span></div><div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-887"><span class="line_nr">887:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original keyword">if</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">seekResult</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">!=</span></div>&nbsp;<div style="display: inline;"><span class="original literal">0</span></div><div style="display: inline;"><span class="original punctuation">)</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">EXM_THROW</span></div><div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original literal">71</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original literal">&quot;1 GB skip error (sparse file support)&quot;</span></div><div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-888"><span class="line_nr">888:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original identifier">storedSkips</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">-=</span></div>&nbsp;<div style="display: inline;"><span class="original literal">1</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">GB</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-889"><span class="line_nr">889:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original punctuation">}</span></div></td></tr>
<tr><td class="loc" id="loc-890"><span class="line_nr">890:</span></td></tr>
<tr><td class="loc" id="loc-891"><span class="line_nr">891:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original keyword">while</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">ptrT</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">&lt;</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">bufferTEnd</span></div><div style="display: inline;"><span class="original punctuation">)</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">{</span></div></td></tr>
<tr><td class="loc" id="loc-892"><span class="line_nr">892:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original identifier">size_t</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">seg0SizeT</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">=</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">segmentSizeT</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-893"><span class="line_nr">893:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original identifier">size_t</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">nb0T</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-894"><span class="line_nr">894:</span></td></tr>
<tr><td class="loc" id="loc-895"><span class="line_nr">895:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original comment">/* count leading zeros */</span></div></td></tr>
<tr><td class="loc" id="loc-896"><span class="line_nr">896:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original keyword">if</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">seg0SizeT</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">&gt;</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">bufferSizeT</span></div><div style="display: inline;"><span class="original punctuation">)</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">seg0SizeT</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">=</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">bufferSizeT</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-897"><span class="line_nr">897:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original identifier">bufferSizeT</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">-=</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">seg0SizeT</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-898"><span class="line_nr">898:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original keyword">for</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">nb0T</span></div><div style="display: inline;"><span class="original punctuation">=</span></div><div style="display: inline;"><span class="original literal">0</span></div><div style="display: inline;"><span class="original punctuation">;</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">nb0T</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">&lt;</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">seg0SizeT</span></div><div style="display: inline;"><span class="original punctuation">)</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">&amp;&amp;</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">ptrT</span></div><div style="display: inline;"><span class="original punctuation">[</span></div><div style="display: inline;"><span class="original identifier">nb0T</span></div><div style="display: inline;"><span class="original punctuation">]</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">==</span></div>&nbsp;<div style="display: inline;"><span class="original literal">0</span></div><div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original punctuation">;</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">nb0T</span></div><div style="display: inline;"><span class="original punctuation">++</span></div><div style="display: inline;"><span class="original punctuation">)</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-899"><span class="line_nr">899:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original identifier">storedSkips</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">+=</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original keyword">unsigned</span></div><div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">nb0T</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">*</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">sizeT</span></div><div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-900"><span class="line_nr">900:</span></td></tr>
<tr><td class="loc" id="loc-901"><span class="line_nr">901:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original keyword">if</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">nb0T</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">!=</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">seg0SizeT</span></div><div style="display: inline;"><span class="original punctuation">)</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">{</span></div>&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original comment">/* not all 0s */</span></div></td></tr>
<tr><td class="loc" id="loc-902"><span class="line_nr">902:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original identifier">errno</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">=</span></div>&nbsp;<div style="display: inline;"><span class="original literal">0</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-903"><span class="line_nr">903:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original punctuation">{</span></div>&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original keyword">int</span></div>&nbsp;<div style="display: inline;"><span class="original keyword">const</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">seekResult</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">=</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">UTIL_fseek</span></div><div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">file</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">storedSkips</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">SEEK_CUR</span></div><div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-904"><span class="line_nr">904:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original keyword">if</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">seekResult</span></div><div style="display: inline;"><span class="original punctuation">)</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">EXM_THROW</span></div><div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original literal">72</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original literal">&quot;Sparse skip error(%d): %s ; try --no-sparse&quot;</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original keyword">int</span></div><div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original identifier">errno</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">strerror</span></div><div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">errno</span></div><div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-905"><span class="line_nr">905:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original punctuation">}</span></div></td></tr>
<tr><td class="loc" id="loc-906"><span class="line_nr">906:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original identifier">storedSkips</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">=</span></div>&nbsp;<div style="display: inline;"><span class="original literal">0</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-907"><span class="line_nr">907:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original identifier">seg0SizeT</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">-=</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">nb0T</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-908"><span class="line_nr">908:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original identifier">ptrT</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">+=</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">nb0T</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-909"><span class="line_nr">909:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original punctuation">{</span></div>&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original identifier">size_t</span></div>&nbsp;<div style="display: inline;"><span class="original keyword">const</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">sizeCheck</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">=</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">fwrite</span></div><div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">ptrT</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">sizeT</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">seg0SizeT</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">file</span></div><div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-910"><span class="line_nr">910:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original keyword">if</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">sizeCheck</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">!=</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">seg0SizeT</span></div><div style="display: inline;"><span class="original punctuation">)</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">EXM_THROW</span></div><div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original literal">73</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original literal">&quot;Write error : cannot write decoded block&quot;</span></div><div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-911"><span class="line_nr">911:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original punctuation">}</span></div>&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original punctuation">}</span></div></td></tr>
<tr><td class="loc" id="loc-912"><span class="line_nr">912:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original identifier">ptrT</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">+=</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">seg0SizeT</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-913"><span class="line_nr">913:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original punctuation">}</span></div></td></tr>
<tr><td class="loc" id="loc-914"><span class="line_nr">914:</span></td></tr>
<tr><td class="loc" id="loc-915"><span class="line_nr">915:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original keyword">if</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">bufferSize</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">&amp;</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">maskT</span></div><div style="display: inline;"><span class="original punctuation">)</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">{</span></div>&nbsp;&nbsp;<div style="display: inline;"><span class="original comment">/* size not multiple of sizeT : implies end of block */</span></div></td></tr>
<tr><td class="loc" id="loc-916"><span class="line_nr">916:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original keyword">const</span></div>&nbsp;<div style="display: inline;"><span class="original keyword">char</span></div><div style="display: inline;"><span class="original punctuation">*</span></div>&nbsp;<div style="display: inline;"><span class="original keyword">const</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">restStart</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">=</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original keyword">const</span></div>&nbsp;<div style="display: inline;"><span class="original keyword">char</span></div><div style="display: inline;"><span class="original punctuation">*</span></div><div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original identifier">bufferTEnd</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-917"><span class="line_nr">917:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original keyword">const</span></div>&nbsp;<div style="display: inline;"><span class="original keyword">char</span></div><div style="display: inline;"><span class="original punctuation">*</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">restPtr</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">=</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">restStart</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-918"><span class="line_nr">918:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original identifier">size_t</span></div>&nbsp;<div style="display: inline;"><span class="original keyword">const</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">restSize</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">=</span></div>&nbsp;&nbsp;<div style="display: inline;"><span class="original identifier">bufferSize</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">&amp;</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">maskT</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-919"><span class="line_nr">919:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original keyword">const</span></div>&nbsp;<div style="display: inline;"><span class="original keyword">char</span></div><div style="display: inline;"><span class="original punctuation">*</span></div>&nbsp;<div style="display: inline;"><span class="original keyword">const</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">restEnd</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">=</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">restStart</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">+</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">restSize</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-920"><span class="line_nr">920:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original keyword">for</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original punctuation">;</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">restPtr</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">&lt;</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">restEnd</span></div><div style="display: inline;"><span class="original punctuation">)</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">&amp;&amp;</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original punctuation">*</span></div><div style="display: inline;"><span class="original identifier">restPtr</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">==</span></div>&nbsp;<div style="display: inline;"><span class="original literal">0</span></div><div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original punctuation">;</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">restPtr</span></div><div style="display: inline;"><span class="original punctuation">++</span></div><div style="display: inline;"><span class="original punctuation">)</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-921"><span class="line_nr">921:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original identifier">storedSkips</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">+=</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original keyword">unsigned</span></div><div style="display: inline;"><span class="original punctuation">)</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">restPtr</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">-</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">restStart</span></div><div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-922"><span class="line_nr">922:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original keyword">if</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">restPtr</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">!=</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">restEnd</span></div><div style="display: inline;"><span class="original punctuation">)</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">{</span></div></td></tr>
<tr><td class="loc" id="loc-923"><span class="line_nr">923:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original keyword">int</span></div>&nbsp;<div style="display: inline;"><span class="original keyword">const</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">seekResult</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">=</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">UTIL_fseek</span></div><div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">file</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">storedSkips</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">SEEK_CUR</span></div><div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-924"><span class="line_nr">924:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original keyword">if</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">seekResult</span></div><div style="display: inline;"><span class="original punctuation">)</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">EXM_THROW</span></div><div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original literal">74</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original literal">&quot;Sparse skip error ; try --no-sparse&quot;</span></div><div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-925"><span class="line_nr">925:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original identifier">storedSkips</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">=</span></div>&nbsp;<div style="display: inline;"><span class="original literal">0</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-926"><span class="line_nr">926:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original punctuation">{</span></div>&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original identifier">size_t</span></div>&nbsp;<div style="display: inline;"><span class="original keyword">const</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">sizeCheck</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">=</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">fwrite</span></div><div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">restPtr</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original literal">1</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">size_t</span></div><div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">restEnd</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">-</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">restPtr</span></div><div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">file</span></div><div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-927"><span class="line_nr">927:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original keyword">if</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">sizeCheck</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">!=</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">size_t</span></div><div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">restEnd</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">-</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">restPtr</span></div><div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original punctuation">)</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">EXM_THROW</span></div><div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original literal">75</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original literal">&quot;Write error : cannot write decoded end of block&quot;</span></div><div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-928"><span class="line_nr">928:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original punctuation">}</span></div>&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original punctuation">}</span></div></td></tr>
<tr><td class="loc" id="loc-929"><span class="line_nr">929:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original punctuation">}</span></div></td></tr>
<tr><td class="loc" id="loc-930"><span class="line_nr">930:</span></td></tr>
<tr><td class="loc" id="loc-931"><span class="line_nr">931:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original keyword">return</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">storedSkips</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-932"><span class="line_nr">932:</span><div style="display: inline;"><span class="original punctuation">}</span></div></td></tr>
<tr><td class="loc" id="loc-933"><span class="line_nr">933:</span></td></tr>
<tr><td class="loc" id="loc-934"><span class="line_nr">934:</span><div style="display: inline;"><span class="original keyword">static</span></div>&nbsp;<div style="display: inline;"><span class="original keyword">void</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">LZ4IO_fwriteSparseEnd</span></div><div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">FILE</span></div><div style="display: inline;"><span class="original punctuation">*</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">file</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original keyword">unsigned</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">storedSkips</span></div><div style="display: inline;"><span class="original punctuation">)</span></div></td></tr>
<tr><td class="loc" id="loc-935"><span class="line_nr">935:</span><div style="display: inline;"><span class="original punctuation">{</span></div></td></tr>
<tr><td class="loc" id="loc-936"><span class="line_nr">936:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original keyword">if</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">storedSkips</span></div><div style="display: inline;"><span class="original punctuation">&gt;</span></div><div style="display: inline;"><span class="original literal">0</span></div><div style="display: inline;"><span class="original punctuation">)</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">{</span></div>&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original comment">/* implies sparseFileSupport&gt;0 */</span></div></td></tr>
<tr><td class="loc" id="loc-937"><span class="line_nr">937:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original keyword">const</span></div>&nbsp;<div style="display: inline;"><span class="original keyword">char</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">lastZeroByte</span></div><div style="display: inline;"><span class="original punctuation">[</span></div><div style="display: inline;"><span class="original literal">1</span></div><div style="display: inline;"><span class="original punctuation">]</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">=</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">{</span></div>&nbsp;<div style="display: inline;"><span class="original literal">0</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">}</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-938"><span class="line_nr">938:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original keyword">if</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">UTIL_fseek</span></div><div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">file</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">storedSkips</span></div><div style="display: inline;"><span class="original punctuation">-</span></div><div style="display: inline;"><span class="original literal">1</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">SEEK_CUR</span></div><div style="display: inline;"><span class="original punctuation">)</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">!=</span></div>&nbsp;<div style="display: inline;"><span class="original literal">0</span></div><div style="display: inline;"><span class="original punctuation">)</span></div></td></tr>
<tr><td class="loc" id="loc-939"><span class="line_nr">939:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original identifier">EXM_THROW</span></div><div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original literal">69</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original literal">&quot;Final skip error (sparse file)\n&quot;</span></div><div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-940"><span class="line_nr">940:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original keyword">if</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">fwrite</span></div><div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">lastZeroByte</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original literal">1</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original literal">1</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">file</span></div><div style="display: inline;"><span class="original punctuation">)</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">!=</span></div>&nbsp;<div style="display: inline;"><span class="original literal">1</span></div><div style="display: inline;"><span class="original punctuation">)</span></div></td></tr>
<tr><td class="loc" id="loc-941"><span class="line_nr">941:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original identifier">EXM_THROW</span></div><div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original literal">69</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original literal">&quot;Write error : cannot write last zero\n&quot;</span></div><div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-942"><span class="line_nr">942:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original punctuation">}</span></div></td></tr>
<tr><td class="loc" id="loc-943"><span class="line_nr">943:</span><div style="display: inline;"><span class="original punctuation">}</span></div></td></tr>
<tr><td class="loc" id="loc-944"><span class="line_nr">944:</span></td></tr>
<tr><td class="loc" id="loc-945"><span class="line_nr">945:</span></td></tr>
<tr><td class="loc" id="loc-946"><span class="line_nr">946:</span><div style="display: inline;"><span class="original keyword">static</span></div>&nbsp;<div style="display: inline;"><span class="original keyword">unsigned</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">g_magicRead</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">=</span></div>&nbsp;<div style="display: inline;"><span class="original literal">0</span></div><div style="display: inline;"><span class="original punctuation">;</span></div>&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original comment">/* out-parameter of LZ4IO_decodeLegacyStream() */</span></div></td></tr>
<tr><td class="loc" id="loc-947"><span class="line_nr">947:</span><div style="display: inline;"><span class="original keyword">static</span></div>&nbsp;<div style="display: inline;"><span class="original keyword">unsigned</span></div>&nbsp;<div style="display: inline;"><span class="original keyword">long</span></div>&nbsp;<div style="display: inline;"><span class="original keyword">long</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">LZ4IO_decodeLegacyStream</span></div><div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">FILE</span></div><div style="display: inline;"><span class="original punctuation">*</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">finput</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">FILE</span></div><div style="display: inline;"><span class="original punctuation">*</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">foutput</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original keyword">const</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">LZ4IO_prefs_t</span></div><div style="display: inline;"><span class="original punctuation">*</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">prefs</span></div><div style="display: inline;"><span class="original punctuation">)</span></div></td></tr>
<tr><td class="loc" id="loc-948"><span class="line_nr">948:</span><div style="display: inline;"><span class="original punctuation">{</span></div></td></tr>
<tr><td class="loc" id="loc-949"><span class="line_nr">949:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original keyword">unsigned</span></div>&nbsp;<div style="display: inline;"><span class="original keyword">long</span></div>&nbsp;<div style="display: inline;"><span class="original keyword">long</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">streamSize</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">=</span></div>&nbsp;<div style="display: inline;"><span class="original literal">0</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-950"><span class="line_nr">950:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original keyword">unsigned</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">storedSkips</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">=</span></div>&nbsp;<div style="display: inline;"><span class="original literal">0</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-951"><span class="line_nr">951:</span></td></tr>
<tr><td class="loc" id="loc-952"><span class="line_nr">952:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original comment">/* Allocate Memory */</span></div></td></tr>
<tr><td class="loc" id="loc-953"><span class="line_nr">953:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original keyword">char</span></div><div style="display: inline;"><span class="original punctuation">*</span></div>&nbsp;<div style="display: inline;"><span class="original keyword">const</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">in_buff</span></div>&nbsp;&nbsp;<div style="display: inline;"><span class="original punctuation">=</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original keyword">char</span></div><div style="display: inline;"><span class="original punctuation">*</span></div><div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original identifier">malloc</span></div><div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">size_t</span></div><div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original identifier">LZ4_compressBound</span></div><div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">LEGACY_BLOCKSIZE</span></div><div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-954"><span class="line_nr">954:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original keyword">char</span></div><div style="display: inline;"><span class="original punctuation">*</span></div>&nbsp;<div style="display: inline;"><span class="original keyword">const</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">out_buff</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">=</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original keyword">char</span></div><div style="display: inline;"><span class="original punctuation">*</span></div><div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original identifier">malloc</span></div><div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">LEGACY_BLOCKSIZE</span></div><div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-955"><span class="line_nr">955:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original keyword">if</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original punctuation">!</span></div><div style="display: inline;"><span class="original identifier">in_buff</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">||</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">!</span></div><div style="display: inline;"><span class="original identifier">out_buff</span></div><div style="display: inline;"><span class="original punctuation">)</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">EXM_THROW</span></div><div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original literal">51</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original literal">&quot;Allocation error : not enough memory&quot;</span></div><div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-956"><span class="line_nr">956:</span></td></tr>
<tr><td class="loc" id="loc-957"><span class="line_nr">957:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original comment">/* Main Loop */</span></div></td></tr>
<tr><td class="loc" id="loc-958"><span class="line_nr">958:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original keyword">while</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original literal">1</span></div><div style="display: inline;"><span class="original punctuation">)</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">{</span></div></td></tr>
<tr><td class="loc" id="loc-959"><span class="line_nr">959:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original keyword">unsigned</span></div>&nbsp;<div style="display: inline;"><span class="original keyword">int</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">blockSize</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-960"><span class="line_nr">960:</span></td></tr>
<tr><td class="loc" id="loc-961"><span class="line_nr">961:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original comment">/* Block Size */</span></div></td></tr>
<tr><td class="loc" id="loc-962"><span class="line_nr">962:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original punctuation">{</span></div>&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original identifier">size_t</span></div>&nbsp;<div style="display: inline;"><span class="original keyword">const</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">sizeCheck</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">=</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">fread</span></div><div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">in_buff</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original literal">1</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original literal">4</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">finput</span></div><div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-963"><span class="line_nr">963:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original keyword">if</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">sizeCheck</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">==</span></div>&nbsp;<div style="display: inline;"><span class="original literal">0</span></div><div style="display: inline;"><span class="original punctuation">)</span></div>&nbsp;<div style="display: inline;"><span class="original keyword">break</span></div><div style="display: inline;"><span class="original punctuation">;</span></div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original comment">/* Nothing to read : file read is completed */</span></div></td></tr>
<tr><td class="loc" id="loc-964"><span class="line_nr">964:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original keyword">if</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">sizeCheck</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">!=</span></div>&nbsp;<div style="display: inline;"><span class="original literal">4</span></div><div style="display: inline;"><span class="original punctuation">)</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">EXM_THROW</span></div><div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original literal">52</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original literal">&quot;Read error : cannot access block size &quot;</span></div><div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original punctuation">;</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">}</span></div></td></tr>
<tr><td class="loc" id="loc-965"><span class="line_nr">965:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original identifier">blockSize</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">=</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">LZ4IO_readLE32</span></div><div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">in_buff</span></div><div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original punctuation">;</span></div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original comment">/* Convert to Little Endian */</span></div></td></tr>
<tr><td class="loc" id="loc-966"><span class="line_nr">966:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original keyword">if</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">blockSize</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">&gt;</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">LZ4_COMPRESSBOUND</span></div><div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">LEGACY_BLOCKSIZE</span></div><div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original punctuation">)</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">{</span></div></td></tr>
<tr><td class="loc" id="loc-967"><span class="line_nr">967:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original comment">/* Cannot read next block : maybe new stream ? */</span></div></td></tr>
<tr><td class="loc" id="loc-968"><span class="line_nr">968:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original identifier">g_magicRead</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">=</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">blockSize</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-969"><span class="line_nr">969:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original keyword">break</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-970"><span class="line_nr">970:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original punctuation">}</span></div></td></tr>
<tr><td class="loc" id="loc-971"><span class="line_nr">971:</span></td></tr>
<tr><td class="loc" id="loc-972"><span class="line_nr">972:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original comment">/* Read Block */</span></div></td></tr>
<tr><td class="loc" id="loc-973"><span class="line_nr">973:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original punctuation">{</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">size_t</span></div>&nbsp;<div style="display: inline;"><span class="original keyword">const</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">sizeCheck</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">=</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">fread</span></div><div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">in_buff</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original literal">1</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">blockSize</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">finput</span></div><div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-974"><span class="line_nr">974:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original keyword">if</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">sizeCheck</span></div><div style="display: inline;"><span class="original punctuation">!=</span></div><div style="display: inline;"><span class="original identifier">blockSize</span></div><div style="display: inline;"><span class="original punctuation">)</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">EXM_THROW</span></div><div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original literal">52</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original literal">&quot;Read error : cannot access compressed block !&quot;</span></div><div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original punctuation">;</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">}</span></div></td></tr>
<tr><td class="loc" id="loc-975"><span class="line_nr">975:</span></td></tr>
<tr><td class="loc" id="loc-976"><span class="line_nr">976:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original comment">/* Decode Block */</span></div></td></tr>
<tr><td class="loc" id="loc-977"><span class="line_nr">977:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original punctuation">{</span></div>&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original keyword">int</span></div>&nbsp;<div style="display: inline;"><span class="original keyword">const</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">decodeSize</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">=</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">LZ4_decompress_safe</span></div><div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">in_buff</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">out_buff</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original keyword">int</span></div><div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original identifier">blockSize</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">LEGACY_BLOCKSIZE</span></div><div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-978"><span class="line_nr">978:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original keyword">if</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">decodeSize</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">&lt;</span></div>&nbsp;<div style="display: inline;"><span class="original literal">0</span></div><div style="display: inline;"><span class="original punctuation">)</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">EXM_THROW</span></div><div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original literal">53</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original literal">&quot;Decoding Failed ! Corrupted input detected !&quot;</span></div><div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-979"><span class="line_nr">979:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original identifier">streamSize</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">+=</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original keyword">unsigned</span></div>&nbsp;<div style="display: inline;"><span class="original keyword">long</span></div>&nbsp;<div style="display: inline;"><span class="original keyword">long</span></div><div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original identifier">decodeSize</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-980"><span class="line_nr">980:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original comment">/* Write Block */</span></div></td></tr>
<tr><td class="loc" id="loc-981"><span class="line_nr">981:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original identifier">storedSkips</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">=</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">LZ4IO_fwriteSparse</span></div><div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">foutput</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">out_buff</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">size_t</span></div><div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original identifier">decodeSize</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">prefs</span></div><div style="display: inline;"><span class="original punctuation">-&gt;</span></div><div style="display: inline;"><span class="original identifier">sparseFileSupport</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">storedSkips</span></div><div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original punctuation">;</span></div>&nbsp;<div style="display: inline;"><span class="original comment">/* success or die */</span></div></td></tr>
<tr><td class="loc" id="loc-982"><span class="line_nr">982:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original punctuation">}</span></div>&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original punctuation">}</span></div></td></tr>
<tr><td class="loc" id="loc-983"><span class="line_nr">983:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original keyword">if</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">ferror</span></div><div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">finput</span></div><div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original punctuation">)</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">EXM_THROW</span></div><div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original literal">54</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original literal">&quot;Read error : ferror&quot;</span></div><div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-984"><span class="line_nr">984:</span></td></tr>
<tr><td class="loc" id="loc-985"><span class="line_nr">985:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original identifier">LZ4IO_fwriteSparseEnd</span></div><div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">foutput</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">storedSkips</span></div><div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-986"><span class="line_nr">986:</span></td></tr>
<tr><td class="loc" id="loc-987"><span class="line_nr">987:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original comment">/* Free */</span></div></td></tr>
<tr><td class="loc" id="loc-988"><span class="line_nr">988:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original identifier">free</span></div><div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">in_buff</span></div><div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-989"><span class="line_nr">989:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original identifier">free</span></div><div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">out_buff</span></div><div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-990"><span class="line_nr">990:</span></td></tr>
<tr><td class="loc" id="loc-991"><span class="line_nr">991:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original keyword">return</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">streamSize</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-992"><span class="line_nr">992:</span><div style="display: inline;"><span class="original punctuation">}</span></div></td></tr>
<tr><td class="loc" id="loc-993"><span class="line_nr">993:</span></td></tr>
<tr><td class="loc" id="loc-994"><span class="line_nr">994:</span></td></tr>
<tr><td class="loc" id="loc-995"><span class="line_nr">995:</span></td></tr>
<tr><td class="loc" id="loc-996"><span class="line_nr">996:</span><div style="display: inline;"><span class="original keyword">typedef</span></div>&nbsp;<div style="display: inline;"><span class="original keyword">struct</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">{</span></div></td></tr>
<tr><td class="loc" id="loc-997"><span class="line_nr">997:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original keyword">void</span></div><div style="display: inline;"><span class="original punctuation">*</span></div>&nbsp;&nbsp;<div style="display: inline;"><span class="original identifier">srcBuffer</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-998"><span class="line_nr">998:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original identifier">size_t</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">srcBufferSize</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-999"><span class="line_nr">999:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original keyword">void</span></div><div style="display: inline;"><span class="original punctuation">*</span></div>&nbsp;&nbsp;<div style="display: inline;"><span class="original identifier">dstBuffer</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-1000"><span class="line_nr">1000:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original identifier">size_t</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">dstBufferSize</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-1001"><span class="line_nr">1001:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original identifier">FILE</span></div><div style="display: inline;"><span class="original punctuation">*</span></div>&nbsp;&nbsp;<div style="display: inline;"><span class="original identifier">dstFile</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-1002"><span class="line_nr">1002:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original identifier">LZ4F_decompressionContext_t</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">dCtx</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-1003"><span class="line_nr">1003:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original keyword">void</span></div><div style="display: inline;"><span class="original punctuation">*</span></div>&nbsp;&nbsp;<div style="display: inline;"><span class="original identifier">dictBuffer</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-1004"><span class="line_nr">1004:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original identifier">size_t</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">dictBufferSize</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-1005"><span class="line_nr">1005:</span><div style="display: inline;"><span class="original punctuation">}</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">dRess_t</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-1006"><span class="line_nr">1006:</span></td></tr>
<tr><td class="loc" id="loc-1007"><span class="line_nr">1007:</span><div style="display: inline;"><span class="original keyword">static</span></div>&nbsp;<div style="display: inline;"><span class="original keyword">void</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">LZ4IO_loadDDict</span></div><div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">dRess_t</span></div><div style="display: inline;"><span class="original punctuation">*</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">ress</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original keyword">const</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">LZ4IO_prefs_t</span></div><div style="display: inline;"><span class="original punctuation">*</span></div>&nbsp;<div style="display: inline;"><span class="original keyword">const</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">prefs</span></div><div style="display: inline;"><span class="original punctuation">)</span></div></td></tr>
<tr><td class="loc" id="loc-1008"><span class="line_nr">1008:</span><div style="display: inline;"><span class="original punctuation">{</span></div></td></tr>
<tr><td class="loc" id="loc-1009"><span class="line_nr">1009:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original keyword">if</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original punctuation">!</span></div><div style="display: inline;"><span class="original identifier">prefs</span></div><div style="display: inline;"><span class="original punctuation">-&gt;</span></div><div style="display: inline;"><span class="original identifier">useDictionary</span></div><div style="display: inline;"><span class="original punctuation">)</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">{</span></div></td></tr>
<tr><td class="loc" id="loc-1010"><span class="line_nr">1010:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original identifier">ress</span></div><div style="display: inline;"><span class="original punctuation">-&gt;</span></div><div style="display: inline;"><span class="original identifier">dictBuffer</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">=</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">NULL</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-1011"><span class="line_nr">1011:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original identifier">ress</span></div><div style="display: inline;"><span class="original punctuation">-&gt;</span></div><div style="display: inline;"><span class="original identifier">dictBufferSize</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">=</span></div>&nbsp;<div style="display: inline;"><span class="original literal">0</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-1012"><span class="line_nr">1012:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original keyword">return</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-1013"><span class="line_nr">1013:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original punctuation">}</span></div></td></tr>
<tr><td class="loc" id="loc-1014"><span class="line_nr">1014:</span></td></tr>
<tr><td class="loc" id="loc-1015"><span class="line_nr">1015:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original identifier">ress</span></div><div style="display: inline;"><span class="original punctuation">-&gt;</span></div><div style="display: inline;"><span class="original identifier">dictBuffer</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">=</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">LZ4IO_createDict</span></div><div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original punctuation">&amp;</span></div><div style="display: inline;"><span class="original identifier">ress</span></div><div style="display: inline;"><span class="original punctuation">-&gt;</span></div><div style="display: inline;"><span class="original identifier">dictBufferSize</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">prefs</span></div><div style="display: inline;"><span class="original punctuation">-&gt;</span></div><div style="display: inline;"><span class="original identifier">dictionaryFilename</span></div><div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-1016"><span class="line_nr">1016:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original keyword">if</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original punctuation">!</span></div><div style="display: inline;"><span class="original identifier">ress</span></div><div style="display: inline;"><span class="original punctuation">-&gt;</span></div><div style="display: inline;"><span class="original identifier">dictBuffer</span></div><div style="display: inline;"><span class="original punctuation">)</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">EXM_THROW</span></div><div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original literal">25</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original literal">&quot;Dictionary error : could not create dictionary&quot;</span></div><div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-1017"><span class="line_nr">1017:</span><div style="display: inline;"><span class="original punctuation">}</span></div></td></tr>
<tr><td class="loc" id="loc-1018"><span class="line_nr">1018:</span></td></tr>
<tr><td class="loc" id="loc-1019"><span class="line_nr">1019:</span><div style="display: inline;"><span class="original keyword">static</span></div>&nbsp;<div style="display: inline;"><span class="original keyword">const</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">size_t</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">LZ4IO_dBufferSize</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">=</span></div>&nbsp;<div style="display: inline;"><span class="original literal">64</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">KB</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-1020"><span class="line_nr">1020:</span><div style="display: inline;"><span class="original keyword">static</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">dRess_t</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">LZ4IO_createDResources</span></div><div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original keyword">const</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">LZ4IO_prefs_t</span></div><div style="display: inline;"><span class="original punctuation">*</span></div>&nbsp;<div style="display: inline;"><span class="original keyword">const</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">prefs</span></div><div style="display: inline;"><span class="original punctuation">)</span></div></td></tr>
<tr><td class="loc" id="loc-1021"><span class="line_nr">1021:</span><div style="display: inline;"><span class="original punctuation">{</span></div></td></tr>
<tr><td class="loc" id="loc-1022"><span class="line_nr">1022:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original identifier">dRess_t</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">ress</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-1023"><span class="line_nr">1023:</span></td></tr>
<tr><td class="loc" id="loc-1024"><span class="line_nr">1024:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original comment">/* init */</span></div></td></tr>
<tr><td class="loc" id="loc-1025"><span class="line_nr">1025:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original identifier">LZ4F_errorCode_t</span></div>&nbsp;<div style="display: inline;"><span class="original keyword">const</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">errorCode</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">=</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">LZ4F_createDecompressionContext</span></div><div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original punctuation">&amp;</span></div><div style="display: inline;"><span class="original identifier">ress</span></div><div style="display: inline;"><span class="original punctuation">.</span></div><div style="display: inline;"><span class="original identifier">dCtx</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">LZ4F_VERSION</span></div><div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-1026"><span class="line_nr">1026:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original keyword">if</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">LZ4F_isError</span></div><div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">errorCode</span></div><div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original punctuation">)</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">EXM_THROW</span></div><div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original literal">60</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original literal">&quot;Can't create LZ4F context : %s&quot;</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">LZ4F_getErrorName</span></div><div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">errorCode</span></div><div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-1027"><span class="line_nr">1027:</span></td></tr>
<tr><td class="loc" id="loc-1028"><span class="line_nr">1028:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original comment">/* Allocate Memory */</span></div></td></tr>
<tr><td class="loc" id="loc-1029"><span class="line_nr">1029:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original identifier">ress</span></div><div style="display: inline;"><span class="original punctuation">.</span></div><div style="display: inline;"><span class="original identifier">srcBufferSize</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">=</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">LZ4IO_dBufferSize</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-1030"><span class="line_nr">1030:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original identifier">ress</span></div><div style="display: inline;"><span class="original punctuation">.</span></div><div style="display: inline;"><span class="original identifier">srcBuffer</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">=</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">malloc</span></div><div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">ress</span></div><div style="display: inline;"><span class="original punctuation">.</span></div><div style="display: inline;"><span class="original identifier">srcBufferSize</span></div><div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-1031"><span class="line_nr">1031:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original identifier">ress</span></div><div style="display: inline;"><span class="original punctuation">.</span></div><div style="display: inline;"><span class="original identifier">dstBufferSize</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">=</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">LZ4IO_dBufferSize</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-1032"><span class="line_nr">1032:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original identifier">ress</span></div><div style="display: inline;"><span class="original punctuation">.</span></div><div style="display: inline;"><span class="original identifier">dstBuffer</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">=</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">malloc</span></div><div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">ress</span></div><div style="display: inline;"><span class="original punctuation">.</span></div><div style="display: inline;"><span class="original identifier">dstBufferSize</span></div><div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-1033"><span class="line_nr">1033:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original keyword">if</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original punctuation">!</span></div><div style="display: inline;"><span class="original identifier">ress</span></div><div style="display: inline;"><span class="original punctuation">.</span></div><div style="display: inline;"><span class="original identifier">srcBuffer</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">||</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">!</span></div><div style="display: inline;"><span class="original identifier">ress</span></div><div style="display: inline;"><span class="original punctuation">.</span></div><div style="display: inline;"><span class="original identifier">dstBuffer</span></div><div style="display: inline;"><span class="original punctuation">)</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">EXM_THROW</span></div><div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original literal">61</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original literal">&quot;Allocation error : not enough memory&quot;</span></div><div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-1034"><span class="line_nr">1034:</span></td></tr>
<tr><td class="loc" id="loc-1035"><span class="line_nr">1035:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original identifier">LZ4IO_loadDDict</span></div><div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original punctuation">&amp;</span></div><div style="display: inline;"><span class="original identifier">ress</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">prefs</span></div><div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-1036"><span class="line_nr">1036:</span></td></tr>
<tr><td class="loc" id="loc-1037"><span class="line_nr">1037:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original identifier">ress</span></div><div style="display: inline;"><span class="original punctuation">.</span></div><div style="display: inline;"><span class="original identifier">dstFile</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">=</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">NULL</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-1038"><span class="line_nr">1038:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original keyword">return</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">ress</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-1039"><span class="line_nr">1039:</span><div style="display: inline;"><span class="original punctuation">}</span></div></td></tr>
<tr><td class="loc" id="loc-1040"><span class="line_nr">1040:</span></td></tr>
<tr><td class="loc" id="loc-1041"><span class="line_nr">1041:</span><div style="display: inline;"><span class="original keyword">static</span></div>&nbsp;<div style="display: inline;"><span class="original keyword">void</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">LZ4IO_freeDResources</span></div><div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">dRess_t</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">ress</span></div><div style="display: inline;"><span class="original punctuation">)</span></div></td></tr>
<tr><td class="loc" id="loc-1042"><span class="line_nr">1042:</span><div style="display: inline;"><span class="original punctuation">{</span></div></td></tr>
<tr><td class="loc" id="loc-1043"><span class="line_nr">1043:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original identifier">LZ4F_errorCode_t</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">errorCode</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">=</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">LZ4F_freeDecompressionContext</span></div><div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">ress</span></div><div style="display: inline;"><span class="original punctuation">.</span></div><div style="display: inline;"><span class="original identifier">dCtx</span></div><div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-1044"><span class="line_nr">1044:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original keyword">if</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">LZ4F_isError</span></div><div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">errorCode</span></div><div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original punctuation">)</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">EXM_THROW</span></div><div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original literal">69</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original literal">&quot;Error : can't free LZ4F context resource : %s&quot;</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">LZ4F_getErrorName</span></div><div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">errorCode</span></div><div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-1045"><span class="line_nr">1045:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original identifier">free</span></div><div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">ress</span></div><div style="display: inline;"><span class="original punctuation">.</span></div><div style="display: inline;"><span class="original identifier">srcBuffer</span></div><div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-1046"><span class="line_nr">1046:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original identifier">free</span></div><div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">ress</span></div><div style="display: inline;"><span class="original punctuation">.</span></div><div style="display: inline;"><span class="original identifier">dstBuffer</span></div><div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-1047"><span class="line_nr">1047:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original identifier">free</span></div><div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">ress</span></div><div style="display: inline;"><span class="original punctuation">.</span></div><div style="display: inline;"><span class="original identifier">dictBuffer</span></div><div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-1048"><span class="line_nr">1048:</span><div style="display: inline;"><span class="original punctuation">}</span></div></td></tr>
<tr><td class="loc" id="loc-1049"><span class="line_nr">1049:</span></td></tr>
<tr><td class="loc" id="loc-1050"><span class="line_nr">1050:</span></td></tr>
<tr><td class="loc" id="loc-1051"><span class="line_nr">1051:</span><div style="display: inline;"><span class="original keyword">static</span></div>&nbsp;<div style="display: inline;"><span class="original keyword">unsigned</span></div>&nbsp;<div style="display: inline;"><span class="original keyword">long</span></div>&nbsp;<div style="display: inline;"><span class="original keyword">long</span></div></td></tr>
<tr><td class="loc" id="loc-1052"><span class="line_nr">1052:</span><div style="display: inline;"><span class="original identifier">LZ4IO_decompressLZ4F</span></div><div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">dRess_t</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">ress</span></div><div style="display: inline;"><span class="original punctuation">,</span></div></td></tr>
<tr><td class="loc" id="loc-1053"><span class="line_nr">1053:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original identifier">FILE</span></div><div style="display: inline;"><span class="original punctuation">*</span></div>&nbsp;<div style="display: inline;"><span class="original keyword">const</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">srcFile</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">FILE</span></div><div style="display: inline;"><span class="original punctuation">*</span></div>&nbsp;<div style="display: inline;"><span class="original keyword">const</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">dstFile</span></div><div style="display: inline;"><span class="original punctuation">,</span></div></td></tr>
<tr><td class="loc" id="loc-1054"><span class="line_nr">1054:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original keyword">const</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">LZ4IO_prefs_t</span></div><div style="display: inline;"><span class="original punctuation">*</span></div>&nbsp;<div style="display: inline;"><span class="original keyword">const</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">prefs</span></div><div style="display: inline;"><span class="original punctuation">)</span></div></td></tr>
<tr><td class="loc" id="loc-1055"><span class="line_nr">1055:</span><div style="display: inline;"><span class="original punctuation">{</span></div></td></tr>
<tr><td class="loc" id="loc-1056"><span class="line_nr">1056:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original keyword">unsigned</span></div>&nbsp;<div style="display: inline;"><span class="original keyword">long</span></div>&nbsp;<div style="display: inline;"><span class="original keyword">long</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">filesize</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">=</span></div>&nbsp;<div style="display: inline;"><span class="original literal">0</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-1057"><span class="line_nr">1057:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original identifier">LZ4F_errorCode_t</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">nextToLoad</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-1058"><span class="line_nr">1058:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original keyword">unsigned</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">storedSkips</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">=</span></div>&nbsp;<div style="display: inline;"><span class="original literal">0</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-1059"><span class="line_nr">1059:</span></td></tr>
<tr><td class="loc" id="loc-1060"><span class="line_nr">1060:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original comment">/* Init feed with magic number (already consumed from FILE* sFile) */</span></div></td></tr>
<tr><td class="loc" id="loc-1061"><span class="line_nr">1061:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original punctuation">{</span></div>&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original identifier">size_t</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">inSize</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">=</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">MAGICNUMBER_SIZE</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-1062"><span class="line_nr">1062:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original identifier">size_t</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">outSize</span></div><div style="display: inline;"><span class="original punctuation">=</span></div>&nbsp;<div style="display: inline;"><span class="original literal">0</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-1063"><span class="line_nr">1063:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original identifier">LZ4IO_writeLE32</span></div><div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">ress</span></div><div style="display: inline;"><span class="original punctuation">.</span></div><div style="display: inline;"><span class="original identifier">srcBuffer</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">LZ4IO_MAGICNUMBER</span></div><div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-1064"><span class="line_nr">1064:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original identifier">nextToLoad</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">=</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">LZ4F_decompress_usingDict</span></div><div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">ress</span></div><div style="display: inline;"><span class="original punctuation">.</span></div><div style="display: inline;"><span class="original identifier">dCtx</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">ress</span></div><div style="display: inline;"><span class="original punctuation">.</span></div><div style="display: inline;"><span class="original identifier">dstBuffer</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">&amp;</span></div><div style="display: inline;"><span class="original identifier">outSize</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">ress</span></div><div style="display: inline;"><span class="original punctuation">.</span></div><div style="display: inline;"><span class="original identifier">srcBuffer</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">&amp;</span></div><div style="display: inline;"><span class="original identifier">inSize</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">ress</span></div><div style="display: inline;"><span class="original punctuation">.</span></div><div style="display: inline;"><span class="original identifier">dictBuffer</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">ress</span></div><div style="display: inline;"><span class="original punctuation">.</span></div><div style="display: inline;"><span class="original identifier">dictBufferSize</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">NULL</span></div><div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-1065"><span class="line_nr">1065:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original keyword">if</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">LZ4F_isError</span></div><div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">nextToLoad</span></div><div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original punctuation">)</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">EXM_THROW</span></div><div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original literal">62</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original literal">&quot;Header error : %s&quot;</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">LZ4F_getErrorName</span></div><div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">nextToLoad</span></div><div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-1066"><span class="line_nr">1066:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original punctuation">}</span></div></td></tr>
<tr><td class="loc" id="loc-1067"><span class="line_nr">1067:</span></td></tr>
<tr><td class="loc" id="loc-1068"><span class="line_nr">1068:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original comment">/* Main Loop */</span></div></td></tr>
<tr><td class="loc" id="loc-1069"><span class="line_nr">1069:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original keyword">for</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original punctuation">;</span></div><div style="display: inline;"><span class="original identifier">nextToLoad</span></div><div style="display: inline;"><span class="original punctuation">;</span></div><div style="display: inline;"><span class="original punctuation">)</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">{</span></div></td></tr>
<tr><td class="loc" id="loc-1070"><span class="line_nr">1070:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original identifier">size_t</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">readSize</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-1071"><span class="line_nr">1071:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original identifier">size_t</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">pos</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">=</span></div>&nbsp;<div style="display: inline;"><span class="original literal">0</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-1072"><span class="line_nr">1072:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original identifier">size_t</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">decodedBytes</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">=</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">ress</span></div><div style="display: inline;"><span class="original punctuation">.</span></div><div style="display: inline;"><span class="original identifier">dstBufferSize</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-1073"><span class="line_nr">1073:</span></td></tr>
<tr><td class="loc" id="loc-1074"><span class="line_nr">1074:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original comment">/* Read input */</span></div></td></tr>
<tr><td class="loc" id="loc-1075"><span class="line_nr">1075:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original keyword">if</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">nextToLoad</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">&gt;</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">ress</span></div><div style="display: inline;"><span class="original punctuation">.</span></div><div style="display: inline;"><span class="original identifier">srcBufferSize</span></div><div style="display: inline;"><span class="original punctuation">)</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">nextToLoad</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">=</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">ress</span></div><div style="display: inline;"><span class="original punctuation">.</span></div><div style="display: inline;"><span class="original identifier">srcBufferSize</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-1076"><span class="line_nr">1076:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original identifier">readSize</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">=</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">fread</span></div><div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">ress</span></div><div style="display: inline;"><span class="original punctuation">.</span></div><div style="display: inline;"><span class="original identifier">srcBuffer</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original literal">1</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">nextToLoad</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">srcFile</span></div><div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-1077"><span class="line_nr">1077:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original keyword">if</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original punctuation">!</span></div><div style="display: inline;"><span class="original identifier">readSize</span></div><div style="display: inline;"><span class="original punctuation">)</span></div>&nbsp;<div style="display: inline;"><span class="original keyword">break</span></div><div style="display: inline;"><span class="original punctuation">;</span></div>&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original comment">/* reached end of file or stream */</span></div></td></tr>
<tr><td class="loc" id="loc-1078"><span class="line_nr">1078:</span></td></tr>
<tr><td class="loc" id="loc-1079"><span class="line_nr">1079:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original keyword">while</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">pos</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">&lt;</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">readSize</span></div><div style="display: inline;"><span class="original punctuation">)</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">||</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">decodedBytes</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">==</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">ress</span></div><div style="display: inline;"><span class="original punctuation">.</span></div><div style="display: inline;"><span class="original identifier">dstBufferSize</span></div><div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original punctuation">)</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">{</span></div>&nbsp;&nbsp;<div style="display: inline;"><span class="original comment">/* still to read, or still to flush */</span></div></td></tr>
<tr><td class="loc" id="loc-1080"><span class="line_nr">1080:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original comment">/* Decode Input (at least partially) */</span></div></td></tr>
<tr><td class="loc" id="loc-1081"><span class="line_nr">1081:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original identifier">size_t</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">remaining</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">=</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">readSize</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">-</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">pos</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-1082"><span class="line_nr">1082:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original identifier">decodedBytes</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">=</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">ress</span></div><div style="display: inline;"><span class="original punctuation">.</span></div><div style="display: inline;"><span class="original identifier">dstBufferSize</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-1083"><span class="line_nr">1083:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original identifier">nextToLoad</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">=</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">LZ4F_decompress_usingDict</span></div><div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">ress</span></div><div style="display: inline;"><span class="original punctuation">.</span></div><div style="display: inline;"><span class="original identifier">dCtx</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">ress</span></div><div style="display: inline;"><span class="original punctuation">.</span></div><div style="display: inline;"><span class="original identifier">dstBuffer</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">&amp;</span></div><div style="display: inline;"><span class="original identifier">decodedBytes</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original keyword">char</span></div><div style="display: inline;"><span class="original punctuation">*</span></div><div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">ress</span></div><div style="display: inline;"><span class="original punctuation">.</span></div><div style="display: inline;"><span class="original identifier">srcBuffer</span></div><div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original punctuation">+</span></div><div style="display: inline;"><span class="original identifier">pos</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">&amp;</span></div><div style="display: inline;"><span class="original identifier">remaining</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">ress</span></div><div style="display: inline;"><span class="original punctuation">.</span></div><div style="display: inline;"><span class="original identifier">dictBuffer</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">ress</span></div><div style="display: inline;"><span class="original punctuation">.</span></div><div style="display: inline;"><span class="original identifier">dictBufferSize</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">NULL</span></div><div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-1084"><span class="line_nr">1084:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original keyword">if</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">LZ4F_isError</span></div><div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">nextToLoad</span></div><div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original punctuation">)</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">EXM_THROW</span></div><div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original literal">66</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original literal">&quot;Decompression error : %s&quot;</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">LZ4F_getErrorName</span></div><div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">nextToLoad</span></div><div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-1085"><span class="line_nr">1085:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original identifier">pos</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">+=</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">remaining</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-1086"><span class="line_nr">1086:</span></td></tr>
<tr><td class="loc" id="loc-1087"><span class="line_nr">1087:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original comment">/* Write Block */</span></div></td></tr>
<tr><td class="loc" id="loc-1088"><span class="line_nr">1088:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original keyword">if</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">decodedBytes</span></div><div style="display: inline;"><span class="original punctuation">)</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">{</span></div></td></tr>
<tr><td class="loc" id="loc-1089"><span class="line_nr">1089:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original keyword">if</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original punctuation">!</span></div><div style="display: inline;"><span class="original identifier">prefs</span></div><div style="display: inline;"><span class="original punctuation">-&gt;</span></div><div style="display: inline;"><span class="original identifier">testMode</span></div><div style="display: inline;"><span class="original punctuation">)</span></div></td></tr>
<tr><td class="loc" id="loc-1090"><span class="line_nr">1090:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original identifier">storedSkips</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">=</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">LZ4IO_fwriteSparse</span></div><div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">dstFile</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">ress</span></div><div style="display: inline;"><span class="original punctuation">.</span></div><div style="display: inline;"><span class="original identifier">dstBuffer</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">decodedBytes</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">prefs</span></div><div style="display: inline;"><span class="original punctuation">-&gt;</span></div><div style="display: inline;"><span class="original identifier">sparseFileSupport</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">storedSkips</span></div><div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-1091"><span class="line_nr">1091:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original identifier">filesize</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">+=</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">decodedBytes</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-1092"><span class="line_nr">1092:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original identifier">DISPLAYUPDATE</span></div><div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original literal">2</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original literal">&quot;\rDecompressed : %u MB  &quot;</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original keyword">unsigned</span></div><div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">filesize</span></div><div style="display: inline;"><span class="original punctuation">&gt;&gt;</span></div><div style="display: inline;"><span class="original literal">20</span></div><div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-1093"><span class="line_nr">1093:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original punctuation">}</span></div></td></tr>
<tr><td class="loc" id="loc-1094"><span class="line_nr">1094:</span></td></tr>
<tr><td class="loc" id="loc-1095"><span class="line_nr">1095:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original keyword">if</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original punctuation">!</span></div><div style="display: inline;"><span class="original identifier">nextToLoad</span></div><div style="display: inline;"><span class="original punctuation">)</span></div>&nbsp;<div style="display: inline;"><span class="original keyword">break</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-1096"><span class="line_nr">1096:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original punctuation">}</span></div></td></tr>
<tr><td class="loc" id="loc-1097"><span class="line_nr">1097:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original punctuation">}</span></div></td></tr>
<tr><td class="loc" id="loc-1098"><span class="line_nr">1098:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original comment">/* can be out because readSize == 0, which could be an fread() error */</span></div></td></tr>
<tr><td class="loc" id="loc-1099"><span class="line_nr">1099:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original keyword">if</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">ferror</span></div><div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">srcFile</span></div><div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original punctuation">)</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">EXM_THROW</span></div><div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original literal">67</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original literal">&quot;Read error&quot;</span></div><div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-1100"><span class="line_nr">1100:</span></td></tr>
<tr><td class="loc" id="loc-1101"><span class="line_nr">1101:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original keyword">if</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original punctuation">!</span></div><div style="display: inline;"><span class="original identifier">prefs</span></div><div style="display: inline;"><span class="original punctuation">-&gt;</span></div><div style="display: inline;"><span class="original identifier">testMode</span></div><div style="display: inline;"><span class="original punctuation">)</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">LZ4IO_fwriteSparseEnd</span></div><div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">dstFile</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">storedSkips</span></div><div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-1102"><span class="line_nr">1102:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original keyword">if</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">nextToLoad</span></div><div style="display: inline;"><span class="original punctuation">!=</span></div><div style="display: inline;"><span class="original literal">0</span></div><div style="display: inline;"><span class="original punctuation">)</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">EXM_THROW</span></div><div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original literal">68</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original literal">&quot;Unfinished stream&quot;</span></div><div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-1103"><span class="line_nr">1103:</span></td></tr>
<tr><td class="loc" id="loc-1104"><span class="line_nr">1104:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original keyword">return</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">filesize</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-1105"><span class="line_nr">1105:</span><div style="display: inline;"><span class="original punctuation">}</span></div></td></tr>
<tr><td class="loc" id="loc-1106"><span class="line_nr">1106:</span></td></tr>
<tr><td class="loc" id="loc-1107"><span class="line_nr">1107:</span></td></tr>
<tr><td class="loc" id="loc-1108"><span class="line_nr">1108:</span><div style="display: inline;"><span class="original comment">/* LZ4IO_passThrough:</span></div></td></tr>
<tr><td class="loc" id="loc-1109"><span class="line_nr">1109:</span><div style="display: inline;"><span class="original comment"> * just output the same content as input, no decoding.</span></div></td></tr>
<tr><td class="loc" id="loc-1110"><span class="line_nr">1110:</span><div style="display: inline;"><span class="original comment"> * This is a capability of zcat, and by extension lz4cat</span></div></td></tr>
<tr><td class="loc" id="loc-1111"><span class="line_nr">1111:</span><div style="display: inline;"><span class="original comment"> * MNstore : contain the first MAGICNUMBER_SIZE bytes already read from finput</span></div></td></tr>
<tr><td class="loc" id="loc-1112"><span class="line_nr">1112:</span><div style="display: inline;"><span class="original comment"> */</span></div></td></tr>
<tr><td class="loc" id="loc-1113"><span class="line_nr">1113:</span><div style="display: inline;"><span class="original punctuation">#</span></div><div style="display: inline;"><span class="original identifier">define</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">PTSIZE</span></div>&nbsp;&nbsp;<div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original literal">64</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">KB</span></div><div style="display: inline;"><span class="original punctuation">)</span></div></td></tr>
<tr><td class="loc" id="loc-1114"><span class="line_nr">1114:</span><div style="display: inline;"><span class="original punctuation">#</span></div><div style="display: inline;"><span class="original identifier">define</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">PTSIZET</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">PTSIZE</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">/</span></div>&nbsp;<div style="display: inline;"><span class="original keyword">sizeof</span></div><div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">size_t</span></div><div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original punctuation">)</span></div></td></tr>
<tr><td class="loc" id="loc-1115"><span class="line_nr">1115:</span><div style="display: inline;"><span class="original keyword">static</span></div>&nbsp;<div style="display: inline;"><span class="original keyword">unsigned</span></div>&nbsp;<div style="display: inline;"><span class="original keyword">long</span></div>&nbsp;<div style="display: inline;"><span class="original keyword">long</span></div></td></tr>
<tr><td class="loc" id="loc-1116"><span class="line_nr">1116:</span><div style="display: inline;"><span class="original identifier">LZ4IO_passThrough</span></div><div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">FILE</span></div><div style="display: inline;"><span class="original punctuation">*</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">finput</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">FILE</span></div><div style="display: inline;"><span class="original punctuation">*</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">foutput</span></div><div style="display: inline;"><span class="original punctuation">,</span></div></td></tr>
<tr><td class="loc" id="loc-1117"><span class="line_nr">1117:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original keyword">unsigned</span></div>&nbsp;<div style="display: inline;"><span class="original keyword">char</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">MNstore</span></div><div style="display: inline;"><span class="original punctuation">[</span></div><div style="display: inline;"><span class="original identifier">MAGICNUMBER_SIZE</span></div><div style="display: inline;"><span class="original punctuation">]</span></div><div style="display: inline;"><span class="original punctuation">,</span></div></td></tr>
<tr><td class="loc" id="loc-1118"><span class="line_nr">1118:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original keyword">int</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">sparseFileSupport</span></div><div style="display: inline;"><span class="original punctuation">)</span></div></td></tr>
<tr><td class="loc" id="loc-1119"><span class="line_nr">1119:</span><div style="display: inline;"><span class="original punctuation">{</span></div></td></tr>
<tr><td class="loc" id="loc-1120"><span class="line_nr">1120:</span>&nbsp;<div style="display: inline;"><span class="original identifier">size_t</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">buffer</span></div><div style="display: inline;"><span class="original punctuation">[</span></div><div style="display: inline;"><span class="original identifier">PTSIZET</span></div><div style="display: inline;"><span class="original punctuation">]</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-1121"><span class="line_nr">1121:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original identifier">size_t</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">readBytes</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">=</span></div>&nbsp;<div style="display: inline;"><span class="original literal">1</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-1122"><span class="line_nr">1122:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original keyword">unsigned</span></div>&nbsp;<div style="display: inline;"><span class="original keyword">long</span></div>&nbsp;<div style="display: inline;"><span class="original keyword">long</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">total</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">=</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">MAGICNUMBER_SIZE</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-1123"><span class="line_nr">1123:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original keyword">unsigned</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">storedSkips</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">=</span></div>&nbsp;<div style="display: inline;"><span class="original literal">0</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-1124"><span class="line_nr">1124:</span></td></tr>
<tr><td class="loc" id="loc-1125"><span class="line_nr">1125:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original keyword">if</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">fwrite</span></div><div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">MNstore</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original literal">1</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">MAGICNUMBER_SIZE</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">foutput</span></div><div style="display: inline;"><span class="original punctuation">)</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">!=</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">MAGICNUMBER_SIZE</span></div><div style="display: inline;"><span class="original punctuation">)</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">{</span></div></td></tr>
<tr><td class="loc" id="loc-1126"><span class="line_nr">1126:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original identifier">EXM_THROW</span></div><div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original literal">50</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original literal">&quot;Pass-through write error&quot;</span></div><div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-1127"><span class="line_nr">1127:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original punctuation">}</span></div></td></tr>
<tr><td class="loc" id="loc-1128"><span class="line_nr">1128:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original keyword">while</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">readBytes</span></div><div style="display: inline;"><span class="original punctuation">)</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">{</span></div></td></tr>
<tr><td class="loc" id="loc-1129"><span class="line_nr">1129:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original identifier">readBytes</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">=</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">fread</span></div><div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">buffer</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original literal">1</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original keyword">sizeof</span></div><div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">buffer</span></div><div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">finput</span></div><div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-1130"><span class="line_nr">1130:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original identifier">total</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">+=</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">readBytes</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-1131"><span class="line_nr">1131:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original identifier">storedSkips</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">=</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">LZ4IO_fwriteSparse</span></div><div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">foutput</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">buffer</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">readBytes</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">sparseFileSupport</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">storedSkips</span></div><div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-1132"><span class="line_nr">1132:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original punctuation">}</span></div></td></tr>
<tr><td class="loc" id="loc-1133"><span class="line_nr">1133:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original keyword">if</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">ferror</span></div><div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">finput</span></div><div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original punctuation">)</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">EXM_THROW</span></div><div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original literal">51</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original literal">&quot;Read Error&quot;</span></div><div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-1134"><span class="line_nr">1134:</span></td></tr>
<tr><td class="loc" id="loc-1135"><span class="line_nr">1135:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original identifier">LZ4IO_fwriteSparseEnd</span></div><div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">foutput</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">storedSkips</span></div><div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-1136"><span class="line_nr">1136:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original keyword">return</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">total</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-1137"><span class="line_nr">1137:</span><div style="display: inline;"><span class="original punctuation">}</span></div></td></tr>
<tr><td class="loc" id="loc-1138"><span class="line_nr">1138:</span></td></tr>
<tr><td class="loc" id="loc-1139"><span class="line_nr">1139:</span></td></tr>
<tr><td class="loc" id="loc-1140"><span class="line_nr">1140:</span><div style="display: inline;"><span class="original comment">/** Safely handle cases when (unsigned)offset &gt; LONG_MAX */</span></div></td></tr>
<tr><td class="loc" id="loc-1141"><span class="line_nr">1141:</span><div style="display: inline;"><span class="original keyword">static</span></div>&nbsp;<div style="display: inline;"><span class="original keyword">int</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">fseek_u32</span></div><div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">FILE</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">*</span></div><div style="display: inline;"><span class="original identifier">fp</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original keyword">unsigned</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">offset</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original keyword">int</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">where</span></div><div style="display: inline;"><span class="original punctuation">)</span></div></td></tr>
<tr><td class="loc" id="loc-1142"><span class="line_nr">1142:</span><div style="display: inline;"><span class="original punctuation">{</span></div></td></tr>
<tr><td class="loc" id="loc-1143"><span class="line_nr">1143:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original keyword">const</span></div>&nbsp;<div style="display: inline;"><span class="original keyword">unsigned</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">stepMax</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">=</span></div>&nbsp;<div style="display: inline;"><span class="original literal">1U</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">&lt;&lt;</span></div>&nbsp;<div style="display: inline;"><span class="original literal">30</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-1144"><span class="line_nr">1144:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original keyword">int</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">errorNb</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">=</span></div>&nbsp;<div style="display: inline;"><span class="original literal">0</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-1145"><span class="line_nr">1145:</span></td></tr>
<tr><td class="loc" id="loc-1146"><span class="line_nr">1146:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original keyword">if</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">where</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">!=</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">SEEK_CUR</span></div><div style="display: inline;"><span class="original punctuation">)</span></div>&nbsp;<div style="display: inline;"><span class="original keyword">return</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">-</span></div><div style="display: inline;"><span class="original literal">1</span></div><div style="display: inline;"><span class="original punctuation">;</span></div>&nbsp;&nbsp;<div style="display: inline;"><span class="original comment">/* Only allows SEEK_CUR */</span></div></td></tr>
<tr><td class="loc" id="loc-1147"><span class="line_nr">1147:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original keyword">while</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">offset</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">&gt;</span></div>&nbsp;<div style="display: inline;"><span class="original literal">0</span></div><div style="display: inline;"><span class="original punctuation">)</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">{</span></div></td></tr>
<tr><td class="loc" id="loc-1148"><span class="line_nr">1148:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original keyword">unsigned</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">s</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">=</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">offset</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-1149"><span class="line_nr">1149:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original keyword">if</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">s</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">&gt;</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">stepMax</span></div><div style="display: inline;"><span class="original punctuation">)</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">s</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">=</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">stepMax</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-1150"><span class="line_nr">1150:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original identifier">errorNb</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">=</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">UTIL_fseek</span></div><div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">fp</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original keyword">long</span></div><div style="display: inline;"><span class="original punctuation">)</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">s</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">SEEK_CUR</span></div><div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-1151"><span class="line_nr">1151:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original keyword">if</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">errorNb</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">!=</span></div>&nbsp;<div style="display: inline;"><span class="original literal">0</span></div><div style="display: inline;"><span class="original punctuation">)</span></div>&nbsp;<div style="display: inline;"><span class="original keyword">break</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-1152"><span class="line_nr">1152:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original identifier">offset</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">-=</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">s</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-1153"><span class="line_nr">1153:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original punctuation">}</span></div></td></tr>
<tr><td class="loc" id="loc-1154"><span class="line_nr">1154:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original keyword">return</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">errorNb</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-1155"><span class="line_nr">1155:</span><div style="display: inline;"><span class="original punctuation">}</span></div></td></tr>
<tr><td class="loc" id="loc-1156"><span class="line_nr">1156:</span></td></tr>
<tr><td class="loc" id="loc-1157"><span class="line_nr">1157:</span><div style="display: inline;"><span class="original punctuation">#</span></div><div style="display: inline;"><span class="original identifier">define</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">ENDOFSTREAM</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original keyword">unsigned</span></div>&nbsp;<div style="display: inline;"><span class="original keyword">long</span></div>&nbsp;<div style="display: inline;"><span class="original keyword">long</span></div><div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original punctuation">-</span></div><div style="display: inline;"><span class="original literal">1</span></div><div style="display: inline;"><span class="original punctuation">)</span></div></td></tr>
<tr><td class="loc" id="loc-1158"><span class="line_nr">1158:</span><div style="display: inline;"><span class="original keyword">static</span></div>&nbsp;<div style="display: inline;"><span class="original keyword">unsigned</span></div>&nbsp;<div style="display: inline;"><span class="original keyword">long</span></div>&nbsp;<div style="display: inline;"><span class="original keyword">long</span></div></td></tr>
<tr><td class="loc" id="loc-1159"><span class="line_nr">1159:</span><div style="display: inline;"><span class="original identifier">selectDecoder</span></div><div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">dRess_t</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">ress</span></div><div style="display: inline;"><span class="original punctuation">,</span></div></td></tr>
<tr><td class="loc" id="loc-1160"><span class="line_nr">1160:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original identifier">FILE</span></div><div style="display: inline;"><span class="original punctuation">*</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">finput</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">FILE</span></div><div style="display: inline;"><span class="original punctuation">*</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">foutput</span></div><div style="display: inline;"><span class="original punctuation">,</span></div></td></tr>
<tr><td class="loc" id="loc-1161"><span class="line_nr">1161:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original keyword">const</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">LZ4IO_prefs_t</span></div><div style="display: inline;"><span class="original punctuation">*</span></div>&nbsp;<div style="display: inline;"><span class="original keyword">const</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">prefs</span></div><div style="display: inline;"><span class="original punctuation">)</span></div></td></tr>
<tr><td class="loc" id="loc-1162"><span class="line_nr">1162:</span><div style="display: inline;"><span class="original punctuation">{</span></div></td></tr>
<tr><td class="loc" id="loc-1163"><span class="line_nr">1163:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original keyword">unsigned</span></div>&nbsp;<div style="display: inline;"><span class="original keyword">char</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">MNstore</span></div><div style="display: inline;"><span class="original punctuation">[</span></div><div style="display: inline;"><span class="original identifier">MAGICNUMBER_SIZE</span></div><div style="display: inline;"><span class="original punctuation">]</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-1164"><span class="line_nr">1164:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original keyword">unsigned</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">magicNumber</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-1165"><span class="line_nr">1165:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original keyword">static</span></div>&nbsp;<div style="display: inline;"><span class="original keyword">unsigned</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">nbFrames</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">=</span></div>&nbsp;<div style="display: inline;"><span class="original literal">0</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-1166"><span class="line_nr">1166:</span></td></tr>
<tr><td class="loc" id="loc-1167"><span class="line_nr">1167:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original comment">/* init */</span></div></td></tr>
<tr><td class="loc" id="loc-1168"><span class="line_nr">1168:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original identifier">nbFrames</span></div><div style="display: inline;"><span class="original punctuation">++</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-1169"><span class="line_nr">1169:</span></td></tr>
<tr><td class="loc" id="loc-1170"><span class="line_nr">1170:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original comment">/* Check Archive Header */</span></div></td></tr>
<tr><td class="loc" id="loc-1171"><span class="line_nr">1171:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original keyword">if</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">g_magicRead</span></div><div style="display: inline;"><span class="original punctuation">)</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">{</span></div>&nbsp;&nbsp;<div style="display: inline;"><span class="original comment">/* magic number already read from finput (see legacy frame)*/</span></div></td></tr>
<tr><td class="loc" id="loc-1172"><span class="line_nr">1172:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original identifier">magicNumber</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">=</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">g_magicRead</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-1173"><span class="line_nr">1173:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original identifier">g_magicRead</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">=</span></div>&nbsp;<div style="display: inline;"><span class="original literal">0</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-1174"><span class="line_nr">1174:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original punctuation">}</span></div>&nbsp;<div style="display: inline;"><span class="original keyword">else</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">{</span></div></td></tr>
<tr><td class="loc" id="loc-1175"><span class="line_nr">1175:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original identifier">size_t</span></div>&nbsp;<div style="display: inline;"><span class="original keyword">const</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">nbReadBytes</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">=</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">fread</span></div><div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">MNstore</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original literal">1</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">MAGICNUMBER_SIZE</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">finput</span></div><div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-1176"><span class="line_nr">1176:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original keyword">if</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">nbReadBytes</span></div><div style="display: inline;"><span class="original punctuation">==</span></div><div style="display: inline;"><span class="original literal">0</span></div><div style="display: inline;"><span class="original punctuation">)</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">{</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">nbFrames</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">=</span></div>&nbsp;<div style="display: inline;"><span class="original literal">0</span></div><div style="display: inline;"><span class="original punctuation">;</span></div>&nbsp;<div style="display: inline;"><span class="original keyword">return</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">ENDOFSTREAM</span></div><div style="display: inline;"><span class="original punctuation">;</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">}</span></div>&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original comment">/* EOF */</span></div></td></tr>
<tr><td class="loc" id="loc-1177"><span class="line_nr">1177:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original keyword">if</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">nbReadBytes</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">!=</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">MAGICNUMBER_SIZE</span></div><div style="display: inline;"><span class="original punctuation">)</span></div></td></tr>
<tr><td class="loc" id="loc-1178"><span class="line_nr">1178:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original identifier">EXM_THROW</span></div><div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original literal">40</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original literal">&quot;Unrecognized header : Magic Number unreadable&quot;</span></div><div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-1179"><span class="line_nr">1179:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original identifier">magicNumber</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">=</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">LZ4IO_readLE32</span></div><div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">MNstore</span></div><div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original punctuation">;</span></div>&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original comment">/* Little Endian format */</span></div></td></tr>
<tr><td class="loc" id="loc-1180"><span class="line_nr">1180:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original punctuation">}</span></div></td></tr>
<tr><td class="loc" id="loc-1181"><span class="line_nr">1181:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original keyword">if</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">LZ4IO_isSkippableMagicNumber</span></div><div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">magicNumber</span></div><div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original punctuation">)</span></div></td></tr>
<tr><td class="loc" id="loc-1182"><span class="line_nr">1182:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original identifier">magicNumber</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">=</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">LZ4IO_SKIPPABLE0</span></div><div style="display: inline;"><span class="original punctuation">;</span></div>&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original comment">/* fold skippable magic numbers */</span></div></td></tr>
<tr><td class="loc" id="loc-1183"><span class="line_nr">1183:</span></td></tr>
<tr><td class="loc" id="loc-1184"><span class="line_nr">1184:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original keyword">switch</span></div><div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">magicNumber</span></div><div style="display: inline;"><span class="original punctuation">)</span></div></td></tr>
<tr><td class="loc" id="loc-1185"><span class="line_nr">1185:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original punctuation">{</span></div></td></tr>
<tr><td class="loc" id="loc-1186"><span class="line_nr">1186:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original keyword">case</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">LZ4IO_MAGICNUMBER</span></div><div style="display: inline;"><span class="original punctuation">:</span></div></td></tr>
<tr><td class="loc" id="loc-1187"><span class="line_nr">1187:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original keyword">return</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">LZ4IO_decompressLZ4F</span></div><div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">ress</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">finput</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">foutput</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">prefs</span></div><div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-1188"><span class="line_nr">1188:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original keyword">case</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">LEGACY_MAGICNUMBER</span></div><div style="display: inline;"><span class="original punctuation">:</span></div></td></tr>
<tr><td class="loc" id="loc-1189"><span class="line_nr">1189:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original identifier">DISPLAYLEVEL</span></div><div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original literal">4</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original literal">&quot;Detected : Legacy format \n&quot;</span></div><div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-1190"><span class="line_nr">1190:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original keyword">return</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">LZ4IO_decodeLegacyStream</span></div><div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">finput</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">foutput</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">prefs</span></div><div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-1191"><span class="line_nr">1191:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original keyword">case</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">LZ4IO_SKIPPABLE0</span></div><div style="display: inline;"><span class="original punctuation">:</span></div></td></tr>
<tr><td class="loc" id="loc-1192"><span class="line_nr">1192:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original identifier">DISPLAYLEVEL</span></div><div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original literal">4</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original literal">&quot;Skipping detected skippable area \n&quot;</span></div><div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-1193"><span class="line_nr">1193:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original punctuation">{</span></div>&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original identifier">size_t</span></div>&nbsp;<div style="display: inline;"><span class="original keyword">const</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">nbReadBytes</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">=</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">fread</span></div><div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">MNstore</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original literal">1</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original literal">4</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">finput</span></div><div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-1194"><span class="line_nr">1194:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original keyword">if</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">nbReadBytes</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">!=</span></div>&nbsp;<div style="display: inline;"><span class="original literal">4</span></div><div style="display: inline;"><span class="original punctuation">)</span></div></td></tr>
<tr><td class="loc" id="loc-1195"><span class="line_nr">1195:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original identifier">EXM_THROW</span></div><div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original literal">42</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original literal">&quot;Stream error : skippable size unreadable&quot;</span></div><div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-1196"><span class="line_nr">1196:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original punctuation">}</span></div></td></tr>
<tr><td class="loc" id="loc-1197"><span class="line_nr">1197:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original punctuation">{</span></div>&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original keyword">unsigned</span></div>&nbsp;<div style="display: inline;"><span class="original keyword">const</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">size</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">=</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">LZ4IO_readLE32</span></div><div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">MNstore</span></div><div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-1198"><span class="line_nr">1198:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original keyword">int</span></div>&nbsp;<div style="display: inline;"><span class="original keyword">const</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">errorNb</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">=</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">fseek_u32</span></div><div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">finput</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">size</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">SEEK_CUR</span></div><div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-1199"><span class="line_nr">1199:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original keyword">if</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">errorNb</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">!=</span></div>&nbsp;<div style="display: inline;"><span class="original literal">0</span></div><div style="display: inline;"><span class="original punctuation">)</span></div></td></tr>
<tr><td class="loc" id="loc-1200"><span class="line_nr">1200:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original identifier">EXM_THROW</span></div><div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original literal">43</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original literal">&quot;Stream error : cannot skip skippable area&quot;</span></div><div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-1201"><span class="line_nr">1201:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original punctuation">}</span></div></td></tr>
<tr><td class="loc" id="loc-1202"><span class="line_nr">1202:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original keyword">return</span></div>&nbsp;<div style="display: inline;"><span class="original literal">0</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-1203"><span class="line_nr">1203:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original identifier">EXTENDED_FORMAT</span></div><div style="display: inline;"><span class="original punctuation">;</span></div>&nbsp;&nbsp;<div style="display: inline;"><span class="original comment">/* macro extension for custom formats */</span></div></td></tr>
<tr><td class="loc" id="loc-1204"><span class="line_nr">1204:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original keyword">default</span></div><div style="display: inline;"><span class="original punctuation">:</span></div></td></tr>
<tr><td class="loc" id="loc-1205"><span class="line_nr">1205:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original keyword">if</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">nbFrames</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">==</span></div>&nbsp;<div style="display: inline;"><span class="original literal">1</span></div><div style="display: inline;"><span class="original punctuation">)</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">{</span></div>&nbsp;&nbsp;<div style="display: inline;"><span class="original comment">/* just started */</span></div></td></tr>
<tr><td class="loc" id="loc-1206"><span class="line_nr">1206:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original comment">/* Wrong magic number at the beginning of 1st stream */</span></div></td></tr>
<tr><td class="loc" id="loc-1207"><span class="line_nr">1207:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original keyword">if</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original punctuation">!</span></div><div style="display: inline;"><span class="original identifier">prefs</span></div><div style="display: inline;"><span class="original punctuation">-&gt;</span></div><div style="display: inline;"><span class="original identifier">testMode</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">&amp;&amp;</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">prefs</span></div><div style="display: inline;"><span class="original punctuation">-&gt;</span></div><div style="display: inline;"><span class="original identifier">overwrite</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">&amp;&amp;</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">prefs</span></div><div style="display: inline;"><span class="original punctuation">-&gt;</span></div><div style="display: inline;"><span class="original identifier">passThrough</span></div><div style="display: inline;"><span class="original punctuation">)</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">{</span></div></td></tr>
<tr><td class="loc" id="loc-1208"><span class="line_nr">1208:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original identifier">nbFrames</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">=</span></div>&nbsp;<div style="display: inline;"><span class="original literal">0</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-1209"><span class="line_nr">1209:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original keyword">return</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">LZ4IO_passThrough</span></div><div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">finput</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">foutput</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">MNstore</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">prefs</span></div><div style="display: inline;"><span class="original punctuation">-&gt;</span></div><div style="display: inline;"><span class="original identifier">sparseFileSupport</span></div><div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-1210"><span class="line_nr">1210:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original punctuation">}</span></div></td></tr>
<tr><td class="loc" id="loc-1211"><span class="line_nr">1211:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original identifier">EXM_THROW</span></div><div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original literal">44</span></div><div style="display: inline;"><span class="original punctuation">,</span></div><div style="display: inline;"><span class="original literal">&quot;Unrecognized header : file cannot be decoded&quot;</span></div><div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-1212"><span class="line_nr">1212:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original punctuation">}</span></div></td></tr>
<tr><td class="loc" id="loc-1213"><span class="line_nr">1213:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original punctuation">{</span></div>&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original keyword">long</span></div>&nbsp;<div style="display: inline;"><span class="original keyword">int</span></div>&nbsp;<div style="display: inline;"><span class="original keyword">const</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">position</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">=</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">ftell</span></div><div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">finput</span></div><div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original punctuation">;</span></div>&nbsp;&nbsp;<div style="display: inline;"><span class="original comment">/* only works for files &lt; 2 GB */</span></div></td></tr>
<tr><td class="loc" id="loc-1214"><span class="line_nr">1214:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original identifier">DISPLAYLEVEL</span></div><div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original literal">2</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original literal">&quot;Stream followed by undecodable data &quot;</span></div><div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-1215"><span class="line_nr">1215:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original keyword">if</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">position</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">!=</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">-</span></div><div style="display: inline;"><span class="original literal">1L</span></div><div style="display: inline;"><span class="original punctuation">)</span></div></td></tr>
<tr><td class="loc" id="loc-1216"><span class="line_nr">1216:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original identifier">DISPLAYLEVEL</span></div><div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original literal">2</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original literal">&quot;at position %i &quot;</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original keyword">int</span></div><div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original identifier">position</span></div><div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-1217"><span class="line_nr">1217:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original identifier">DISPLAYLEVEL</span></div><div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original literal">2</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original literal">&quot;\n&quot;</span></div><div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-1218"><span class="line_nr">1218:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original punctuation">}</span></div></td></tr>
<tr><td class="loc" id="loc-1219"><span class="line_nr">1219:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original keyword">return</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">ENDOFSTREAM</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-1220"><span class="line_nr">1220:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original punctuation">}</span></div></td></tr>
<tr><td class="loc" id="loc-1221"><span class="line_nr">1221:</span><div style="display: inline;"><span class="original punctuation">}</span></div></td></tr>
<tr><td class="loc" id="loc-1222"><span class="line_nr">1222:</span></td></tr>
<tr><td class="loc" id="loc-1223"><span class="line_nr">1223:</span></td></tr>
<tr><td class="loc" id="loc-1224"><span class="line_nr">1224:</span><div style="display: inline;"><span class="original keyword">static</span></div>&nbsp;<div style="display: inline;"><span class="original keyword">int</span></div></td></tr>
<tr><td class="loc" id="loc-1225"><span class="line_nr">1225:</span><div style="display: inline;"><span class="original identifier">LZ4IO_decompressSrcFile</span></div><div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">dRess_t</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">ress</span></div><div style="display: inline;"><span class="original punctuation">,</span></div></td></tr>
<tr><td class="loc" id="loc-1226"><span class="line_nr">1226:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original keyword">const</span></div>&nbsp;<div style="display: inline;"><span class="original keyword">char</span></div><div style="display: inline;"><span class="original punctuation">*</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">input_filename</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original keyword">const</span></div>&nbsp;<div style="display: inline;"><span class="original keyword">char</span></div><div style="display: inline;"><span class="original punctuation">*</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">output_filename</span></div><div style="display: inline;"><span class="original punctuation">,</span></div></td></tr>
<tr><td class="loc" id="loc-1227"><span class="line_nr">1227:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original keyword">const</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">LZ4IO_prefs_t</span></div><div style="display: inline;"><span class="original punctuation">*</span></div>&nbsp;<div style="display: inline;"><span class="original keyword">const</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">prefs</span></div><div style="display: inline;"><span class="original punctuation">)</span></div></td></tr>
<tr><td class="loc" id="loc-1228"><span class="line_nr">1228:</span><div style="display: inline;"><span class="original punctuation">{</span></div></td></tr>
<tr><td class="loc" id="loc-1229"><span class="line_nr">1229:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original identifier">FILE</span></div><div style="display: inline;"><span class="original punctuation">*</span></div>&nbsp;<div style="display: inline;"><span class="original keyword">const</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">foutput</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">=</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">ress</span></div><div style="display: inline;"><span class="original punctuation">.</span></div><div style="display: inline;"><span class="original identifier">dstFile</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-1230"><span class="line_nr">1230:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original keyword">unsigned</span></div>&nbsp;<div style="display: inline;"><span class="original keyword">long</span></div>&nbsp;<div style="display: inline;"><span class="original keyword">long</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">filesize</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">=</span></div>&nbsp;<div style="display: inline;"><span class="original literal">0</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-1231"><span class="line_nr">1231:</span></td></tr>
<tr><td class="loc" id="loc-1232"><span class="line_nr">1232:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original comment">/* Init */</span></div></td></tr>
<tr><td class="loc" id="loc-1233"><span class="line_nr">1233:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original identifier">FILE</span></div><div style="display: inline;"><span class="original punctuation">*</span></div>&nbsp;<div style="display: inline;"><span class="original keyword">const</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">finput</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">=</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">LZ4IO_openSrcFile</span></div><div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">input_filename</span></div><div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-1234"><span class="line_nr">1234:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original keyword">if</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">finput</span></div><div style="display: inline;"><span class="original punctuation">==</span></div><div style="display: inline;"><span class="original identifier">NULL</span></div><div style="display: inline;"><span class="original punctuation">)</span></div>&nbsp;<div style="display: inline;"><span class="original keyword">return</span></div>&nbsp;<div style="display: inline;"><span class="original literal">1</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-1235"><span class="line_nr">1235:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original identifier">assert</span></div><div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">foutput</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">!=</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">NULL</span></div><div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-1236"><span class="line_nr">1236:</span></td></tr>
<tr><td class="loc" id="loc-1237"><span class="line_nr">1237:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original comment">/* Loop over multiple streams */</span></div></td></tr>
<tr><td class="loc" id="loc-1238"><span class="line_nr">1238:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original keyword">for</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">(</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">;</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">;</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">)</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">{</span></div>&nbsp;&nbsp;<div style="display: inline;"><span class="original comment">/* endless loop, see break condition */</span></div></td></tr>
<tr><td class="loc" id="loc-1239"><span class="line_nr">1239:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original keyword">unsigned</span></div>&nbsp;<div style="display: inline;"><span class="original keyword">long</span></div>&nbsp;<div style="display: inline;"><span class="original keyword">long</span></div>&nbsp;<div style="display: inline;"><span class="original keyword">const</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">decodedSize</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">=</span></div></td></tr>
<tr><td class="loc" id="loc-1240"><span class="line_nr">1240:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original identifier">selectDecoder</span></div><div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">ress</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">finput</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">foutput</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">prefs</span></div><div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-1241"><span class="line_nr">1241:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original keyword">if</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">decodedSize</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">==</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">ENDOFSTREAM</span></div><div style="display: inline;"><span class="original punctuation">)</span></div>&nbsp;<div style="display: inline;"><span class="original keyword">break</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-1242"><span class="line_nr">1242:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original identifier">filesize</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">+=</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">decodedSize</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-1243"><span class="line_nr">1243:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original punctuation">}</span></div></td></tr>
<tr><td class="loc" id="loc-1244"><span class="line_nr">1244:</span></td></tr>
<tr><td class="loc" id="loc-1245"><span class="line_nr">1245:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original comment">/* Close input */</span></div></td></tr>
<tr><td class="loc" id="loc-1246"><span class="line_nr">1246:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original identifier">fclose</span></div><div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">finput</span></div><div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-1247"><span class="line_nr">1247:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original keyword">if</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">prefs</span></div><div style="display: inline;"><span class="original punctuation">-&gt;</span></div><div style="display: inline;"><span class="original identifier">removeSrcFile</span></div><div style="display: inline;"><span class="original punctuation">)</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">{</span></div>&nbsp;&nbsp;<div style="display: inline;"><span class="original comment">/* --rm */</span></div></td></tr>
<tr><td class="loc" id="loc-1248"><span class="line_nr">1248:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original keyword">if</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">remove</span></div><div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">input_filename</span></div><div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original punctuation">)</span></div></td></tr>
<tr><td class="loc" id="loc-1249"><span class="line_nr">1249:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original identifier">EXM_THROW</span></div><div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original literal">45</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original literal">&quot;Remove error : %s: %s&quot;</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">input_filename</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">strerror</span></div><div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">errno</span></div><div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-1250"><span class="line_nr">1250:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original punctuation">}</span></div></td></tr>
<tr><td class="loc" id="loc-1251"><span class="line_nr">1251:</span></td></tr>
<tr><td class="loc" id="loc-1252"><span class="line_nr">1252:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original comment">/* Final Status */</span></div></td></tr>
<tr><td class="loc" id="loc-1253"><span class="line_nr">1253:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original identifier">DISPLAYLEVEL</span></div><div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original literal">2</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original literal">&quot;\r%79s\r&quot;</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original literal">&quot;&quot;</span></div><div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-1254"><span class="line_nr">1254:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original identifier">DISPLAYLEVEL</span></div><div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original literal">2</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original literal">&quot;%-20.20s : decoded %llu bytes \n&quot;</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">input_filename</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">filesize</span></div><div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-1255"><span class="line_nr">1255:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original keyword">void</span></div><div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original identifier">output_filename</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-1256"><span class="line_nr">1256:</span></td></tr>
<tr><td class="loc" id="loc-1257"><span class="line_nr">1257:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original keyword">return</span></div>&nbsp;<div style="display: inline;"><span class="original literal">0</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-1258"><span class="line_nr">1258:</span><div style="display: inline;"><span class="original punctuation">}</span></div></td></tr>
<tr><td class="loc" id="loc-1259"><span class="line_nr">1259:</span></td></tr>
<tr><td class="loc" id="loc-1260"><span class="line_nr">1260:</span></td></tr>
<tr><td class="loc" id="loc-1261"><span class="line_nr">1261:</span><div style="display: inline;"><span class="original keyword">static</span></div>&nbsp;<div style="display: inline;"><span class="original keyword">int</span></div></td></tr>
<tr><td class="loc" id="loc-1262"><span class="line_nr">1262:</span><div style="display: inline;"><span class="original identifier">LZ4IO_decompressDstFile</span></div><div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">dRess_t</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">ress</span></div><div style="display: inline;"><span class="original punctuation">,</span></div></td></tr>
<tr><td class="loc" id="loc-1263"><span class="line_nr">1263:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original keyword">const</span></div>&nbsp;<div style="display: inline;"><span class="original keyword">char</span></div><div style="display: inline;"><span class="original punctuation">*</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">input_filename</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original keyword">const</span></div>&nbsp;<div style="display: inline;"><span class="original keyword">char</span></div><div style="display: inline;"><span class="original punctuation">*</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">output_filename</span></div><div style="display: inline;"><span class="original punctuation">,</span></div></td></tr>
<tr><td class="loc" id="loc-1264"><span class="line_nr">1264:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original keyword">const</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">LZ4IO_prefs_t</span></div><div style="display: inline;"><span class="original punctuation">*</span></div>&nbsp;<div style="display: inline;"><span class="original keyword">const</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">prefs</span></div><div style="display: inline;"><span class="original punctuation">)</span></div></td></tr>
<tr><td class="loc" id="loc-1265"><span class="line_nr">1265:</span><div style="display: inline;"><span class="original punctuation">{</span></div></td></tr>
<tr><td class="loc" id="loc-1266"><span class="line_nr">1266:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original identifier">stat_t</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">statbuf</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-1267"><span class="line_nr">1267:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original keyword">int</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">stat_result</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">=</span></div>&nbsp;<div style="display: inline;"><span class="original literal">0</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-1268"><span class="line_nr">1268:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original identifier">FILE</span></div><div style="display: inline;"><span class="original punctuation">*</span></div>&nbsp;<div style="display: inline;"><span class="original keyword">const</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">foutput</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">=</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">LZ4IO_openDstFile</span></div><div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">output_filename</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">prefs</span></div><div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-1269"><span class="line_nr">1269:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original keyword">if</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">foutput</span></div><div style="display: inline;"><span class="original punctuation">==</span></div><div style="display: inline;"><span class="original identifier">NULL</span></div><div style="display: inline;"><span class="original punctuation">)</span></div>&nbsp;<div style="display: inline;"><span class="original keyword">return</span></div>&nbsp;<div style="display: inline;"><span class="original literal">1</span></div><div style="display: inline;"><span class="original punctuation">;</span></div>&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original comment">/* failure */</span></div></td></tr>
<tr><td class="loc" id="loc-1270"><span class="line_nr">1270:</span></td></tr>
<tr><td class="loc" id="loc-1271"><span class="line_nr">1271:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original keyword">if</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">(</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">strcmp</span></div><div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">input_filename</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">stdinmark</span></div><div style="display: inline;"><span class="original punctuation">)</span></div></td></tr>
<tr><td class="loc" id="loc-1272"><span class="line_nr">1272:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original punctuation">&amp;&amp;</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">UTIL_getFileStat</span></div><div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">input_filename</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">&amp;</span></div><div style="display: inline;"><span class="original identifier">statbuf</span></div><div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original punctuation">)</span></div></td></tr>
<tr><td class="loc" id="loc-1273"><span class="line_nr">1273:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original identifier">stat_result</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">=</span></div>&nbsp;<div style="display: inline;"><span class="original literal">1</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-1274"><span class="line_nr">1274:</span></td></tr>
<tr><td class="loc" id="loc-1275"><span class="line_nr">1275:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original identifier">ress</span></div><div style="display: inline;"><span class="original punctuation">.</span></div><div style="display: inline;"><span class="original identifier">dstFile</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">=</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">foutput</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-1276"><span class="line_nr">1276:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original identifier">LZ4IO_decompressSrcFile</span></div><div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">ress</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">input_filename</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">output_filename</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">prefs</span></div><div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-1277"><span class="line_nr">1277:</span></td></tr>
<tr><td class="loc" id="loc-1278"><span class="line_nr">1278:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original identifier">fclose</span></div><div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">foutput</span></div><div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-1279"><span class="line_nr">1279:</span></td></tr>
<tr><td class="loc" id="loc-1280"><span class="line_nr">1280:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original comment">/* Copy owner, file permissions and modification time */</span></div></td></tr>
<tr><td class="loc" id="loc-1281"><span class="line_nr">1281:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original keyword">if</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">(</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">stat_result</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">!=</span></div>&nbsp;<div style="display: inline;"><span class="original literal">0</span></div></td></tr>
<tr><td class="loc" id="loc-1282"><span class="line_nr">1282:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original punctuation">&amp;&amp;</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">strcmp</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">output_filename</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">stdoutmark</span></div><div style="display: inline;"><span class="original punctuation">)</span></div></td></tr>
<tr><td class="loc" id="loc-1283"><span class="line_nr">1283:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original punctuation">&amp;&amp;</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">strcmp</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">output_filename</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">nulmark</span></div><div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original punctuation">)</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">{</span></div></td></tr>
<tr><td class="loc" id="loc-1284"><span class="line_nr">1284:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original identifier">UTIL_setFileStat</span></div><div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">output_filename</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">&amp;</span></div><div style="display: inline;"><span class="original identifier">statbuf</span></div><div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-1285"><span class="line_nr">1285:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original comment">/* should return value be read ? or is silent fail good enough ? */</span></div></td></tr>
<tr><td class="loc" id="loc-1286"><span class="line_nr">1286:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original punctuation">}</span></div></td></tr>
<tr><td class="loc" id="loc-1287"><span class="line_nr">1287:</span></td></tr>
<tr><td class="loc" id="loc-1288"><span class="line_nr">1288:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original keyword">return</span></div>&nbsp;<div style="display: inline;"><span class="original literal">0</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-1289"><span class="line_nr">1289:</span><div style="display: inline;"><span class="original punctuation">}</span></div></td></tr>
<tr><td class="loc" id="loc-1290"><span class="line_nr">1290:</span></td></tr>
<tr><td class="loc" id="loc-1291"><span class="line_nr">1291:</span></td></tr>
<tr><td class="loc" id="loc-1292"><span class="line_nr">1292:</span><div style="display: inline;"><span class="original keyword">int</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">LZ4IO_decompressFilename</span></div><div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original keyword">const</span></div>&nbsp;<div style="display: inline;"><span class="original keyword">char</span></div><div style="display: inline;"><span class="original punctuation">*</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">input_filename</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original keyword">const</span></div>&nbsp;<div style="display: inline;"><span class="original keyword">char</span></div><div style="display: inline;"><span class="original punctuation">*</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">output_filename</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original keyword">const</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">LZ4IO_prefs_t</span></div><div style="display: inline;"><span class="original punctuation">*</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">prefs</span></div><div style="display: inline;"><span class="original punctuation">)</span></div></td></tr>
<tr><td class="loc" id="loc-1293"><span class="line_nr">1293:</span><div style="display: inline;"><span class="original punctuation">{</span></div></td></tr>
<tr><td class="loc" id="loc-1294"><span class="line_nr">1294:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original identifier">dRess_t</span></div>&nbsp;<div style="display: inline;"><span class="original keyword">const</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">ress</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">=</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">LZ4IO_createDResources</span></div><div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">prefs</span></div><div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-1295"><span class="line_nr">1295:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original identifier">clock_t</span></div>&nbsp;<div style="display: inline;"><span class="original keyword">const</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">start</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">=</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">clock</span></div><div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-1296"><span class="line_nr">1296:</span></td></tr>
<tr><td class="loc" id="loc-1297"><span class="line_nr">1297:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original keyword">int</span></div>&nbsp;<div style="display: inline;"><span class="original keyword">const</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">missingFiles</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">=</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">LZ4IO_decompressDstFile</span></div><div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">ress</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">input_filename</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">output_filename</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">prefs</span></div><div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-1298"><span class="line_nr">1298:</span></td></tr>
<tr><td class="loc" id="loc-1299"><span class="line_nr">1299:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original identifier">clock_t</span></div>&nbsp;<div style="display: inline;"><span class="original keyword">const</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">end</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">=</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">clock</span></div><div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-1300"><span class="line_nr">1300:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original keyword">double</span></div>&nbsp;<div style="display: inline;"><span class="original keyword">const</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">seconds</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">=</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original keyword">double</span></div><div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">end</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">-</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">start</span></div><div style="display: inline;"><span class="original punctuation">)</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">/</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">CLOCKS_PER_SEC</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-1301"><span class="line_nr">1301:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original identifier">DISPLAYLEVEL</span></div><div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original literal">4</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original literal">&quot;Done in %.2f sec  \n&quot;</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">seconds</span></div><div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-1302"><span class="line_nr">1302:</span></td></tr>
<tr><td class="loc" id="loc-1303"><span class="line_nr">1303:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original identifier">LZ4IO_freeDResources</span></div><div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">ress</span></div><div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-1304"><span class="line_nr">1304:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original keyword">return</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">missingFiles</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-1305"><span class="line_nr">1305:</span><div style="display: inline;"><span class="original punctuation">}</span></div></td></tr>
<tr><td class="loc" id="loc-1306"><span class="line_nr">1306:</span></td></tr>
<tr><td class="loc" id="loc-1307"><span class="line_nr">1307:</span></td></tr>
<tr><td class="loc" id="loc-1308"><span class="line_nr">1308:</span><div style="display: inline;"><span class="original keyword">int</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">LZ4IO_decompressMultipleFilenames</span></div><div style="display: inline;"><span class="original punctuation">(</span></div></td></tr>
<tr><td class="loc" id="loc-1309"><span class="line_nr">1309:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original keyword">const</span></div>&nbsp;<div style="display: inline;"><span class="original keyword">char</span></div><div style="display: inline;"><span class="original punctuation">*</span></div><div style="display: inline;"><span class="original punctuation">*</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">inFileNamesTable</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original keyword">int</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">ifntSize</span></div><div style="display: inline;"><span class="original punctuation">,</span></div></td></tr>
<tr><td class="loc" id="loc-1310"><span class="line_nr">1310:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original keyword">const</span></div>&nbsp;<div style="display: inline;"><span class="original keyword">char</span></div><div style="display: inline;"><span class="original punctuation">*</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">suffix</span></div><div style="display: inline;"><span class="original punctuation">,</span></div></td></tr>
<tr><td class="loc" id="loc-1311"><span class="line_nr">1311:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original keyword">const</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">LZ4IO_prefs_t</span></div><div style="display: inline;"><span class="original punctuation">*</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">prefs</span></div><div style="display: inline;"><span class="original punctuation">)</span></div></td></tr>
<tr><td class="loc" id="loc-1312"><span class="line_nr">1312:</span><div style="display: inline;"><span class="original punctuation">{</span></div></td></tr>
<tr><td class="loc" id="loc-1313"><span class="line_nr">1313:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original keyword">int</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">i</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-1314"><span class="line_nr">1314:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original keyword">int</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">skippedFiles</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">=</span></div>&nbsp;<div style="display: inline;"><span class="original literal">0</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-1315"><span class="line_nr">1315:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original keyword">int</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">missingFiles</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">=</span></div>&nbsp;<div style="display: inline;"><span class="original literal">0</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-1316"><span class="line_nr">1316:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original keyword">char</span></div><div style="display: inline;"><span class="original punctuation">*</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">outFileName</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">=</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original keyword">char</span></div><div style="display: inline;"><span class="original punctuation">*</span></div><div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original identifier">malloc</span></div><div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">FNSPACE</span></div><div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-1317"><span class="line_nr">1317:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original identifier">size_t</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">ofnSize</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">=</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">FNSPACE</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-1318"><span class="line_nr">1318:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original identifier">size_t</span></div>&nbsp;<div style="display: inline;"><span class="original keyword">const</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">suffixSize</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">=</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">strlen</span></div><div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">suffix</span></div><div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-1319"><span class="line_nr">1319:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original identifier">dRess_t</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">ress</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">=</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">LZ4IO_createDResources</span></div><div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">prefs</span></div><div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-1320"><span class="line_nr">1320:</span></td></tr>
<tr><td class="loc" id="loc-1321"><span class="line_nr">1321:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original keyword">if</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">outFileName</span></div><div style="display: inline;"><span class="original punctuation">==</span></div><div style="display: inline;"><span class="original identifier">NULL</span></div><div style="display: inline;"><span class="original punctuation">)</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">EXM_THROW</span></div><div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original literal">70</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original literal">&quot;Memory allocation error&quot;</span></div><div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-1322"><span class="line_nr">1322:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original identifier">ress</span></div><div style="display: inline;"><span class="original punctuation">.</span></div><div style="display: inline;"><span class="original identifier">dstFile</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">=</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">LZ4IO_openDstFile</span></div><div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">stdoutmark</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">prefs</span></div><div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-1323"><span class="line_nr">1323:</span></td></tr>
<tr><td class="loc" id="loc-1324"><span class="line_nr">1324:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original keyword">for</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">i</span></div><div style="display: inline;"><span class="original punctuation">=</span></div><div style="display: inline;"><span class="original literal">0</span></div><div style="display: inline;"><span class="original punctuation">;</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">i</span></div><div style="display: inline;"><span class="original punctuation">&lt;</span></div><div style="display: inline;"><span class="original identifier">ifntSize</span></div><div style="display: inline;"><span class="original punctuation">;</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">i</span></div><div style="display: inline;"><span class="original punctuation">++</span></div><div style="display: inline;"><span class="original punctuation">)</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">{</span></div></td></tr>
<tr><td class="loc" id="loc-1325"><span class="line_nr">1325:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original identifier">size_t</span></div>&nbsp;<div style="display: inline;"><span class="original keyword">const</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">ifnSize</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">=</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">strlen</span></div><div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">inFileNamesTable</span></div><div style="display: inline;"><span class="original punctuation">[</span></div><div style="display: inline;"><span class="original identifier">i</span></div><div style="display: inline;"><span class="original punctuation">]</span></div><div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-1326"><span class="line_nr">1326:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original keyword">const</span></div>&nbsp;<div style="display: inline;"><span class="original keyword">char</span></div><div style="display: inline;"><span class="original punctuation">*</span></div>&nbsp;<div style="display: inline;"><span class="original keyword">const</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">suffixPtr</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">=</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">inFileNamesTable</span></div><div style="display: inline;"><span class="original punctuation">[</span></div><div style="display: inline;"><span class="original identifier">i</span></div><div style="display: inline;"><span class="original punctuation">]</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">+</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">ifnSize</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">-</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">suffixSize</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-1327"><span class="line_nr">1327:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original keyword">if</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original punctuation">!</span></div><div style="display: inline;"><span class="original identifier">strcmp</span></div><div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">suffix</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">stdoutmark</span></div><div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original punctuation">)</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">{</span></div></td></tr>
<tr><td class="loc" id="loc-1328"><span class="line_nr">1328:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original identifier">missingFiles</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">+=</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">LZ4IO_decompressSrcFile</span></div><div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">ress</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">inFileNamesTable</span></div><div style="display: inline;"><span class="original punctuation">[</span></div><div style="display: inline;"><span class="original identifier">i</span></div><div style="display: inline;"><span class="original punctuation">]</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">stdoutmark</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">prefs</span></div><div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-1329"><span class="line_nr">1329:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original keyword">continue</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-1330"><span class="line_nr">1330:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original punctuation">}</span></div></td></tr>
<tr><td class="loc" id="loc-1331"><span class="line_nr">1331:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original keyword">if</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">ofnSize</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">&lt;=</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">ifnSize</span></div><div style="display: inline;"><span class="original punctuation">-</span></div><div style="display: inline;"><span class="original identifier">suffixSize</span></div><div style="display: inline;"><span class="original punctuation">+</span></div><div style="display: inline;"><span class="original literal">1</span></div><div style="display: inline;"><span class="original punctuation">)</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">{</span></div></td></tr>
<tr><td class="loc" id="loc-1332"><span class="line_nr">1332:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original identifier">free</span></div><div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">outFileName</span></div><div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-1333"><span class="line_nr">1333:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original identifier">ofnSize</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">=</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">ifnSize</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">+</span></div>&nbsp;<div style="display: inline;"><span class="original literal">20</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-1334"><span class="line_nr">1334:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original identifier">outFileName</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">=</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original keyword">char</span></div><div style="display: inline;"><span class="original punctuation">*</span></div><div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original identifier">malloc</span></div><div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">ofnSize</span></div><div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-1335"><span class="line_nr">1335:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original keyword">if</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">outFileName</span></div><div style="display: inline;"><span class="original punctuation">==</span></div><div style="display: inline;"><span class="original identifier">NULL</span></div><div style="display: inline;"><span class="original punctuation">)</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">EXM_THROW</span></div><div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original literal">71</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original literal">&quot;Memory allocation error&quot;</span></div><div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-1336"><span class="line_nr">1336:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original punctuation">}</span></div></td></tr>
<tr><td class="loc" id="loc-1337"><span class="line_nr">1337:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original keyword">if</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">ifnSize</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">&lt;=</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">suffixSize</span></div>&nbsp;&nbsp;<div style="display: inline;"><span class="original punctuation">||</span></div>&nbsp;&nbsp;<div style="display: inline;"><span class="original identifier">strcmp</span></div><div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">suffixPtr</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">suffix</span></div><div style="display: inline;"><span class="original punctuation">)</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">!=</span></div>&nbsp;<div style="display: inline;"><span class="original literal">0</span></div><div style="display: inline;"><span class="original punctuation">)</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">{</span></div></td></tr>
<tr><td class="loc" id="loc-1338"><span class="line_nr">1338:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original identifier">DISPLAYLEVEL</span></div><div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original literal">1</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original literal">&quot;File extension doesn't match expected LZ4_EXTENSION (%4s); will not process file: %s\n&quot;</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">suffix</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">inFileNamesTable</span></div><div style="display: inline;"><span class="original punctuation">[</span></div><div style="display: inline;"><span class="original identifier">i</span></div><div style="display: inline;"><span class="original punctuation">]</span></div><div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-1339"><span class="line_nr">1339:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original identifier">skippedFiles</span></div><div style="display: inline;"><span class="original punctuation">++</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-1340"><span class="line_nr">1340:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original keyword">continue</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-1341"><span class="line_nr">1341:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original punctuation">}</span></div></td></tr>
<tr><td class="loc" id="loc-1342"><span class="line_nr">1342:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original identifier">memcpy</span></div><div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">outFileName</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">inFileNamesTable</span></div><div style="display: inline;"><span class="original punctuation">[</span></div><div style="display: inline;"><span class="original identifier">i</span></div><div style="display: inline;"><span class="original punctuation">]</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">ifnSize</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">-</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">suffixSize</span></div><div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-1343"><span class="line_nr">1343:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original identifier">outFileName</span></div><div style="display: inline;"><span class="original punctuation">[</span></div><div style="display: inline;"><span class="original identifier">ifnSize</span></div><div style="display: inline;"><span class="original punctuation">-</span></div><div style="display: inline;"><span class="original identifier">suffixSize</span></div><div style="display: inline;"><span class="original punctuation">]</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">=</span></div>&nbsp;<div style="display: inline;"><span class="original literal">'\0'</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-1344"><span class="line_nr">1344:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original identifier">missingFiles</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">+=</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">LZ4IO_decompressDstFile</span></div><div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">ress</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">inFileNamesTable</span></div><div style="display: inline;"><span class="original punctuation">[</span></div><div style="display: inline;"><span class="original identifier">i</span></div><div style="display: inline;"><span class="original punctuation">]</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">outFileName</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">prefs</span></div><div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-1345"><span class="line_nr">1345:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original punctuation">}</span></div></td></tr>
<tr><td class="loc" id="loc-1346"><span class="line_nr">1346:</span></td></tr>
<tr><td class="loc" id="loc-1347"><span class="line_nr">1347:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original identifier">LZ4IO_freeDResources</span></div><div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">ress</span></div><div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-1348"><span class="line_nr">1348:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original identifier">free</span></div><div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">outFileName</span></div><div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-1349"><span class="line_nr">1349:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original keyword">return</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">missingFiles</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">+</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">skippedFiles</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-1350"><span class="line_nr">1350:</span><div style="display: inline;"><span class="original punctuation">}</span></div></td></tr>
<tr><td class="loc" id="loc-1351"><span class="line_nr">1351:</span></td></tr>
<tr><td class="loc" id="loc-1352"><span class="line_nr">1352:</span></td></tr>
<tr><td class="loc" id="loc-1353"><span class="line_nr">1353:</span><div style="display: inline;"><span class="original comment">/* ********************************************************************* */</span></div></td></tr>
<tr><td class="loc" id="loc-1354"><span class="line_nr">1354:</span><div style="display: inline;"><span class="original comment">/* **********************   LZ4 --list command   *********************** */</span></div></td></tr>
<tr><td class="loc" id="loc-1355"><span class="line_nr">1355:</span><div style="display: inline;"><span class="original comment">/* ********************************************************************* */</span></div></td></tr>
<tr><td class="loc" id="loc-1356"><span class="line_nr">1356:</span></td></tr>
<tr><td class="loc" id="loc-1357"><span class="line_nr">1357:</span><div style="display: inline;"><span class="original keyword">typedef</span></div>&nbsp;<div style="display: inline;"><span class="original keyword">enum</span></div></td></tr>
<tr><td class="loc" id="loc-1358"><span class="line_nr">1358:</span><div style="display: inline;"><span class="original punctuation">{</span></div></td></tr>
<tr><td class="loc" id="loc-1359"><span class="line_nr">1359:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original identifier">lz4Frame</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">=</span></div>&nbsp;<div style="display: inline;"><span class="original literal">0</span></div><div style="display: inline;"><span class="original punctuation">,</span></div></td></tr>
<tr><td class="loc" id="loc-1360"><span class="line_nr">1360:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original identifier">legacyFrame</span></div><div style="display: inline;"><span class="original punctuation">,</span></div></td></tr>
<tr><td class="loc" id="loc-1361"><span class="line_nr">1361:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original identifier">skippableFrame</span></div></td></tr>
<tr><td class="loc" id="loc-1362"><span class="line_nr">1362:</span><div style="display: inline;"><span class="original punctuation">}</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">LZ4IO_frameType_t</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-1363"><span class="line_nr">1363:</span></td></tr>
<tr><td class="loc" id="loc-1364"><span class="line_nr">1364:</span><div style="display: inline;"><span class="original keyword">typedef</span></div>&nbsp;<div style="display: inline;"><span class="original keyword">struct</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">{</span></div></td></tr>
<tr><td class="loc" id="loc-1365"><span class="line_nr">1365:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original identifier">LZ4F_frameInfo_t</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">lz4FrameInfo</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-1366"><span class="line_nr">1366:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original identifier">LZ4IO_frameType_t</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">frameType</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-1367"><span class="line_nr">1367:</span><div style="display: inline;"><span class="original punctuation">}</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">LZ4IO_frameInfo_t</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-1368"><span class="line_nr">1368:</span></td></tr>
<tr><td class="loc" id="loc-1369"><span class="line_nr">1369:</span><div style="display: inline;"><span class="original punctuation">#</span></div><div style="display: inline;"><span class="original identifier">define</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">LZ4IO_INIT_FRAMEINFO</span></div>&nbsp;&nbsp;<div style="display: inline;"><span class="original punctuation">{</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">LZ4F_INIT_FRAMEINFO</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">lz4Frame</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">}</span></div></td></tr>
<tr><td class="loc" id="loc-1370"><span class="line_nr">1370:</span></td></tr>
<tr><td class="loc" id="loc-1371"><span class="line_nr">1371:</span><div style="display: inline;"><span class="original keyword">typedef</span></div>&nbsp;<div style="display: inline;"><span class="original keyword">struct</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">{</span></div></td></tr>
<tr><td class="loc" id="loc-1372"><span class="line_nr">1372:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original keyword">const</span></div>&nbsp;<div style="display: inline;"><span class="original keyword">char</span></div><div style="display: inline;"><span class="original punctuation">*</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">fileName</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-1373"><span class="line_nr">1373:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original keyword">unsigned</span></div>&nbsp;<div style="display: inline;"><span class="original keyword">long</span></div>&nbsp;<div style="display: inline;"><span class="original keyword">long</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">fileSize</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-1374"><span class="line_nr">1374:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original keyword">unsigned</span></div>&nbsp;<div style="display: inline;"><span class="original keyword">long</span></div>&nbsp;<div style="display: inline;"><span class="original keyword">long</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">frameCount</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-1375"><span class="line_nr">1375:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original identifier">LZ4IO_frameInfo_t</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">frameSummary</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-1376"><span class="line_nr">1376:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original keyword">unsigned</span></div>&nbsp;<div style="display: inline;"><span class="original keyword">short</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">eqFrameTypes</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-1377"><span class="line_nr">1377:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original keyword">unsigned</span></div>&nbsp;<div style="display: inline;"><span class="original keyword">short</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">eqBlockTypes</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-1378"><span class="line_nr">1378:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original keyword">unsigned</span></div>&nbsp;<div style="display: inline;"><span class="original keyword">short</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">allContentSize</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-1379"><span class="line_nr">1379:</span><div style="display: inline;"><span class="original punctuation">}</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">LZ4IO_cFileInfo_t</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-1380"><span class="line_nr">1380:</span></td></tr>
<tr><td class="loc" id="loc-1381"><span class="line_nr">1381:</span><div style="display: inline;"><span class="original punctuation">#</span></div><div style="display: inline;"><span class="original identifier">define</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">LZ4IO_INIT_CFILEINFO</span></div>&nbsp;&nbsp;<div style="display: inline;"><span class="original punctuation">{</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">NULL</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original literal">0ULL</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original literal">0</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">LZ4IO_INIT_FRAMEINFO</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original literal">1</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original literal">1</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original literal">1</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">}</span></div></td></tr>
<tr><td class="loc" id="loc-1382"><span class="line_nr">1382:</span></td></tr>
<tr><td class="loc" id="loc-1383"><span class="line_nr">1383:</span><div style="display: inline;"><span class="original keyword">typedef</span></div>&nbsp;<div style="display: inline;"><span class="original keyword">enum</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">{</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">LZ4IO_LZ4F_OK</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">LZ4IO_format_not_known</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">LZ4IO_not_a_file</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">}</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">LZ4IO_infoResult</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-1384"><span class="line_nr">1384:</span></td></tr>
<tr><td class="loc" id="loc-1385"><span class="line_nr">1385:</span><div style="display: inline;"><span class="original keyword">static</span></div>&nbsp;<div style="display: inline;"><span class="original keyword">const</span></div>&nbsp;<div style="display: inline;"><span class="original keyword">char</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">*</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">LZ4IO_frameTypeNames</span></div><div style="display: inline;"><span class="original punctuation">[</span></div><div style="display: inline;"><span class="original punctuation">]</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">=</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">{</span></div><div style="display: inline;"><span class="original literal">&quot;LZ4Frame&quot;</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original literal">&quot;LegacyFrame&quot;</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original literal">&quot;SkippableFrame&quot;</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">}</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-1386"><span class="line_nr">1386:</span></td></tr>
<tr><td class="loc" id="loc-1387"><span class="line_nr">1387:</span><div style="display: inline;"><span class="original comment">/* Read block headers and skip block data</span></div></td></tr>
<tr><td class="loc" id="loc-1388"><span class="line_nr">1388:</span><div style="display: inline;"><span class="original comment">   Return total blocks size for this frame including block headers,</span></div></td></tr>
<tr><td class="loc" id="loc-1389"><span class="line_nr">1389:</span><div style="display: inline;"><span class="original comment">   block checksums and content checksums.</span></div></td></tr>
<tr><td class="loc" id="loc-1390"><span class="line_nr">1390:</span><div style="display: inline;"><span class="original comment">   returns 0 in case it can't succesfully skip block data.</span></div></td></tr>
<tr><td class="loc" id="loc-1391"><span class="line_nr">1391:</span><div style="display: inline;"><span class="original comment">   Assumes SEEK_CUR after frame header.</span></div></td></tr>
<tr><td class="loc" id="loc-1392"><span class="line_nr">1392:</span><div style="display: inline;"><span class="original comment"> */</span></div></td></tr>
<tr><td class="loc" id="loc-1393"><span class="line_nr">1393:</span><div style="display: inline;"><span class="original keyword">static</span></div>&nbsp;<div style="display: inline;"><span class="original keyword">unsigned</span></div>&nbsp;<div style="display: inline;"><span class="original keyword">long</span></div>&nbsp;<div style="display: inline;"><span class="original keyword">long</span></div></td></tr>
<tr><td class="loc" id="loc-1394"><span class="line_nr">1394:</span><div style="display: inline;"><span class="original identifier">LZ4IO_skipBlocksData</span></div><div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">FILE</span></div><div style="display: inline;"><span class="original punctuation">*</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">finput</span></div><div style="display: inline;"><span class="original punctuation">,</span></div></td></tr>
<tr><td class="loc" id="loc-1395"><span class="line_nr">1395:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original keyword">const</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">LZ4F_blockChecksum_t</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">blockChecksumFlag</span></div><div style="display: inline;"><span class="original punctuation">,</span></div></td></tr>
<tr><td class="loc" id="loc-1396"><span class="line_nr">1396:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original keyword">const</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">LZ4F_contentChecksum_t</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">contentChecksumFlag</span></div><div style="display: inline;"><span class="original punctuation">)</span></div></td></tr>
<tr><td class="loc" id="loc-1397"><span class="line_nr">1397:</span><div style="display: inline;"><span class="original punctuation">{</span></div></td></tr>
<tr><td class="loc" id="loc-1398"><span class="line_nr">1398:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original keyword">unsigned</span></div>&nbsp;<div style="display: inline;"><span class="original keyword">char</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">blockInfo</span></div><div style="display: inline;"><span class="original punctuation">[</span></div><div style="display: inline;"><span class="original identifier">LZ4F_BLOCK_HEADER_SIZE</span></div><div style="display: inline;"><span class="original punctuation">]</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-1399"><span class="line_nr">1399:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original keyword">unsigned</span></div>&nbsp;<div style="display: inline;"><span class="original keyword">long</span></div>&nbsp;<div style="display: inline;"><span class="original keyword">long</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">totalBlocksSize</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">=</span></div>&nbsp;<div style="display: inline;"><span class="original literal">0</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-1400"><span class="line_nr">1400:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original keyword">for</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original punctuation">;</span></div><div style="display: inline;"><span class="original punctuation">;</span></div><div style="display: inline;"><span class="original punctuation">)</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">{</span></div></td></tr>
<tr><td class="loc" id="loc-1401"><span class="line_nr">1401:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original keyword">if</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original punctuation">!</span></div><div style="display: inline;"><span class="original identifier">fread</span></div><div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">blockInfo</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original literal">1</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">LZ4F_BLOCK_HEADER_SIZE</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">finput</span></div><div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original punctuation">)</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">{</span></div></td></tr>
<tr><td class="loc" id="loc-1402"><span class="line_nr">1402:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original keyword">if</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">feof</span></div><div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">finput</span></div><div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original punctuation">)</span></div>&nbsp;<div style="display: inline;"><span class="original keyword">return</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">totalBlocksSize</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-1403"><span class="line_nr">1403:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original keyword">return</span></div>&nbsp;<div style="display: inline;"><span class="original literal">0</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-1404"><span class="line_nr">1404:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original punctuation">}</span></div></td></tr>
<tr><td class="loc" id="loc-1405"><span class="line_nr">1405:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original identifier">totalBlocksSize</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">+=</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">LZ4F_BLOCK_HEADER_SIZE</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-1406"><span class="line_nr">1406:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original punctuation">{</span></div>&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original keyword">const</span></div>&nbsp;<div style="display: inline;"><span class="original keyword">unsigned</span></div>&nbsp;<div style="display: inline;"><span class="original keyword">long</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">nextCBlockSize</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">=</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">LZ4IO_readLE32</span></div><div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original punctuation">&amp;</span></div><div style="display: inline;"><span class="original identifier">blockInfo</span></div><div style="display: inline;"><span class="original punctuation">)</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">&amp;</span></div>&nbsp;<div style="display: inline;"><span class="original literal">0x7FFFFFFFU</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-1407"><span class="line_nr">1407:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original keyword">const</span></div>&nbsp;<div style="display: inline;"><span class="original keyword">unsigned</span></div>&nbsp;<div style="display: inline;"><span class="original keyword">long</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">nextBlock</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">=</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">nextCBlockSize</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">+</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">blockChecksumFlag</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">*</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">LZ4F_BLOCK_CHECKSUM_SIZE</span></div><div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-1408"><span class="line_nr">1408:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original keyword">if</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">nextCBlockSize</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">==</span></div>&nbsp;<div style="display: inline;"><span class="original literal">0</span></div><div style="display: inline;"><span class="original punctuation">)</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">{</span></div></td></tr>
<tr><td class="loc" id="loc-1409"><span class="line_nr">1409:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original comment">/* Reached EndMark */</span></div></td></tr>
<tr><td class="loc" id="loc-1410"><span class="line_nr">1410:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original keyword">if</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">contentChecksumFlag</span></div><div style="display: inline;"><span class="original punctuation">)</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">{</span></div></td></tr>
<tr><td class="loc" id="loc-1411"><span class="line_nr">1411:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original comment">/* Skip content checksum */</span></div></td></tr>
<tr><td class="loc" id="loc-1412"><span class="line_nr">1412:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original keyword">if</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">UTIL_fseek</span></div><div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">finput</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">LZ4F_CONTENT_CHECKSUM_SIZE</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">SEEK_CUR</span></div><div style="display: inline;"><span class="original punctuation">)</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">!=</span></div>&nbsp;<div style="display: inline;"><span class="original literal">0</span></div><div style="display: inline;"><span class="original punctuation">)</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">{</span></div></td></tr>
<tr><td class="loc" id="loc-1413"><span class="line_nr">1413:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original keyword">return</span></div>&nbsp;<div style="display: inline;"><span class="original literal">0</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-1414"><span class="line_nr">1414:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original punctuation">}</span></div></td></tr>
<tr><td class="loc" id="loc-1415"><span class="line_nr">1415:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original identifier">totalBlocksSize</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">+=</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">LZ4F_CONTENT_CHECKSUM_SIZE</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-1416"><span class="line_nr">1416:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original punctuation">}</span></div></td></tr>
<tr><td class="loc" id="loc-1417"><span class="line_nr">1417:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original keyword">break</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-1418"><span class="line_nr">1418:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original punctuation">}</span></div></td></tr>
<tr><td class="loc" id="loc-1419"><span class="line_nr">1419:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original identifier">totalBlocksSize</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">+=</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">nextBlock</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-1420"><span class="line_nr">1420:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original comment">/* skip to the next block */</span></div></td></tr>
<tr><td class="loc" id="loc-1421"><span class="line_nr">1421:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original identifier">assert</span></div><div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">nextBlock</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">&lt;</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">LONG_MAX</span></div><div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-1422"><span class="line_nr">1422:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original keyword">if</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">UTIL_fseek</span></div><div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">finput</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original keyword">long</span></div><div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original identifier">nextBlock</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">SEEK_CUR</span></div><div style="display: inline;"><span class="original punctuation">)</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">!=</span></div>&nbsp;<div style="display: inline;"><span class="original literal">0</span></div><div style="display: inline;"><span class="original punctuation">)</span></div>&nbsp;<div style="display: inline;"><span class="original keyword">return</span></div>&nbsp;<div style="display: inline;"><span class="original literal">0</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-1423"><span class="line_nr">1423:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original punctuation">}</span></div>&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original punctuation">}</span></div></td></tr>
<tr><td class="loc" id="loc-1424"><span class="line_nr">1424:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original keyword">return</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">totalBlocksSize</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-1425"><span class="line_nr">1425:</span><div style="display: inline;"><span class="original punctuation">}</span></div></td></tr>
<tr><td class="loc" id="loc-1426"><span class="line_nr">1426:</span></td></tr>
<tr><td class="loc" id="loc-1427"><span class="line_nr">1427:</span><div style="display: inline;"><span class="original comment">/* For legacy frames only.</span></div></td></tr>
<tr><td class="loc" id="loc-1428"><span class="line_nr">1428:</span><div style="display: inline;"><span class="original comment">   Read block headers and skip block data.</span></div></td></tr>
<tr><td class="loc" id="loc-1429"><span class="line_nr">1429:</span><div style="display: inline;"><span class="original comment">   Return total blocks size for this frame including block headers.</span></div></td></tr>
<tr><td class="loc" id="loc-1430"><span class="line_nr">1430:</span><div style="display: inline;"><span class="original comment">   or 0 in case it can't succesfully skip block data.</span></div></td></tr>
<tr><td class="loc" id="loc-1431"><span class="line_nr">1431:</span><div style="display: inline;"><span class="original comment">   This works as long as legacy block header size = magic number size.</span></div></td></tr>
<tr><td class="loc" id="loc-1432"><span class="line_nr">1432:</span><div style="display: inline;"><span class="original comment">   Assumes SEEK_CUR after frame header.</span></div></td></tr>
<tr><td class="loc" id="loc-1433"><span class="line_nr">1433:</span><div style="display: inline;"><span class="original comment"> */</span></div></td></tr>
<tr><td class="loc" id="loc-1434"><span class="line_nr">1434:</span><div style="display: inline;"><span class="original keyword">static</span></div>&nbsp;<div style="display: inline;"><span class="original keyword">unsigned</span></div>&nbsp;<div style="display: inline;"><span class="original keyword">long</span></div>&nbsp;<div style="display: inline;"><span class="original keyword">long</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">LZ4IO_skipLegacyBlocksData</span></div><div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">FILE</span></div><div style="display: inline;"><span class="original punctuation">*</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">finput</span></div><div style="display: inline;"><span class="original punctuation">)</span></div></td></tr>
<tr><td class="loc" id="loc-1435"><span class="line_nr">1435:</span><div style="display: inline;"><span class="original punctuation">{</span></div></td></tr>
<tr><td class="loc" id="loc-1436"><span class="line_nr">1436:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original keyword">unsigned</span></div>&nbsp;<div style="display: inline;"><span class="original keyword">char</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">blockInfo</span></div><div style="display: inline;"><span class="original punctuation">[</span></div><div style="display: inline;"><span class="original identifier">LZIO_LEGACY_BLOCK_HEADER_SIZE</span></div><div style="display: inline;"><span class="original punctuation">]</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-1437"><span class="line_nr">1437:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original keyword">unsigned</span></div>&nbsp;<div style="display: inline;"><span class="original keyword">long</span></div>&nbsp;<div style="display: inline;"><span class="original keyword">long</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">totalBlocksSize</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">=</span></div>&nbsp;<div style="display: inline;"><span class="original literal">0</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-1438"><span class="line_nr">1438:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original identifier">LZ4IO_STATIC_ASSERT</span></div><div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">LZIO_LEGACY_BLOCK_HEADER_SIZE</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">==</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">MAGICNUMBER_SIZE</span></div><div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-1439"><span class="line_nr">1439:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original keyword">for</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original punctuation">;</span></div><div style="display: inline;"><span class="original punctuation">;</span></div><div style="display: inline;"><span class="original punctuation">)</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">{</span></div></td></tr>
<tr><td class="loc" id="loc-1440"><span class="line_nr">1440:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original keyword">if</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original punctuation">!</span></div><div style="display: inline;"><span class="original identifier">fread</span></div><div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">blockInfo</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original literal">1</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">LZIO_LEGACY_BLOCK_HEADER_SIZE</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">finput</span></div><div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original punctuation">)</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">{</span></div></td></tr>
<tr><td class="loc" id="loc-1441"><span class="line_nr">1441:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original keyword">if</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">feof</span></div><div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">finput</span></div><div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original punctuation">)</span></div>&nbsp;<div style="display: inline;"><span class="original keyword">return</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">totalBlocksSize</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-1442"><span class="line_nr">1442:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original keyword">return</span></div>&nbsp;<div style="display: inline;"><span class="original literal">0</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-1443"><span class="line_nr">1443:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original punctuation">}</span></div></td></tr>
<tr><td class="loc" id="loc-1444"><span class="line_nr">1444:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original punctuation">{</span></div>&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original keyword">const</span></div>&nbsp;<div style="display: inline;"><span class="original keyword">unsigned</span></div>&nbsp;<div style="display: inline;"><span class="original keyword">int</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">nextCBlockSize</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">=</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">LZ4IO_readLE32</span></div><div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original punctuation">&amp;</span></div><div style="display: inline;"><span class="original identifier">blockInfo</span></div><div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-1445"><span class="line_nr">1445:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original keyword">if</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">(</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">nextCBlockSize</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">==</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">LEGACY_MAGICNUMBER</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">||</span></div></td></tr>
<tr><td class="loc" id="loc-1446"><span class="line_nr">1446:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original identifier">nextCBlockSize</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">==</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">LZ4IO_MAGICNUMBER</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">||</span></div></td></tr>
<tr><td class="loc" id="loc-1447"><span class="line_nr">1447:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original identifier">LZ4IO_isSkippableMagicNumber</span></div><div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">nextCBlockSize</span></div><div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original punctuation">)</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">{</span></div></td></tr>
<tr><td class="loc" id="loc-1448"><span class="line_nr">1448:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original comment">/* Rewind back. we want cursor at the begining of next frame.*/</span></div></td></tr>
<tr><td class="loc" id="loc-1449"><span class="line_nr">1449:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original keyword">if</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">fseek</span></div><div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">finput</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">-</span></div><div style="display: inline;"><span class="original identifier">LZIO_LEGACY_BLOCK_HEADER_SIZE</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">SEEK_CUR</span></div><div style="display: inline;"><span class="original punctuation">)</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">!=</span></div>&nbsp;<div style="display: inline;"><span class="original literal">0</span></div><div style="display: inline;"><span class="original punctuation">)</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">{</span></div></td></tr>
<tr><td class="loc" id="loc-1450"><span class="line_nr">1450:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original keyword">return</span></div>&nbsp;<div style="display: inline;"><span class="original literal">0</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-1451"><span class="line_nr">1451:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original punctuation">}</span></div></td></tr>
<tr><td class="loc" id="loc-1452"><span class="line_nr">1452:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original keyword">break</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-1453"><span class="line_nr">1453:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original punctuation">}</span></div></td></tr>
<tr><td class="loc" id="loc-1454"><span class="line_nr">1454:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original identifier">totalBlocksSize</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">+=</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">LZIO_LEGACY_BLOCK_HEADER_SIZE</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">+</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">nextCBlockSize</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-1455"><span class="line_nr">1455:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original comment">/* skip to the next block */</span></div></td></tr>
<tr><td class="loc" id="loc-1456"><span class="line_nr">1456:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original keyword">if</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">UTIL_fseek</span></div><div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">finput</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">nextCBlockSize</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">SEEK_CUR</span></div><div style="display: inline;"><span class="original punctuation">)</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">!=</span></div>&nbsp;<div style="display: inline;"><span class="original literal">0</span></div><div style="display: inline;"><span class="original punctuation">)</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">{</span></div></td></tr>
<tr><td class="loc" id="loc-1457"><span class="line_nr">1457:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original keyword">return</span></div>&nbsp;<div style="display: inline;"><span class="original literal">0</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-1458"><span class="line_nr">1458:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original punctuation">}</span></div>&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original punctuation">}</span></div>&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original punctuation">}</span></div></td></tr>
<tr><td class="loc" id="loc-1459"><span class="line_nr">1459:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original keyword">return</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">totalBlocksSize</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-1460"><span class="line_nr">1460:</span><div style="display: inline;"><span class="original punctuation">}</span></div></td></tr>
<tr><td class="loc" id="loc-1461"><span class="line_nr">1461:</span></td></tr>
<tr><td class="loc" id="loc-1462"><span class="line_nr">1462:</span><div style="display: inline;"><span class="original comment">/* LZ4IO_blockTypeID:</span></div></td></tr>
<tr><td class="loc" id="loc-1463"><span class="line_nr">1463:</span><div style="display: inline;"><span class="original comment"> * return human-readable block type, following command line convention</span></div></td></tr>
<tr><td class="loc" id="loc-1464"><span class="line_nr">1464:</span><div style="display: inline;"><span class="original comment"> * buffer : must be a valid memory area of at least 4 bytes */</span></div></td></tr>
<tr><td class="loc" id="loc-1465"><span class="line_nr">1465:</span><div style="display: inline;"><span class="original keyword">const</span></div>&nbsp;<div style="display: inline;"><span class="original keyword">char</span></div><div style="display: inline;"><span class="original punctuation">*</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">LZ4IO_blockTypeID</span></div><div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">LZ4F_blockSizeID_t</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">sizeID</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">LZ4F_blockMode_t</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">blockMode</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original keyword">char</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">buffer</span></div><div style="display: inline;"><span class="original punctuation">[</span></div><div style="display: inline;"><span class="original literal">4</span></div><div style="display: inline;"><span class="original punctuation">]</span></div><div style="display: inline;"><span class="original punctuation">)</span></div></td></tr>
<tr><td class="loc" id="loc-1466"><span class="line_nr">1466:</span><div style="display: inline;"><span class="original punctuation">{</span></div></td></tr>
<tr><td class="loc" id="loc-1467"><span class="line_nr">1467:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original identifier">buffer</span></div><div style="display: inline;"><span class="original punctuation">[</span></div><div style="display: inline;"><span class="original literal">0</span></div><div style="display: inline;"><span class="original punctuation">]</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">=</span></div>&nbsp;<div style="display: inline;"><span class="original literal">'B'</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-1468"><span class="line_nr">1468:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original identifier">assert</span></div><div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">sizeID</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">&gt;=</span></div>&nbsp;<div style="display: inline;"><span class="original literal">4</span></div><div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original punctuation">;</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">assert</span></div><div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">sizeID</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">&lt;=</span></div>&nbsp;<div style="display: inline;"><span class="original literal">7</span></div><div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-1469"><span class="line_nr">1469:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original identifier">buffer</span></div><div style="display: inline;"><span class="original punctuation">[</span></div><div style="display: inline;"><span class="original literal">1</span></div><div style="display: inline;"><span class="original punctuation">]</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">=</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original keyword">char</span></div><div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">sizeID</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">+</span></div>&nbsp;<div style="display: inline;"><span class="original literal">'0'</span></div><div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-1470"><span class="line_nr">1470:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original identifier">buffer</span></div><div style="display: inline;"><span class="original punctuation">[</span></div><div style="display: inline;"><span class="original literal">2</span></div><div style="display: inline;"><span class="original punctuation">]</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">=</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">blockMode</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">==</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">LZ4F_blockIndependent</span></div><div style="display: inline;"><span class="original punctuation">)</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">?</span></div>&nbsp;<div style="display: inline;"><span class="original literal">'I'</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">:</span></div>&nbsp;<div style="display: inline;"><span class="original literal">'D'</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-1471"><span class="line_nr">1471:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original identifier">buffer</span></div><div style="display: inline;"><span class="original punctuation">[</span></div><div style="display: inline;"><span class="original literal">3</span></div><div style="display: inline;"><span class="original punctuation">]</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">=</span></div>&nbsp;<div style="display: inline;"><span class="original literal">0</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-1472"><span class="line_nr">1472:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original keyword">return</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">buffer</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-1473"><span class="line_nr">1473:</span><div style="display: inline;"><span class="original punctuation">}</span></div></td></tr>
<tr><td class="loc" id="loc-1474"><span class="line_nr">1474:</span></td></tr>
<tr><td class="loc" id="loc-1475"><span class="line_nr">1475:</span><div style="display: inline;"><span class="original comment">/* buffer : must be valid memory area of at least 10 bytes */</span></div></td></tr>
<tr><td class="loc" id="loc-1476"><span class="line_nr">1476:</span><div style="display: inline;"><span class="original keyword">static</span></div>&nbsp;<div style="display: inline;"><span class="original keyword">const</span></div>&nbsp;<div style="display: inline;"><span class="original keyword">char</span></div><div style="display: inline;"><span class="original punctuation">*</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">LZ4IO_toHuman</span></div><div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original keyword">long</span></div>&nbsp;<div style="display: inline;"><span class="original keyword">double</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">size</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original keyword">char</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">*</span></div><div style="display: inline;"><span class="original identifier">buf</span></div><div style="display: inline;"><span class="original punctuation">)</span></div></td></tr>
<tr><td class="loc" id="loc-1477"><span class="line_nr">1477:</span><div style="display: inline;"><span class="original punctuation">{</span></div></td></tr>
<tr><td class="loc" id="loc-1478"><span class="line_nr">1478:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original keyword">const</span></div>&nbsp;<div style="display: inline;"><span class="original keyword">char</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">units</span></div><div style="display: inline;"><span class="original punctuation">[</span></div><div style="display: inline;"><span class="original punctuation">]</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">=</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">{</span></div><div style="display: inline;"><span class="original literal">&quot;\0KMGTPEZY&quot;</span></div><div style="display: inline;"><span class="original punctuation">}</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-1479"><span class="line_nr">1479:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original identifier">size_t</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">i</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">=</span></div>&nbsp;<div style="display: inline;"><span class="original literal">0</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-1480"><span class="line_nr">1480:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original keyword">for</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original punctuation">;</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">size</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">&gt;=</span></div>&nbsp;<div style="display: inline;"><span class="original literal">1024</span></div><div style="display: inline;"><span class="original punctuation">;</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">i</span></div><div style="display: inline;"><span class="original punctuation">++</span></div><div style="display: inline;"><span class="original punctuation">)</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">size</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">/=</span></div>&nbsp;<div style="display: inline;"><span class="original literal">1024</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-1481"><span class="line_nr">1481:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original identifier">sprintf</span></div><div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">buf</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original literal">&quot;%.2Lf%c&quot;</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">size</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">units</span></div><div style="display: inline;"><span class="original punctuation">[</span></div><div style="display: inline;"><span class="original identifier">i</span></div><div style="display: inline;"><span class="original punctuation">]</span></div><div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-1482"><span class="line_nr">1482:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original keyword">return</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">buf</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-1483"><span class="line_nr">1483:</span><div style="display: inline;"><span class="original punctuation">}</span></div></td></tr>
<tr><td class="loc" id="loc-1484"><span class="line_nr">1484:</span></td></tr>
<tr><td class="loc" id="loc-1485"><span class="line_nr">1485:</span><div style="display: inline;"><span class="original comment">/* Get filename without path prefix */</span></div></td></tr>
<tr><td class="loc" id="loc-1486"><span class="line_nr">1486:</span><div style="display: inline;"><span class="original keyword">static</span></div>&nbsp;<div style="display: inline;"><span class="original keyword">const</span></div>&nbsp;<div style="display: inline;"><span class="original keyword">char</span></div><div style="display: inline;"><span class="original punctuation">*</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">LZ4IO_baseName</span></div><div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original keyword">const</span></div>&nbsp;<div style="display: inline;"><span class="original keyword">char</span></div><div style="display: inline;"><span class="original punctuation">*</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">input_filename</span></div><div style="display: inline;"><span class="original punctuation">)</span></div></td></tr>
<tr><td class="loc" id="loc-1487"><span class="line_nr">1487:</span><div style="display: inline;"><span class="original punctuation">{</span></div></td></tr>
<tr><td class="loc" id="loc-1488"><span class="line_nr">1488:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original keyword">const</span></div>&nbsp;<div style="display: inline;"><span class="original keyword">char</span></div><div style="display: inline;"><span class="original punctuation">*</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">b</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">=</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">strrchr</span></div><div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">input_filename</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original literal">'/'</span></div><div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-1489"><span class="line_nr">1489:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original keyword">if</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original punctuation">!</span></div><div style="display: inline;"><span class="original identifier">b</span></div><div style="display: inline;"><span class="original punctuation">)</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">b</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">=</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">strrchr</span></div><div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">input_filename</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original literal">'\\'</span></div><div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-1490"><span class="line_nr">1490:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original keyword">if</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original punctuation">!</span></div><div style="display: inline;"><span class="original identifier">b</span></div><div style="display: inline;"><span class="original punctuation">)</span></div>&nbsp;<div style="display: inline;"><span class="original keyword">return</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">input_filename</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-1491"><span class="line_nr">1491:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original keyword">return</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">b</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">+</span></div>&nbsp;<div style="display: inline;"><span class="original literal">1</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-1492"><span class="line_nr">1492:</span><div style="display: inline;"><span class="original punctuation">}</span></div></td></tr>
<tr><td class="loc" id="loc-1493"><span class="line_nr">1493:</span></td></tr>
<tr><td class="loc" id="loc-1494"><span class="line_nr">1494:</span><div style="display: inline;"><span class="original comment">/* Report frame/s information (--list) in verbose mode (-v).</span></div></td></tr>
<tr><td class="loc" id="loc-1495"><span class="line_nr">1495:</span><div style="display: inline;"><span class="original comment"> * Will populate file info with fileName and frameSummary where applicable.</span></div></td></tr>
<tr><td class="loc" id="loc-1496"><span class="line_nr">1496:</span><div style="display: inline;"><span class="original comment"> * - TODO :</span></div></td></tr>
<tr><td class="loc" id="loc-1497"><span class="line_nr">1497:</span><div style="display: inline;"><span class="original comment"> *  + report nb of blocks, hence max. possible decompressed size (when not reported in header)</span></div></td></tr>
<tr><td class="loc" id="loc-1498"><span class="line_nr">1498:</span><div style="display: inline;"><span class="original comment"> */</span></div></td></tr>
<tr><td class="loc" id="loc-1499"><span class="line_nr">1499:</span><div style="display: inline;"><span class="original keyword">static</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">LZ4IO_infoResult</span></div></td></tr>
<tr><td class="loc" id="loc-1500"><span class="line_nr">1500:</span><div style="display: inline;"><span class="original identifier">LZ4IO_getCompressedFileInfo</span></div><div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">LZ4IO_cFileInfo_t</span></div><div style="display: inline;"><span class="original punctuation">*</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">cfinfo</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original keyword">const</span></div>&nbsp;<div style="display: inline;"><span class="original keyword">char</span></div><div style="display: inline;"><span class="original punctuation">*</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">input_filename</span></div><div style="display: inline;"><span class="original punctuation">)</span></div></td></tr>
<tr><td class="loc" id="loc-1501"><span class="line_nr">1501:</span><div style="display: inline;"><span class="original punctuation">{</span></div></td></tr>
<tr><td class="loc" id="loc-1502"><span class="line_nr">1502:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original identifier">LZ4IO_infoResult</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">result</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">=</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">LZ4IO_format_not_known</span></div><div style="display: inline;"><span class="original punctuation">;</span></div>&nbsp;&nbsp;<div style="display: inline;"><span class="original comment">/* default result (error) */</span></div></td></tr>
<tr><td class="loc" id="loc-1503"><span class="line_nr">1503:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original keyword">unsigned</span></div>&nbsp;<div style="display: inline;"><span class="original keyword">char</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">buffer</span></div><div style="display: inline;"><span class="original punctuation">[</span></div><div style="display: inline;"><span class="original identifier">LZ4F_HEADER_SIZE_MAX</span></div><div style="display: inline;"><span class="original punctuation">]</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-1504"><span class="line_nr">1504:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original identifier">FILE</span></div><div style="display: inline;"><span class="original punctuation">*</span></div>&nbsp;<div style="display: inline;"><span class="original keyword">const</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">finput</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">=</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">LZ4IO_openSrcFile</span></div><div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">input_filename</span></div><div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-1505"><span class="line_nr">1505:</span></td></tr>
<tr><td class="loc" id="loc-1506"><span class="line_nr">1506:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original keyword">if</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">finput</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">==</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">NULL</span></div><div style="display: inline;"><span class="original punctuation">)</span></div>&nbsp;<div style="display: inline;"><span class="original keyword">return</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">LZ4IO_not_a_file</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-1507"><span class="line_nr">1507:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original identifier">cfinfo</span></div><div style="display: inline;"><span class="original punctuation">-&gt;</span></div><div style="display: inline;"><span class="original identifier">fileSize</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">=</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">UTIL_getOpenFileSize</span></div><div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">finput</span></div><div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-1508"><span class="line_nr">1508:</span></td></tr>
<tr><td class="loc" id="loc-1509"><span class="line_nr">1509:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original keyword">while</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original punctuation">!</span></div><div style="display: inline;"><span class="original identifier">feof</span></div><div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">finput</span></div><div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original punctuation">)</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">{</span></div></td></tr>
<tr><td class="loc" id="loc-1510"><span class="line_nr">1510:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original identifier">LZ4IO_frameInfo_t</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">frameInfo</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">=</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">LZ4IO_INIT_FRAMEINFO</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-1511"><span class="line_nr">1511:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original keyword">unsigned</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">magicNumber</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-1512"><span class="line_nr">1512:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original comment">/* Get MagicNumber */</span></div></td></tr>
<tr><td class="loc" id="loc-1513"><span class="line_nr">1513:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original punctuation">{</span></div>&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original identifier">size_t</span></div>&nbsp;<div style="display: inline;"><span class="original keyword">const</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">nbReadBytes</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">=</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">fread</span></div><div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">buffer</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original literal">1</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">MAGICNUMBER_SIZE</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">finput</span></div><div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-1514"><span class="line_nr">1514:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original keyword">if</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">nbReadBytes</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">==</span></div>&nbsp;<div style="display: inline;"><span class="original literal">0</span></div><div style="display: inline;"><span class="original punctuation">)</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">{</span></div>&nbsp;<div style="display: inline;"><span class="original keyword">break</span></div><div style="display: inline;"><span class="original punctuation">;</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">}</span></div>&nbsp;<div style="display: inline;"><span class="original comment">/* EOF */</span></div></td></tr>
<tr><td class="loc" id="loc-1515"><span class="line_nr">1515:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original identifier">result</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">=</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">LZ4IO_format_not_known</span></div><div style="display: inline;"><span class="original punctuation">;</span></div>&nbsp;&nbsp;<div style="display: inline;"><span class="original comment">/* default result (error) */</span></div></td></tr>
<tr><td class="loc" id="loc-1516"><span class="line_nr">1516:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original keyword">if</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">nbReadBytes</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">!=</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">MAGICNUMBER_SIZE</span></div><div style="display: inline;"><span class="original punctuation">)</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">{</span></div></td></tr>
<tr><td class="loc" id="loc-1517"><span class="line_nr">1517:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original identifier">EXM_THROW</span></div><div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original literal">40</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original literal">&quot;Unrecognized header : Magic Number unreadable&quot;</span></div><div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-1518"><span class="line_nr">1518:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original punctuation">}</span></div>&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original punctuation">}</span></div></td></tr>
<tr><td class="loc" id="loc-1519"><span class="line_nr">1519:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original identifier">magicNumber</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">=</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">LZ4IO_readLE32</span></div><div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">buffer</span></div><div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original punctuation">;</span></div>&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original comment">/* Little Endian format */</span></div></td></tr>
<tr><td class="loc" id="loc-1520"><span class="line_nr">1520:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original keyword">if</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">LZ4IO_isSkippableMagicNumber</span></div><div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">magicNumber</span></div><div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original punctuation">)</span></div></td></tr>
<tr><td class="loc" id="loc-1521"><span class="line_nr">1521:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original identifier">magicNumber</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">=</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">LZ4IO_SKIPPABLE0</span></div><div style="display: inline;"><span class="original punctuation">;</span></div>&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original comment">/* fold skippable magic numbers */</span></div></td></tr>
<tr><td class="loc" id="loc-1522"><span class="line_nr">1522:</span></td></tr>
<tr><td class="loc" id="loc-1523"><span class="line_nr">1523:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original keyword">switch</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">magicNumber</span></div><div style="display: inline;"><span class="original punctuation">)</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">{</span></div></td></tr>
<tr><td class="loc" id="loc-1524"><span class="line_nr">1524:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original keyword">case</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">LZ4IO_MAGICNUMBER</span></div><div style="display: inline;"><span class="original punctuation">:</span></div></td></tr>
<tr><td class="loc" id="loc-1525"><span class="line_nr">1525:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original keyword">if</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">cfinfo</span></div><div style="display: inline;"><span class="original punctuation">-&gt;</span></div><div style="display: inline;"><span class="original identifier">frameSummary</span></div><div style="display: inline;"><span class="original punctuation">.</span></div><div style="display: inline;"><span class="original identifier">frameType</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">!=</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">lz4Frame</span></div><div style="display: inline;"><span class="original punctuation">)</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">cfinfo</span></div><div style="display: inline;"><span class="original punctuation">-&gt;</span></div><div style="display: inline;"><span class="original identifier">eqFrameTypes</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">=</span></div>&nbsp;<div style="display: inline;"><span class="original literal">0</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-1526"><span class="line_nr">1526:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original comment">/* Get frame info */</span></div></td></tr>
<tr><td class="loc" id="loc-1527"><span class="line_nr">1527:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original punctuation">{</span></div>&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original keyword">const</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">size_t</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">readBytes</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">=</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">fread</span></div><div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">buffer</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">+</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">MAGICNUMBER_SIZE</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original literal">1</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">LZ4F_HEADER_SIZE_MIN</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">-</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">MAGICNUMBER_SIZE</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">finput</span></div><div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-1528"><span class="line_nr">1528:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original keyword">if</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original punctuation">!</span></div><div style="display: inline;"><span class="original identifier">readBytes</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">||</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">ferror</span></div><div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">finput</span></div><div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original punctuation">)</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">EXM_THROW</span></div><div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original literal">71</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original literal">&quot;Error reading %s&quot;</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">input_filename</span></div><div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-1529"><span class="line_nr">1529:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original punctuation">}</span></div></td></tr>
<tr><td class="loc" id="loc-1530"><span class="line_nr">1530:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original punctuation">{</span></div>&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original identifier">size_t</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">hSize</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">=</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">LZ4F_headerSize</span></div><div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original punctuation">&amp;</span></div><div style="display: inline;"><span class="original identifier">buffer</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">LZ4F_HEADER_SIZE_MIN</span></div><div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-1531"><span class="line_nr">1531:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original keyword">if</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">LZ4F_isError</span></div><div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">hSize</span></div><div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original punctuation">)</span></div>&nbsp;<div style="display: inline;"><span class="original keyword">break</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-1532"><span class="line_nr">1532:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original keyword">if</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">hSize</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">&gt;</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">LZ4F_HEADER_SIZE_MIN</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">+</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">MAGICNUMBER_SIZE</span></div><div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original punctuation">)</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">{</span></div></td></tr>
<tr><td class="loc" id="loc-1533"><span class="line_nr">1533:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original comment">/* We've already read LZ4F_HEADER_SIZE_MIN so read any extra until hSize*/</span></div></td></tr>
<tr><td class="loc" id="loc-1534"><span class="line_nr">1534:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original keyword">const</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">size_t</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">readBytes</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">=</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">fread</span></div><div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">buffer</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">+</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">LZ4F_HEADER_SIZE_MIN</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original literal">1</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">hSize</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">-</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">LZ4F_HEADER_SIZE_MIN</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">finput</span></div><div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-1535"><span class="line_nr">1535:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original keyword">if</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original punctuation">!</span></div><div style="display: inline;"><span class="original identifier">readBytes</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">||</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">ferror</span></div><div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">finput</span></div><div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original punctuation">)</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">EXM_THROW</span></div><div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original literal">72</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original literal">&quot;Error reading %s&quot;</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">input_filename</span></div><div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-1536"><span class="line_nr">1536:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original punctuation">}</span></div></td></tr>
<tr><td class="loc" id="loc-1537"><span class="line_nr">1537:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original comment">/* Create decompression context */</span></div></td></tr>
<tr><td class="loc" id="loc-1538"><span class="line_nr">1538:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original punctuation">{</span></div>&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original identifier">LZ4F_dctx</span></div><div style="display: inline;"><span class="original punctuation">*</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">dctx</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-1539"><span class="line_nr">1539:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original keyword">if</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">(</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">LZ4F_isError</span></div><div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">LZ4F_createDecompressionContext</span></div><div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original punctuation">&amp;</span></div><div style="display: inline;"><span class="original identifier">dctx</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">LZ4F_VERSION</span></div><div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original punctuation">)</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">)</span></div>&nbsp;<div style="display: inline;"><span class="original keyword">break</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-1540"><span class="line_nr">1540:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original punctuation">{</span></div>&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original keyword">unsigned</span></div>&nbsp;<div style="display: inline;"><span class="original keyword">const</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">frameInfoError</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">=</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">LZ4F_isError</span></div><div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">LZ4F_getFrameInfo</span></div><div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">dctx</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">&amp;</span></div><div style="display: inline;"><span class="original identifier">frameInfo</span></div><div style="display: inline;"><span class="original punctuation">.</span></div><div style="display: inline;"><span class="original identifier">lz4FrameInfo</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">buffer</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">&amp;</span></div><div style="display: inline;"><span class="original identifier">hSize</span></div><div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-1541"><span class="line_nr">1541:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original identifier">LZ4F_freeDecompressionContext</span></div><div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">dctx</span></div><div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-1542"><span class="line_nr">1542:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original keyword">if</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">frameInfoError</span></div><div style="display: inline;"><span class="original punctuation">)</span></div>&nbsp;<div style="display: inline;"><span class="original keyword">break</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-1543"><span class="line_nr">1543:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original keyword">if</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">cfinfo</span></div><div style="display: inline;"><span class="original punctuation">-&gt;</span></div><div style="display: inline;"><span class="original identifier">frameSummary</span></div><div style="display: inline;"><span class="original punctuation">.</span></div><div style="display: inline;"><span class="original identifier">lz4FrameInfo</span></div><div style="display: inline;"><span class="original punctuation">.</span></div><div style="display: inline;"><span class="original identifier">blockSizeID</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">!=</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">frameInfo</span></div><div style="display: inline;"><span class="original punctuation">.</span></div><div style="display: inline;"><span class="original identifier">lz4FrameInfo</span></div><div style="display: inline;"><span class="original punctuation">.</span></div><div style="display: inline;"><span class="original identifier">blockSizeID</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">||</span></div></td></tr>
<tr><td class="loc" id="loc-1544"><span class="line_nr">1544:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original identifier">cfinfo</span></div><div style="display: inline;"><span class="original punctuation">-&gt;</span></div><div style="display: inline;"><span class="original identifier">frameSummary</span></div><div style="display: inline;"><span class="original punctuation">.</span></div><div style="display: inline;"><span class="original identifier">lz4FrameInfo</span></div><div style="display: inline;"><span class="original punctuation">.</span></div><div style="display: inline;"><span class="original identifier">blockMode</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">!=</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">frameInfo</span></div><div style="display: inline;"><span class="original punctuation">.</span></div><div style="display: inline;"><span class="original identifier">lz4FrameInfo</span></div><div style="display: inline;"><span class="original punctuation">.</span></div><div style="display: inline;"><span class="original identifier">blockMode</span></div><div style="display: inline;"><span class="original punctuation">)</span></div></td></tr>
<tr><td class="loc" id="loc-1545"><span class="line_nr">1545:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original punctuation">&amp;&amp;</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">cfinfo</span></div><div style="display: inline;"><span class="original punctuation">-&gt;</span></div><div style="display: inline;"><span class="original identifier">frameCount</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">!=</span></div>&nbsp;<div style="display: inline;"><span class="original literal">0</span></div><div style="display: inline;"><span class="original punctuation">)</span></div></td></tr>
<tr><td class="loc" id="loc-1546"><span class="line_nr">1546:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original identifier">cfinfo</span></div><div style="display: inline;"><span class="original punctuation">-&gt;</span></div><div style="display: inline;"><span class="original identifier">eqBlockTypes</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">=</span></div>&nbsp;<div style="display: inline;"><span class="original literal">0</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-1547"><span class="line_nr">1547:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original punctuation">{</span></div>&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original keyword">const</span></div>&nbsp;<div style="display: inline;"><span class="original keyword">unsigned</span></div>&nbsp;<div style="display: inline;"><span class="original keyword">long</span></div>&nbsp;<div style="display: inline;"><span class="original keyword">long</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">totalBlocksSize</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">=</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">LZ4IO_skipBlocksData</span></div><div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">finput</span></div><div style="display: inline;"><span class="original punctuation">,</span></div></td></tr>
<tr><td class="loc" id="loc-1548"><span class="line_nr">1548:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original identifier">frameInfo</span></div><div style="display: inline;"><span class="original punctuation">.</span></div><div style="display: inline;"><span class="original identifier">lz4FrameInfo</span></div><div style="display: inline;"><span class="original punctuation">.</span></div><div style="display: inline;"><span class="original identifier">blockChecksumFlag</span></div><div style="display: inline;"><span class="original punctuation">,</span></div></td></tr>
<tr><td class="loc" id="loc-1549"><span class="line_nr">1549:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original identifier">frameInfo</span></div><div style="display: inline;"><span class="original punctuation">.</span></div><div style="display: inline;"><span class="original identifier">lz4FrameInfo</span></div><div style="display: inline;"><span class="original punctuation">.</span></div><div style="display: inline;"><span class="original identifier">contentChecksumFlag</span></div><div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-1550"><span class="line_nr">1550:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original keyword">if</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">totalBlocksSize</span></div><div style="display: inline;"><span class="original punctuation">)</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">{</span></div></td></tr>
<tr><td class="loc" id="loc-1551"><span class="line_nr">1551:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original keyword">char</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">bTypeBuffer</span></div><div style="display: inline;"><span class="original punctuation">[</span></div><div style="display: inline;"><span class="original literal">5</span></div><div style="display: inline;"><span class="original punctuation">]</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-1552"><span class="line_nr">1552:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original identifier">LZ4IO_blockTypeID</span></div><div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">frameInfo</span></div><div style="display: inline;"><span class="original punctuation">.</span></div><div style="display: inline;"><span class="original identifier">lz4FrameInfo</span></div><div style="display: inline;"><span class="original punctuation">.</span></div><div style="display: inline;"><span class="original identifier">blockSizeID</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">frameInfo</span></div><div style="display: inline;"><span class="original punctuation">.</span></div><div style="display: inline;"><span class="original identifier">lz4FrameInfo</span></div><div style="display: inline;"><span class="original punctuation">.</span></div><div style="display: inline;"><span class="original identifier">blockMode</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">bTypeBuffer</span></div><div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-1553"><span class="line_nr">1553:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original identifier">DISPLAYLEVEL</span></div><div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original literal">3</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original literal">&quot;    %6llu %14s %5s %8s&quot;</span></div><div style="display: inline;"><span class="original punctuation">,</span></div></td></tr>
<tr><td class="loc" id="loc-1554"><span class="line_nr">1554:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original identifier">cfinfo</span></div><div style="display: inline;"><span class="original punctuation">-&gt;</span></div><div style="display: inline;"><span class="original identifier">frameCount</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">+</span></div>&nbsp;<div style="display: inline;"><span class="original literal">1</span></div><div style="display: inline;"><span class="original punctuation">,</span></div></td></tr>
<tr><td class="loc" id="loc-1555"><span class="line_nr">1555:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original identifier">LZ4IO_frameTypeNames</span></div><div style="display: inline;"><span class="original punctuation">[</span></div><div style="display: inline;"><span class="original identifier">frameInfo</span></div><div style="display: inline;"><span class="original punctuation">.</span></div><div style="display: inline;"><span class="original identifier">frameType</span></div><div style="display: inline;"><span class="original punctuation">]</span></div><div style="display: inline;"><span class="original punctuation">,</span></div></td></tr>
<tr><td class="loc" id="loc-1556"><span class="line_nr">1556:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original identifier">bTypeBuffer</span></div><div style="display: inline;"><span class="original punctuation">,</span></div></td></tr>
<tr><td class="loc" id="loc-1557"><span class="line_nr">1557:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original identifier">frameInfo</span></div><div style="display: inline;"><span class="original punctuation">.</span></div><div style="display: inline;"><span class="original identifier">lz4FrameInfo</span></div><div style="display: inline;"><span class="original punctuation">.</span></div><div style="display: inline;"><span class="original identifier">contentChecksumFlag</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">?</span></div>&nbsp;<div style="display: inline;"><span class="original literal">&quot;XXH32&quot;</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">:</span></div>&nbsp;<div style="display: inline;"><span class="original literal">&quot;-&quot;</span></div><div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-1558"><span class="line_nr">1558:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original keyword">if</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">frameInfo</span></div><div style="display: inline;"><span class="original punctuation">.</span></div><div style="display: inline;"><span class="original identifier">lz4FrameInfo</span></div><div style="display: inline;"><span class="original punctuation">.</span></div><div style="display: inline;"><span class="original identifier">contentSize</span></div><div style="display: inline;"><span class="original punctuation">)</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">{</span></div></td></tr>
<tr><td class="loc" id="loc-1559"><span class="line_nr">1559:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original punctuation">{</span></div>&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original keyword">double</span></div>&nbsp;<div style="display: inline;"><span class="original keyword">const</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">ratio</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">=</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original keyword">double</span></div><div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">totalBlocksSize</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">+</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">hSize</span></div><div style="display: inline;"><span class="original punctuation">)</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">/</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">frameInfo</span></div><div style="display: inline;"><span class="original punctuation">.</span></div><div style="display: inline;"><span class="original identifier">lz4FrameInfo</span></div><div style="display: inline;"><span class="original punctuation">.</span></div><div style="display: inline;"><span class="original identifier">contentSize</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">*</span></div>&nbsp;<div style="display: inline;"><span class="original literal">100</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-1560"><span class="line_nr">1560:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original identifier">DISPLAYLEVEL</span></div><div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original literal">3</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original literal">&quot; %20llu %20llu %9.2f%%\n&quot;</span></div><div style="display: inline;"><span class="original punctuation">,</span></div></td></tr>
<tr><td class="loc" id="loc-1561"><span class="line_nr">1561:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original identifier">totalBlocksSize</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">+</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">hSize</span></div><div style="display: inline;"><span class="original punctuation">,</span></div></td></tr>
<tr><td class="loc" id="loc-1562"><span class="line_nr">1562:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original identifier">frameInfo</span></div><div style="display: inline;"><span class="original punctuation">.</span></div><div style="display: inline;"><span class="original identifier">lz4FrameInfo</span></div><div style="display: inline;"><span class="original punctuation">.</span></div><div style="display: inline;"><span class="original identifier">contentSize</span></div><div style="display: inline;"><span class="original punctuation">,</span></div></td></tr>
<tr><td class="loc" id="loc-1563"><span class="line_nr">1563:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original identifier">ratio</span></div><div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-1564"><span class="line_nr">1564:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original punctuation">}</span></div></td></tr>
<tr><td class="loc" id="loc-1565"><span class="line_nr">1565:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original comment">/* Now we've consumed frameInfo we can use it to store the total contentSize */</span></div></td></tr>
<tr><td class="loc" id="loc-1566"><span class="line_nr">1566:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original identifier">frameInfo</span></div><div style="display: inline;"><span class="original punctuation">.</span></div><div style="display: inline;"><span class="original identifier">lz4FrameInfo</span></div><div style="display: inline;"><span class="original punctuation">.</span></div><div style="display: inline;"><span class="original identifier">contentSize</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">+=</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">cfinfo</span></div><div style="display: inline;"><span class="original punctuation">-&gt;</span></div><div style="display: inline;"><span class="original identifier">frameSummary</span></div><div style="display: inline;"><span class="original punctuation">.</span></div><div style="display: inline;"><span class="original identifier">lz4FrameInfo</span></div><div style="display: inline;"><span class="original punctuation">.</span></div><div style="display: inline;"><span class="original identifier">contentSize</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-1567"><span class="line_nr">1567:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original punctuation">}</span></div></td></tr>
<tr><td class="loc" id="loc-1568"><span class="line_nr">1568:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original keyword">else</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">{</span></div></td></tr>
<tr><td class="loc" id="loc-1569"><span class="line_nr">1569:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original identifier">DISPLAYLEVEL</span></div><div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original literal">3</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original literal">&quot; %20llu %20s %9s \n&quot;</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">totalBlocksSize</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">+</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">hSize</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original literal">&quot;-&quot;</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original literal">&quot;-&quot;</span></div><div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-1570"><span class="line_nr">1570:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original identifier">cfinfo</span></div><div style="display: inline;"><span class="original punctuation">-&gt;</span></div><div style="display: inline;"><span class="original identifier">allContentSize</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">=</span></div>&nbsp;<div style="display: inline;"><span class="original literal">0</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-1571"><span class="line_nr">1571:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original punctuation">}</span></div></td></tr>
<tr><td class="loc" id="loc-1572"><span class="line_nr">1572:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original identifier">result</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">=</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">LZ4IO_LZ4F_OK</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-1573"><span class="line_nr">1573:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original punctuation">}</span></div>&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original punctuation">}</span></div>&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original punctuation">}</span></div>&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original punctuation">}</span></div>&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original punctuation">}</span></div></td></tr>
<tr><td class="loc" id="loc-1574"><span class="line_nr">1574:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original keyword">break</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-1575"><span class="line_nr">1575:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original keyword">case</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">LEGACY_MAGICNUMBER</span></div><div style="display: inline;"><span class="original punctuation">:</span></div></td></tr>
<tr><td class="loc" id="loc-1576"><span class="line_nr">1576:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original identifier">frameInfo</span></div><div style="display: inline;"><span class="original punctuation">.</span></div><div style="display: inline;"><span class="original identifier">frameType</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">=</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">legacyFrame</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-1577"><span class="line_nr">1577:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original keyword">if</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">cfinfo</span></div><div style="display: inline;"><span class="original punctuation">-&gt;</span></div><div style="display: inline;"><span class="original identifier">frameSummary</span></div><div style="display: inline;"><span class="original punctuation">.</span></div><div style="display: inline;"><span class="original identifier">frameType</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">!=</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">legacyFrame</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">&amp;&amp;</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">cfinfo</span></div><div style="display: inline;"><span class="original punctuation">-&gt;</span></div><div style="display: inline;"><span class="original identifier">frameCount</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">!=</span></div>&nbsp;<div style="display: inline;"><span class="original literal">0</span></div><div style="display: inline;"><span class="original punctuation">)</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">cfinfo</span></div><div style="display: inline;"><span class="original punctuation">-&gt;</span></div><div style="display: inline;"><span class="original identifier">eqFrameTypes</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">=</span></div>&nbsp;<div style="display: inline;"><span class="original literal">0</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-1578"><span class="line_nr">1578:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original identifier">cfinfo</span></div><div style="display: inline;"><span class="original punctuation">-&gt;</span></div><div style="display: inline;"><span class="original identifier">eqBlockTypes</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">=</span></div>&nbsp;<div style="display: inline;"><span class="original literal">0</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-1579"><span class="line_nr">1579:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original identifier">cfinfo</span></div><div style="display: inline;"><span class="original punctuation">-&gt;</span></div><div style="display: inline;"><span class="original identifier">allContentSize</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">=</span></div>&nbsp;<div style="display: inline;"><span class="original literal">0</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-1580"><span class="line_nr">1580:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original punctuation">{</span></div>&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original keyword">const</span></div>&nbsp;<div style="display: inline;"><span class="original keyword">unsigned</span></div>&nbsp;<div style="display: inline;"><span class="original keyword">long</span></div>&nbsp;<div style="display: inline;"><span class="original keyword">long</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">totalBlocksSize</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">=</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">LZ4IO_skipLegacyBlocksData</span></div><div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">finput</span></div><div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-1581"><span class="line_nr">1581:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original keyword">if</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">totalBlocksSize</span></div><div style="display: inline;"><span class="original punctuation">)</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">{</span></div></td></tr>
<tr><td class="loc" id="loc-1582"><span class="line_nr">1582:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original identifier">DISPLAYLEVEL</span></div><div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original literal">3</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original literal">&quot;    %6llu %14s %5s %8s %20llu %20s %9s\n&quot;</span></div><div style="display: inline;"><span class="original punctuation">,</span></div></td></tr>
<tr><td class="loc" id="loc-1583"><span class="line_nr">1583:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original identifier">cfinfo</span></div><div style="display: inline;"><span class="original punctuation">-&gt;</span></div><div style="display: inline;"><span class="original identifier">frameCount</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">+</span></div>&nbsp;<div style="display: inline;"><span class="original literal">1</span></div><div style="display: inline;"><span class="original punctuation">,</span></div></td></tr>
<tr><td class="loc" id="loc-1584"><span class="line_nr">1584:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original identifier">LZ4IO_frameTypeNames</span></div><div style="display: inline;"><span class="original punctuation">[</span></div><div style="display: inline;"><span class="original identifier">frameInfo</span></div><div style="display: inline;"><span class="original punctuation">.</span></div><div style="display: inline;"><span class="original identifier">frameType</span></div><div style="display: inline;"><span class="original punctuation">]</span></div><div style="display: inline;"><span class="original punctuation">,</span></div></td></tr>
<tr><td class="loc" id="loc-1585"><span class="line_nr">1585:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original literal">&quot;-&quot;</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original literal">&quot;-&quot;</span></div><div style="display: inline;"><span class="original punctuation">,</span></div></td></tr>
<tr><td class="loc" id="loc-1586"><span class="line_nr">1586:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original identifier">totalBlocksSize</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">+</span></div>&nbsp;<div style="display: inline;"><span class="original literal">4</span></div><div style="display: inline;"><span class="original punctuation">,</span></div></td></tr>
<tr><td class="loc" id="loc-1587"><span class="line_nr">1587:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original literal">&quot;-&quot;</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original literal">&quot;-&quot;</span></div><div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-1588"><span class="line_nr">1588:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original identifier">result</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">=</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">LZ4IO_LZ4F_OK</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-1589"><span class="line_nr">1589:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original punctuation">}</span></div>&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original punctuation">}</span></div></td></tr>
<tr><td class="loc" id="loc-1590"><span class="line_nr">1590:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original keyword">break</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-1591"><span class="line_nr">1591:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original keyword">case</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">LZ4IO_SKIPPABLE0</span></div><div style="display: inline;"><span class="original punctuation">:</span></div></td></tr>
<tr><td class="loc" id="loc-1592"><span class="line_nr">1592:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original identifier">frameInfo</span></div><div style="display: inline;"><span class="original punctuation">.</span></div><div style="display: inline;"><span class="original identifier">frameType</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">=</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">skippableFrame</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-1593"><span class="line_nr">1593:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original keyword">if</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">cfinfo</span></div><div style="display: inline;"><span class="original punctuation">-&gt;</span></div><div style="display: inline;"><span class="original identifier">frameSummary</span></div><div style="display: inline;"><span class="original punctuation">.</span></div><div style="display: inline;"><span class="original identifier">frameType</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">!=</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">skippableFrame</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">&amp;&amp;</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">cfinfo</span></div><div style="display: inline;"><span class="original punctuation">-&gt;</span></div><div style="display: inline;"><span class="original identifier">frameCount</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">!=</span></div>&nbsp;<div style="display: inline;"><span class="original literal">0</span></div><div style="display: inline;"><span class="original punctuation">)</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">cfinfo</span></div><div style="display: inline;"><span class="original punctuation">-&gt;</span></div><div style="display: inline;"><span class="original identifier">eqFrameTypes</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">=</span></div>&nbsp;<div style="display: inline;"><span class="original literal">0</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-1594"><span class="line_nr">1594:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original identifier">cfinfo</span></div><div style="display: inline;"><span class="original punctuation">-&gt;</span></div><div style="display: inline;"><span class="original identifier">eqBlockTypes</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">=</span></div>&nbsp;<div style="display: inline;"><span class="original literal">0</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-1595"><span class="line_nr">1595:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original identifier">cfinfo</span></div><div style="display: inline;"><span class="original punctuation">-&gt;</span></div><div style="display: inline;"><span class="original identifier">allContentSize</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">=</span></div>&nbsp;<div style="display: inline;"><span class="original literal">0</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-1596"><span class="line_nr">1596:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original punctuation">{</span></div>&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original identifier">size_t</span></div>&nbsp;<div style="display: inline;"><span class="original keyword">const</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">nbReadBytes</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">=</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">fread</span></div><div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">buffer</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original literal">1</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original literal">4</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">finput</span></div><div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-1597"><span class="line_nr">1597:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original keyword">if</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">nbReadBytes</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">!=</span></div>&nbsp;<div style="display: inline;"><span class="original literal">4</span></div><div style="display: inline;"><span class="original punctuation">)</span></div></td></tr>
<tr><td class="loc" id="loc-1598"><span class="line_nr">1598:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original identifier">EXM_THROW</span></div><div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original literal">42</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original literal">&quot;Stream error : skippable size unreadable&quot;</span></div><div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-1599"><span class="line_nr">1599:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original punctuation">}</span></div></td></tr>
<tr><td class="loc" id="loc-1600"><span class="line_nr">1600:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original punctuation">{</span></div>&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original keyword">unsigned</span></div>&nbsp;<div style="display: inline;"><span class="original keyword">const</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">size</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">=</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">LZ4IO_readLE32</span></div><div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">buffer</span></div><div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-1601"><span class="line_nr">1601:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original keyword">int</span></div>&nbsp;<div style="display: inline;"><span class="original keyword">const</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">errorNb</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">=</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">fseek_u32</span></div><div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">finput</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">size</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">SEEK_CUR</span></div><div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-1602"><span class="line_nr">1602:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original keyword">if</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">errorNb</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">!=</span></div>&nbsp;<div style="display: inline;"><span class="original literal">0</span></div><div style="display: inline;"><span class="original punctuation">)</span></div></td></tr>
<tr><td class="loc" id="loc-1603"><span class="line_nr">1603:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original identifier">EXM_THROW</span></div><div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original literal">43</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original literal">&quot;Stream error : cannot skip skippable area&quot;</span></div><div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-1604"><span class="line_nr">1604:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original identifier">DISPLAYLEVEL</span></div><div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original literal">3</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original literal">&quot;    %6llu %14s %5s %8s %20u %20s %9s\n&quot;</span></div><div style="display: inline;"><span class="original punctuation">,</span></div></td></tr>
<tr><td class="loc" id="loc-1605"><span class="line_nr">1605:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original identifier">cfinfo</span></div><div style="display: inline;"><span class="original punctuation">-&gt;</span></div><div style="display: inline;"><span class="original identifier">frameCount</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">+</span></div>&nbsp;<div style="display: inline;"><span class="original literal">1</span></div><div style="display: inline;"><span class="original punctuation">,</span></div></td></tr>
<tr><td class="loc" id="loc-1606"><span class="line_nr">1606:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original literal">&quot;SkippableFrame&quot;</span></div><div style="display: inline;"><span class="original punctuation">,</span></div></td></tr>
<tr><td class="loc" id="loc-1607"><span class="line_nr">1607:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original literal">&quot;-&quot;</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original literal">&quot;-&quot;</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">size</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">+</span></div>&nbsp;<div style="display: inline;"><span class="original literal">8</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original literal">&quot;-&quot;</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original literal">&quot;-&quot;</span></div><div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-1608"><span class="line_nr">1608:</span></td></tr>
<tr><td class="loc" id="loc-1609"><span class="line_nr">1609:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original identifier">result</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">=</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">LZ4IO_LZ4F_OK</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-1610"><span class="line_nr">1610:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original punctuation">}</span></div></td></tr>
<tr><td class="loc" id="loc-1611"><span class="line_nr">1611:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original keyword">break</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-1612"><span class="line_nr">1612:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original keyword">default</span></div><div style="display: inline;"><span class="original punctuation">:</span></div></td></tr>
<tr><td class="loc" id="loc-1613"><span class="line_nr">1613:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original punctuation">{</span></div>&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original keyword">long</span></div>&nbsp;<div style="display: inline;"><span class="original keyword">int</span></div>&nbsp;<div style="display: inline;"><span class="original keyword">const</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">position</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">=</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">ftell</span></div><div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">finput</span></div><div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original punctuation">;</span></div>&nbsp;&nbsp;<div style="display: inline;"><span class="original comment">/* only works for files &lt; 2 GB */</span></div></td></tr>
<tr><td class="loc" id="loc-1614"><span class="line_nr">1614:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original identifier">DISPLAYLEVEL</span></div><div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original literal">3</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original literal">&quot;Stream followed by undecodable data &quot;</span></div><div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-1615"><span class="line_nr">1615:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original keyword">if</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">position</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">!=</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">-</span></div><div style="display: inline;"><span class="original literal">1L</span></div><div style="display: inline;"><span class="original punctuation">)</span></div></td></tr>
<tr><td class="loc" id="loc-1616"><span class="line_nr">1616:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original identifier">DISPLAYLEVEL</span></div><div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original literal">3</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original literal">&quot;at position %i &quot;</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original keyword">int</span></div><div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original identifier">position</span></div><div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-1617"><span class="line_nr">1617:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original identifier">DISPLAYLEVEL</span></div><div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original literal">3</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original literal">&quot;\n&quot;</span></div><div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-1618"><span class="line_nr">1618:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original punctuation">}</span></div></td></tr>
<tr><td class="loc" id="loc-1619"><span class="line_nr">1619:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original keyword">break</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-1620"><span class="line_nr">1620:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original punctuation">}</span></div></td></tr>
<tr><td class="loc" id="loc-1621"><span class="line_nr">1621:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original keyword">if</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">result</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">!=</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">LZ4IO_LZ4F_OK</span></div><div style="display: inline;"><span class="original punctuation">)</span></div>&nbsp;<div style="display: inline;"><span class="original keyword">break</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-1622"><span class="line_nr">1622:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original identifier">cfinfo</span></div><div style="display: inline;"><span class="original punctuation">-&gt;</span></div><div style="display: inline;"><span class="original identifier">frameSummary</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">=</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">frameInfo</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-1623"><span class="line_nr">1623:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original identifier">cfinfo</span></div><div style="display: inline;"><span class="original punctuation">-&gt;</span></div><div style="display: inline;"><span class="original identifier">frameCount</span></div><div style="display: inline;"><span class="original punctuation">++</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-1624"><span class="line_nr">1624:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original punctuation">}</span></div>&nbsp;&nbsp;<div style="display: inline;"><span class="original comment">/* while (!feof(finput)) */</span></div></td></tr>
<tr><td class="loc" id="loc-1625"><span class="line_nr">1625:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original identifier">fclose</span></div><div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">finput</span></div><div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-1626"><span class="line_nr">1626:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original keyword">return</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">result</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-1627"><span class="line_nr">1627:</span><div style="display: inline;"><span class="original punctuation">}</span></div></td></tr>
<tr><td class="loc" id="loc-1628"><span class="line_nr">1628:</span></td></tr>
<tr><td class="loc" id="loc-1629"><span class="line_nr">1629:</span></td></tr>
<tr><td class="loc" id="loc-1630"><span class="line_nr">1630:</span><div style="display: inline;"><span class="original keyword">int</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">LZ4IO_displayCompressedFilesInfo</span></div><div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original keyword">const</span></div>&nbsp;<div style="display: inline;"><span class="original keyword">char</span></div><div style="display: inline;"><span class="original punctuation">*</span></div><div style="display: inline;"><span class="original punctuation">*</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">inFileNames</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">size_t</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">ifnIdx</span></div><div style="display: inline;"><span class="original punctuation">)</span></div></td></tr>
<tr><td class="loc" id="loc-1631"><span class="line_nr">1631:</span><div style="display: inline;"><span class="original punctuation">{</span></div></td></tr>
<tr><td class="loc" id="loc-1632"><span class="line_nr">1632:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original keyword">int</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">result</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">=</span></div>&nbsp;<div style="display: inline;"><span class="original literal">0</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-1633"><span class="line_nr">1633:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original identifier">size_t</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">idx</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">=</span></div>&nbsp;<div style="display: inline;"><span class="original literal">0</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-1634"><span class="line_nr">1634:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original keyword">if</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">g_displayLevel</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">&lt;</span></div>&nbsp;<div style="display: inline;"><span class="original literal">3</span></div><div style="display: inline;"><span class="original punctuation">)</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">{</span></div></td></tr>
<tr><td class="loc" id="loc-1635"><span class="line_nr">1635:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original identifier">DISPLAYOUT</span></div><div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original literal">&quot;%10s %14s %5s %11s %13s %9s   %s\n&quot;</span></div><div style="display: inline;"><span class="original punctuation">,</span></div></td></tr>
<tr><td class="loc" id="loc-1636"><span class="line_nr">1636:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original literal">&quot;Frames&quot;</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original literal">&quot;Type&quot;</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original literal">&quot;Block&quot;</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original literal">&quot;Compressed&quot;</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original literal">&quot;Uncompressed&quot;</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original literal">&quot;Ratio&quot;</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original literal">&quot;Filename&quot;</span></div><div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-1637"><span class="line_nr">1637:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original punctuation">}</span></div></td></tr>
<tr><td class="loc" id="loc-1638"><span class="line_nr">1638:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original keyword">for</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original punctuation">;</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">idx</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">&lt;</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">ifnIdx</span></div><div style="display: inline;"><span class="original punctuation">;</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">idx</span></div><div style="display: inline;"><span class="original punctuation">++</span></div><div style="display: inline;"><span class="original punctuation">)</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">{</span></div></td></tr>
<tr><td class="loc" id="loc-1639"><span class="line_nr">1639:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original comment">/* Get file info */</span></div></td></tr>
<tr><td class="loc" id="loc-1640"><span class="line_nr">1640:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original identifier">LZ4IO_cFileInfo_t</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">cfinfo</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">=</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">LZ4IO_INIT_CFILEINFO</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-1641"><span class="line_nr">1641:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original identifier">cfinfo</span></div><div style="display: inline;"><span class="original punctuation">.</span></div><div style="display: inline;"><span class="original identifier">fileName</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">=</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">LZ4IO_baseName</span></div><div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">inFileNames</span></div><div style="display: inline;"><span class="original punctuation">[</span></div><div style="display: inline;"><span class="original identifier">idx</span></div><div style="display: inline;"><span class="original punctuation">]</span></div><div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-1642"><span class="line_nr">1642:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original keyword">if</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original punctuation">!</span></div><div style="display: inline;"><span class="original identifier">UTIL_isRegFile</span></div><div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">inFileNames</span></div><div style="display: inline;"><span class="original punctuation">[</span></div><div style="display: inline;"><span class="original identifier">idx</span></div><div style="display: inline;"><span class="original punctuation">]</span></div><div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original punctuation">)</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">{</span></div></td></tr>
<tr><td class="loc" id="loc-1643"><span class="line_nr">1643:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original identifier">DISPLAYLEVEL</span></div><div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original literal">1</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original literal">&quot;lz4: %s is not a regular file \n&quot;</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">inFileNames</span></div><div style="display: inline;"><span class="original punctuation">[</span></div><div style="display: inline;"><span class="original identifier">idx</span></div><div style="display: inline;"><span class="original punctuation">]</span></div><div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-1644"><span class="line_nr">1644:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original keyword">return</span></div>&nbsp;<div style="display: inline;"><span class="original literal">0</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-1645"><span class="line_nr">1645:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original punctuation">}</span></div></td></tr>
<tr><td class="loc" id="loc-1646"><span class="line_nr">1646:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original identifier">DISPLAYLEVEL</span></div><div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original literal">3</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original literal">&quot;%s(%llu/%llu)\n&quot;</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">cfinfo</span></div><div style="display: inline;"><span class="original punctuation">.</span></div><div style="display: inline;"><span class="original identifier">fileName</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original keyword">unsigned</span></div>&nbsp;<div style="display: inline;"><span class="original keyword">long</span></div>&nbsp;<div style="display: inline;"><span class="original keyword">long</span></div><div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original identifier">idx</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">+</span></div>&nbsp;<div style="display: inline;"><span class="original literal">1</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original keyword">unsigned</span></div>&nbsp;&nbsp;<div style="display: inline;"><span class="original keyword">long</span></div>&nbsp;<div style="display: inline;"><span class="original keyword">long</span></div><div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original identifier">ifnIdx</span></div><div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-1647"><span class="line_nr">1647:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original identifier">DISPLAYLEVEL</span></div><div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original literal">3</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original literal">&quot;    %6s %14s %5s %8s %20s %20s %9s\n&quot;</span></div><div style="display: inline;"><span class="original punctuation">,</span></div></td></tr>
<tr><td class="loc" id="loc-1648"><span class="line_nr">1648:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original literal">&quot;Frame&quot;</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original literal">&quot;Type&quot;</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original literal">&quot;Block&quot;</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original literal">&quot;Checksum&quot;</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original literal">&quot;Compressed&quot;</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original literal">&quot;Uncompressed&quot;</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original literal">&quot;Ratio&quot;</span></div><div style="display: inline;"><span class="original punctuation">)</span></div></td></tr>
<tr><td class="loc" id="loc-1649"><span class="line_nr">1649:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original punctuation">{</span></div>&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original identifier">LZ4IO_infoResult</span></div>&nbsp;<div style="display: inline;"><span class="original keyword">const</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">op_result</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">=</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">LZ4IO_getCompressedFileInfo</span></div><div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original punctuation">&amp;</span></div><div style="display: inline;"><span class="original identifier">cfinfo</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">inFileNames</span></div><div style="display: inline;"><span class="original punctuation">[</span></div><div style="display: inline;"><span class="original identifier">idx</span></div><div style="display: inline;"><span class="original punctuation">]</span></div><div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-1650"><span class="line_nr">1650:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original keyword">if</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">op_result</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">!=</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">LZ4IO_LZ4F_OK</span></div><div style="display: inline;"><span class="original punctuation">)</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">{</span></div></td></tr>
<tr><td class="loc" id="loc-1651"><span class="line_nr">1651:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original identifier">assert</span></div><div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">op_result</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">==</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">LZ4IO_format_not_known</span></div><div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-1652"><span class="line_nr">1652:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original identifier">DISPLAYLEVEL</span></div><div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original literal">1</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original literal">&quot;lz4: %s: File format not recognized \n&quot;</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">inFileNames</span></div><div style="display: inline;"><span class="original punctuation">[</span></div><div style="display: inline;"><span class="original identifier">idx</span></div><div style="display: inline;"><span class="original punctuation">]</span></div><div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-1653"><span class="line_nr">1653:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original keyword">return</span></div>&nbsp;<div style="display: inline;"><span class="original literal">0</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-1654"><span class="line_nr">1654:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original punctuation">}</span></div>&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original punctuation">}</span></div></td></tr>
<tr><td class="loc" id="loc-1655"><span class="line_nr">1655:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original identifier">DISPLAYLEVEL</span></div><div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original literal">3</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original literal">&quot;\n&quot;</span></div><div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-1656"><span class="line_nr">1656:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original keyword">if</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">g_displayLevel</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">&lt;</span></div>&nbsp;<div style="display: inline;"><span class="original literal">3</span></div><div style="display: inline;"><span class="original punctuation">)</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">{</span></div></td></tr>
<tr><td class="loc" id="loc-1657"><span class="line_nr">1657:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original comment">/* Display Summary */</span></div></td></tr>
<tr><td class="loc" id="loc-1658"><span class="line_nr">1658:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original punctuation">{</span></div>&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original keyword">char</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">buffers</span></div><div style="display: inline;"><span class="original punctuation">[</span></div><div style="display: inline;"><span class="original literal">3</span></div><div style="display: inline;"><span class="original punctuation">]</span></div><div style="display: inline;"><span class="original punctuation">[</span></div><div style="display: inline;"><span class="original literal">10</span></div><div style="display: inline;"><span class="original punctuation">]</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-1659"><span class="line_nr">1659:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original identifier">DISPLAYOUT</span></div><div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original literal">&quot;%10llu %14s %5s %11s %13s &quot;</span></div><div style="display: inline;"><span class="original punctuation">,</span></div></td></tr>
<tr><td class="loc" id="loc-1660"><span class="line_nr">1660:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original identifier">cfinfo</span></div><div style="display: inline;"><span class="original punctuation">.</span></div><div style="display: inline;"><span class="original identifier">frameCount</span></div><div style="display: inline;"><span class="original punctuation">,</span></div></td></tr>
<tr><td class="loc" id="loc-1661"><span class="line_nr">1661:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original identifier">cfinfo</span></div><div style="display: inline;"><span class="original punctuation">.</span></div><div style="display: inline;"><span class="original identifier">eqFrameTypes</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">?</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">LZ4IO_frameTypeNames</span></div><div style="display: inline;"><span class="original punctuation">[</span></div><div style="display: inline;"><span class="original identifier">cfinfo</span></div><div style="display: inline;"><span class="original punctuation">.</span></div><div style="display: inline;"><span class="original identifier">frameSummary</span></div><div style="display: inline;"><span class="original punctuation">.</span></div><div style="display: inline;"><span class="original identifier">frameType</span></div><div style="display: inline;"><span class="original punctuation">]</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">:</span></div>&nbsp;<div style="display: inline;"><span class="original literal">&quot;-&quot;</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">,</span></div></td></tr>
<tr><td class="loc" id="loc-1662"><span class="line_nr">1662:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original identifier">cfinfo</span></div><div style="display: inline;"><span class="original punctuation">.</span></div><div style="display: inline;"><span class="original identifier">eqBlockTypes</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">?</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">LZ4IO_blockTypeID</span></div><div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">cfinfo</span></div><div style="display: inline;"><span class="original punctuation">.</span></div><div style="display: inline;"><span class="original identifier">frameSummary</span></div><div style="display: inline;"><span class="original punctuation">.</span></div><div style="display: inline;"><span class="original identifier">lz4FrameInfo</span></div><div style="display: inline;"><span class="original punctuation">.</span></div><div style="display: inline;"><span class="original identifier">blockSizeID</span></div><div style="display: inline;"><span class="original punctuation">,</span></div></td></tr>
<tr><td class="loc" id="loc-1663"><span class="line_nr">1663:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original identifier">cfinfo</span></div><div style="display: inline;"><span class="original punctuation">.</span></div><div style="display: inline;"><span class="original identifier">frameSummary</span></div><div style="display: inline;"><span class="original punctuation">.</span></div><div style="display: inline;"><span class="original identifier">lz4FrameInfo</span></div><div style="display: inline;"><span class="original punctuation">.</span></div><div style="display: inline;"><span class="original identifier">blockMode</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">buffers</span></div><div style="display: inline;"><span class="original punctuation">[</span></div><div style="display: inline;"><span class="original literal">0</span></div><div style="display: inline;"><span class="original punctuation">]</span></div><div style="display: inline;"><span class="original punctuation">)</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">:</span></div>&nbsp;<div style="display: inline;"><span class="original literal">&quot;-&quot;</span></div><div style="display: inline;"><span class="original punctuation">,</span></div></td></tr>
<tr><td class="loc" id="loc-1664"><span class="line_nr">1664:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original identifier">LZ4IO_toHuman</span></div><div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original keyword">long</span></div>&nbsp;<div style="display: inline;"><span class="original keyword">double</span></div><div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original identifier">cfinfo</span></div><div style="display: inline;"><span class="original punctuation">.</span></div><div style="display: inline;"><span class="original identifier">fileSize</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">buffers</span></div><div style="display: inline;"><span class="original punctuation">[</span></div><div style="display: inline;"><span class="original literal">1</span></div><div style="display: inline;"><span class="original punctuation">]</span></div><div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original punctuation">,</span></div></td></tr>
<tr><td class="loc" id="loc-1665"><span class="line_nr">1665:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original identifier">cfinfo</span></div><div style="display: inline;"><span class="original punctuation">.</span></div><div style="display: inline;"><span class="original identifier">allContentSize</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">?</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">LZ4IO_toHuman</span></div><div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original keyword">long</span></div>&nbsp;<div style="display: inline;"><span class="original keyword">double</span></div><div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original identifier">cfinfo</span></div><div style="display: inline;"><span class="original punctuation">.</span></div><div style="display: inline;"><span class="original identifier">frameSummary</span></div><div style="display: inline;"><span class="original punctuation">.</span></div><div style="display: inline;"><span class="original identifier">lz4FrameInfo</span></div><div style="display: inline;"><span class="original punctuation">.</span></div><div style="display: inline;"><span class="original identifier">contentSize</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">buffers</span></div><div style="display: inline;"><span class="original punctuation">[</span></div><div style="display: inline;"><span class="original literal">2</span></div><div style="display: inline;"><span class="original punctuation">]</span></div><div style="display: inline;"><span class="original punctuation">)</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">:</span></div>&nbsp;<div style="display: inline;"><span class="original literal">&quot;-&quot;</span></div><div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-1666"><span class="line_nr">1666:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original keyword">if</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original identifier">cfinfo</span></div><div style="display: inline;"><span class="original punctuation">.</span></div><div style="display: inline;"><span class="original identifier">allContentSize</span></div><div style="display: inline;"><span class="original punctuation">)</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">{</span></div></td></tr>
<tr><td class="loc" id="loc-1667"><span class="line_nr">1667:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original keyword">double</span></div>&nbsp;<div style="display: inline;"><span class="original keyword">const</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">ratio</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">=</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original keyword">double</span></div><div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original identifier">cfinfo</span></div><div style="display: inline;"><span class="original punctuation">.</span></div><div style="display: inline;"><span class="original identifier">fileSize</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">/</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">cfinfo</span></div><div style="display: inline;"><span class="original punctuation">.</span></div><div style="display: inline;"><span class="original identifier">frameSummary</span></div><div style="display: inline;"><span class="original punctuation">.</span></div><div style="display: inline;"><span class="original identifier">lz4FrameInfo</span></div><div style="display: inline;"><span class="original punctuation">.</span></div><div style="display: inline;"><span class="original identifier">contentSize</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">*</span></div>&nbsp;<div style="display: inline;"><span class="original literal">100</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-1668"><span class="line_nr">1668:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original identifier">DISPLAYOUT</span></div><div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original literal">&quot;%9.2f%%  %s \n&quot;</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">ratio</span></div><div style="display: inline;"><span class="original punctuation">,</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">cfinfo</span></div><div style="display: inline;"><span class="original punctuation">.</span></div><div style="display: inline;"><span class="original identifier">fileName</span></div><div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-1669"><span class="line_nr">1669:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original punctuation">}</span></div>&nbsp;<div style="display: inline;"><span class="original keyword">else</span></div>&nbsp;<div style="display: inline;"><span class="original punctuation">{</span></div></td></tr>
<tr><td class="loc" id="loc-1670"><span class="line_nr">1670:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original identifier">DISPLAYOUT</span></div><div style="display: inline;"><span class="original punctuation">(</span></div><div style="display: inline;"><span class="original literal">&quot;%9s   %s\n&quot;</span></div><div style="display: inline;"><span class="original punctuation">,</span></div></td></tr>
<tr><td class="loc" id="loc-1671"><span class="line_nr">1671:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original literal">&quot;-&quot;</span></div><div style="display: inline;"><span class="original punctuation">,</span></div></td></tr>
<tr><td class="loc" id="loc-1672"><span class="line_nr">1672:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original identifier">cfinfo</span></div><div style="display: inline;"><span class="original punctuation">.</span></div><div style="display: inline;"><span class="original identifier">fileName</span></div><div style="display: inline;"><span class="original punctuation">)</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-1673"><span class="line_nr">1673:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original punctuation">}</span></div>&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original punctuation">}</span></div>&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original punctuation">}</span></div>&nbsp;&nbsp;<div style="display: inline;"><span class="original comment">/* if (g_displayLevel &lt; 3) */</span></div></td></tr>
<tr><td class="loc" id="loc-1674"><span class="line_nr">1674:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original punctuation">}</span></div>&nbsp;&nbsp;<div style="display: inline;"><span class="original comment">/* for (; idx &lt; ifnIdx; idx++) */</span></div></td></tr>
<tr><td class="loc" id="loc-1675"><span class="line_nr">1675:</span></td></tr>
<tr><td class="loc" id="loc-1676"><span class="line_nr">1676:</span>&nbsp;&nbsp;&nbsp;&nbsp;<div style="display: inline;"><span class="original keyword">return</span></div>&nbsp;<div style="display: inline;"><span class="original identifier">result</span></div><div style="display: inline;"><span class="original punctuation">;</span></div></td></tr>
<tr><td class="loc" id="loc-1677"><span class="line_nr">1677:</span><div style="display: inline;"><span class="original punctuation">}</span></div></td></tr>
</table>
<script>
const MAX_NUM_TESTCASES = 0;
const g_mutids = [];
const g_mut_st_map = ['unknown','killed','alive','killedByCompiler','timeout','noCoverage'];
const g_mut_kind_map = ['none','rorLT','rorLE','rorGT','rorGE','rorEQ','rorNE','lcrAnd','lcrOr','aorMul','aorDiv','aorRem','aorAdd','aorSub','aorMulAssign','aorDivAssign','aorRemAssign','aorAddAssign','aorSubAssign','uoiPostInc','uoiPostDec','uoiPreInc','uoiPreDec','uoiAddress','uoiIndirection','uoiPositive','uoiNegative','uoiComplement','uoiNegation','uoiSizeof_','absPos','absNeg','absZero','stmtDel','corAnd','corOr','corFalse','corLhs','corRhs','corEQ','corNE','corTrue','rorTrue','rorFalse','dcrTrue','dcrFalse','dcrBomb','dcrCaseDel','rorpLT','rorpLE','rorpGT','rorpGE','rorpEQ','rorpNE','lcrbAnd','lcrbOr','lcrbAndAssign','lcrbOrAssign','lcrbLhs','lcrbRhs','lcrLhs','lcrRhs','lcrTrue','lcrFalse','aorLhs','aorRhs','uoiDel','dcrReturnTrue','dcrReturnFalse','aorsMul','aorsDiv','aorsAdd','aorsSub','aorsMulAssign','aorsDivAssign','aorsAddAssign','aorsSubAssign'];
const g_mut_kindGroup_map = ['all','ror','rorp','lcr','aor','uoi','sdl','dcr','lcrb','aors'];
var g_testcases_kills = {}
var g_muts_data = {};
g_muts_data[-1] = {'kind' : null, 'status' : null, 'testCases' : null, 'orgText' : null, 'mutText' : null, 'meta' : null};
</script></body>
</html>